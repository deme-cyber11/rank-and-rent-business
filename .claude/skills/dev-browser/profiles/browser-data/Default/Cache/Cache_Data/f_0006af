import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/pages/data/merchant-center/product-table.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9303f522"; const Fragment = __vite__cjsImport0_react_jsxDevRuntime["Fragment"]; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9303f522"; const useState = __vite__cjsImport3_react["useState"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { ChevronDown, ChevronRight, ExternalLink, Search } from "/node_modules/.vite/deps/lucide-react.js?v=9303f522";
import { Card, CardDescription, CardHeader, CardTitle } from "/src/components/ui/card.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { Button } from "/src/components/ui/button.tsx";
import { Input } from "/src/components/ui/input.tsx";
import { Table, TableBody, TableCell, TableHeadCell, TableHeader, TableRow } from "/src/components/ui/table.tsx";
import { ProductIssueDetails } from "/src/pages/data/merchant-center/product-issue-details.tsx";
import { formatCurrency } from "/src/lib/utils.ts";
const STATUS_BADGE_VARIANT = {
  approved: "success",
  pending: "warning",
  disapproved: "danger"
};
export function ProductTable({ products, onFetchIssues }) {
  _s();
  const [statusFilter, setStatusFilter] = useState("all");
  const [searchQuery, setSearchQuery] = useState("");
  const [sortField, setSortField] = useState("updated");
  const [sortDirection, setSortDirection] = useState("desc");
  const [expandedProductId, setExpandedProductId] = useState(null);
  const [productIssues, setProductIssues] = useState({});
  const [loadingIssues, setLoadingIssues] = useState(/* @__PURE__ */ new Set());
  const filteredAndSortedProducts = useMemo(() => {
    let filtered = products;
    if (statusFilter !== "all") {
      filtered = filtered.filter((p) => p.status === statusFilter);
    }
    if (searchQuery.trim()) {
      const query = searchQuery.toLowerCase();
      filtered = filtered.filter(
        (p) => p.productTitle.toLowerCase().includes(query) || p.gmcProductId.toLowerCase().includes(query)
      );
    }
    const sorted = [...filtered].sort((a, b) => {
      let comparison = 0;
      switch (sortField) {
        case "title":
          comparison = a.productTitle.localeCompare(b.productTitle);
          break;
        case "status":
          comparison = a.status.localeCompare(b.status);
          break;
        case "updated":
          comparison = new Date(a.updatedAt).getTime() - new Date(b.updatedAt).getTime();
          break;
        case "issues":
          comparison = (a.activeIssueCount || 0) - (b.activeIssueCount || 0);
          break;
      }
      return sortDirection === "asc" ? comparison : -comparison;
    });
    return sorted;
  }, [products, statusFilter, searchQuery, sortField, sortDirection]);
  const handleSort = (field) => {
    if (sortField === field) {
      setSortDirection(sortDirection === "asc" ? "desc" : "asc");
    } else {
      setSortField(field);
      setSortDirection("desc");
    }
  };
  const handleToggleExpand = async (productId) => {
    if (expandedProductId === productId) {
      setExpandedProductId(null);
      return;
    }
    setExpandedProductId(productId);
    if (!productIssues[productId]) {
      setLoadingIssues((prev) => new Set(prev).add(productId));
      try {
        const issues = await onFetchIssues(productId);
        setProductIssues((prev) => ({ ...prev, [productId]: issues }));
      } catch (error) {
        console.error("Failed to fetch issues:", error);
        setProductIssues((prev) => ({ ...prev, [productId]: [] }));
      } finally {
        setLoadingIssues((prev) => {
          const next = new Set(prev);
          next.delete(productId);
          return next;
        });
      }
    }
  };
  return /* @__PURE__ */ jsxDEV(Card, { children: [
    /* @__PURE__ */ jsxDEV(CardHeader, { children: /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4", children: [
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV(CardTitle, { children: "Products" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 138,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(CardDescription, { children: [
          filteredAndSortedProducts.length,
          " of ",
          products.length,
          " products"
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 139,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 137,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col sm:flex-row gap-3", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
          /* @__PURE__ */ jsxDEV(Search, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 147,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            Input,
            {
              type: "text",
              placeholder: "Search products...",
              value: searchQuery,
              onChange: (e) => setSearchQuery(e.target.value),
              className: "pl-9 w-full sm:w-64"
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 148,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 146,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "select",
          {
            value: statusFilter,
            onChange: (e) => setStatusFilter(e.target.value),
            className: "h-10 rounded-md border border-border bg-card px-3 text-sm shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary",
            children: [
              /* @__PURE__ */ jsxDEV("option", { value: "all", children: "All Status" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 163,
                columnNumber: 15
              }, this),
              /* @__PURE__ */ jsxDEV("option", { value: "approved", children: "Approved" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 164,
                columnNumber: 15
              }, this),
              /* @__PURE__ */ jsxDEV("option", { value: "pending", children: "Pending" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 165,
                columnNumber: 15
              }, this),
              /* @__PURE__ */ jsxDEV("option", { value: "disapproved", children: "Disapproved" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 166,
                columnNumber: 15
              }, this)
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 158,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 144,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
      lineNumber: 136,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
      lineNumber: 135,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "overflow-x-auto", children: /* @__PURE__ */ jsxDEV(Table, { children: [
      /* @__PURE__ */ jsxDEV(TableHeader, { children: /* @__PURE__ */ jsxDEV(TableRow, { children: [
        /* @__PURE__ */ jsxDEV(TableHeadCell, { className: "w-10" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 176,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV(TableHeadCell, { className: "w-16", children: "Image" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 177,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV(
          TableHeadCell,
          {
            className: "cursor-pointer hover:bg-muted/50",
            onClick: () => handleSort("title"),
            children: [
              "Product Title ",
              sortField === "title" && (sortDirection === "asc" ? "↑" : "↓")
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 178,
            columnNumber: 15
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          TableHeadCell,
          {
            className: "cursor-pointer hover:bg-muted/50",
            onClick: () => handleSort("status"),
            children: [
              "Status ",
              sortField === "status" && (sortDirection === "asc" ? "↑" : "↓")
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 184,
            columnNumber: 15
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(
          TableHeadCell,
          {
            className: "cursor-pointer hover:bg-muted/50 text-right",
            onClick: () => handleSort("issues"),
            children: [
              "Issues ",
              sortField === "issues" && (sortDirection === "asc" ? "↑" : "↓")
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 190,
            columnNumber: 15
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(TableHeadCell, { className: "text-right", children: "Price" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 196,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV(
          TableHeadCell,
          {
            className: "cursor-pointer hover:bg-muted/50",
            onClick: () => handleSort("updated"),
            children: [
              "Last Updated ",
              sortField === "updated" && (sortDirection === "asc" ? "↑" : "↓")
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 197,
            columnNumber: 15
          },
          this
        ),
        /* @__PURE__ */ jsxDEV(TableHeadCell, { className: "w-24", children: "Actions" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 203,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 175,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 174,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(TableBody, { children: filteredAndSortedProducts.length === 0 ? /* @__PURE__ */ jsxDEV(TableRow, { children: /* @__PURE__ */ jsxDEV(TableCell, { colSpan: 8, className: "text-center py-8 text-muted-foreground", children: "No products found" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 209,
        columnNumber: 17
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 208,
        columnNumber: 13
      }, this) : filteredAndSortedProducts.map((product) => {
        const isExpanded = expandedProductId === product.id;
        const isLoadingIssues = loadingIssues.has(product.id);
        return /* @__PURE__ */ jsxDEV(Fragment, { children: [
          /* @__PURE__ */ jsxDEV(TableRow, { className: "hover:bg-muted/50", children: [
            /* @__PURE__ */ jsxDEV(TableCell, { children: /* @__PURE__ */ jsxDEV(
              "button",
              {
                onClick: () => handleToggleExpand(product.id),
                className: "p-1 hover:bg-muted rounded",
                children: isExpanded ? /* @__PURE__ */ jsxDEV(ChevronDown, { className: "h-4 w-4" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                  lineNumber: 227,
                  columnNumber: 25
                }, this) : /* @__PURE__ */ jsxDEV(ChevronRight, { className: "h-4 w-4" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                  lineNumber: 229,
                  columnNumber: 25
                }, this)
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 222,
                columnNumber: 25
              },
              this
            ) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 221,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { children: product.imageLink ? /* @__PURE__ */ jsxDEV(
              "img",
              {
                src: product.imageLink,
                alt: product.productTitle,
                className: "h-12 w-12 object-cover rounded border border-border"
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 235,
                columnNumber: 23
              },
              this
            ) : /* @__PURE__ */ jsxDEV("div", { className: "h-12 w-12 bg-muted rounded border border-border flex items-center justify-center text-xs text-muted-foreground", children: "No image" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 241,
              columnNumber: 23
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 233,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { className: "font-medium max-w-md truncate", children: product.productTitle }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 246,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { children: /* @__PURE__ */ jsxDEV(Badge, { variant: STATUS_BADGE_VARIANT[product.status], children: product.status }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 250,
              columnNumber: 25
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 249,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right", children: product.activeIssueCount ? /* @__PURE__ */ jsxDEV("span", { className: "text-red-600 font-medium", children: product.activeIssueCount }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 256,
              columnNumber: 23
            }, this) : /* @__PURE__ */ jsxDEV("span", { className: "text-muted-foreground", children: "0" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 260,
              columnNumber: 23
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 254,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right", children: product.price ? formatCurrency(product.price) : "-" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 263,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { className: "text-sm text-muted-foreground", children: new Date(product.updatedAt).toLocaleDateString("en-US", {
              month: "short",
              day: "numeric"
            }) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 266,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV(TableCell, { children: /* @__PURE__ */ jsxDEV(
              Button,
              {
                size: "sm",
                variant: "ghost",
                asChild: true,
                children: /* @__PURE__ */ jsxDEV(
                  "a",
                  {
                    href: `https://merchants.google.com/mc/products/diagnostics?itemId=${product.gmcProductId}`,
                    target: "_blank",
                    rel: "noopener noreferrer",
                    children: /* @__PURE__ */ jsxDEV(ExternalLink, { className: "h-4 w-4" }, void 0, false, {
                      fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                      lineNumber: 283,
                      columnNumber: 29
                    }, this)
                  },
                  void 0,
                  false,
                  {
                    fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                    lineNumber: 278,
                    columnNumber: 27
                  },
                  this
                )
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
                lineNumber: 273,
                columnNumber: 25
              },
              this
            ) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 272,
              columnNumber: 23
            }, this)
          ] }, product.id, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 220,
            columnNumber: 21
          }, this),
          isExpanded && /* @__PURE__ */ jsxDEV(TableRow, { children: /* @__PURE__ */ jsxDEV(TableCell, { colSpan: 8, className: "p-0", children: isLoadingIssues ? /* @__PURE__ */ jsxDEV("div", { className: "p-4 text-sm text-muted-foreground", children: "Loading issues..." }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 294,
            columnNumber: 23
          }, this) : /* @__PURE__ */ jsxDEV(
            ProductIssueDetails,
            {
              issues: productIssues[product.id] || [],
              productTitle: product.productTitle,
              gmcProductId: product.gmcProductId
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
              lineNumber: 298,
              columnNumber: 23
            },
            this
          ) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 292,
            columnNumber: 25
          }, this) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
            lineNumber: 291,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
          lineNumber: 219,
          columnNumber: 17
        }, this);
      }) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
        lineNumber: 206,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
      lineNumber: 173,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
      lineNumber: 172,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx",
    lineNumber: 134,
    columnNumber: 5
  }, this);
}
_s(ProductTable, "/KI3YzNKrgbXbPe6rakVN15hafI=");
_c = ProductTable;
var _c;
$RefreshReg$(_c, "ProductTable");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/pages/data/merchant-center/product-table.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QTtBQUFBO0FBQUE7QUFBQSxhQXlHQTtBQUFBLFNBMUlGO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0EySUEsS0E1SUY7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQTZJQTtBQUFBLE9BbkxGO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0FvTEE7QUFFSjtBQUFDMUIsR0EvUWVILGNBQVk7QUFBQWtFLEtBQVpsRTtBQUFZLElBQUFrRTtBQUFBQyxhQUFBRCxJQUFBIiwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VNZW1vIiwiQ2hldnJvbkRvd24iLCJDaGV2cm9uUmlnaHQiLCJFeHRlcm5hbExpbmsiLCJTZWFyY2giLCJDYXJkIiwiQ2FyZERlc2NyaXB0aW9uIiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkJhZGdlIiwiQnV0dG9uIiwiSW5wdXQiLCJUYWJsZSIsIlRhYmxlQm9keSIsIlRhYmxlQ2VsbCIsIlRhYmxlSGVhZENlbGwiLCJUYWJsZUhlYWRlciIsIlRhYmxlUm93IiwiUHJvZHVjdElzc3VlRGV0YWlscyIsImZvcm1hdEN1cnJlbmN5IiwiU1RBVFVTX0JBREdFX1ZBUklBTlQiLCJhcHByb3ZlZCIsInBlbmRpbmciLCJkaXNhcHByb3ZlZCIsIlByb2R1Y3RUYWJsZSIsInByb2R1Y3RzIiwib25GZXRjaElzc3VlcyIsIl9zIiwic3RhdHVzRmlsdGVyIiwic2V0U3RhdHVzRmlsdGVyIiwic2VhcmNoUXVlcnkiLCJzZXRTZWFyY2hRdWVyeSIsInNvcnRGaWVsZCIsInNldFNvcnRGaWVsZCIsInNvcnREaXJlY3Rpb24iLCJzZXRTb3J0RGlyZWN0aW9uIiwiZXhwYW5kZWRQcm9kdWN0SWQiLCJzZXRFeHBhbmRlZFByb2R1Y3RJZCIsInByb2R1Y3RJc3N1ZXMiLCJzZXRQcm9kdWN0SXNzdWVzIiwibG9hZGluZ0lzc3VlcyIsInNldExvYWRpbmdJc3N1ZXMiLCJTZXQiLCJmaWx0ZXJlZEFuZFNvcnRlZFByb2R1Y3RzIiwiZmlsdGVyZWQiLCJmaWx0ZXIiLCJwIiwic3RhdHVzIiwidHJpbSIsInF1ZXJ5IiwidG9Mb3dlckNhc2UiLCJwcm9kdWN0VGl0bGUiLCJpbmNsdWRlcyIsImdtY1Byb2R1Y3RJZCIsInNvcnRlZCIsInNvcnQiLCJhIiwiYiIsImNvbXBhcmlzb24iLCJsb2NhbGVDb21wYXJlIiwiRGF0ZSIsInVwZGF0ZWRBdCIsImdldFRpbWUiLCJhY3RpdmVJc3N1ZUNvdW50IiwiaGFuZGxlU29ydCIsImZpZWxkIiwiaGFuZGxlVG9nZ2xlRXhwYW5kIiwicHJvZHVjdElkIiwicHJldiIsImFkZCIsImlzc3VlcyIsImVycm9yIiwiY29uc29sZSIsIm5leHQiLCJkZWxldGUiLCJsZW5ndGgiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJtYXAiLCJwcm9kdWN0IiwiaXNFeHBhbmRlZCIsImlkIiwiaXNMb2FkaW5nSXNzdWVzIiwiaGFzIiwiaW1hZ2VMaW5rIiwicHJpY2UiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJtb250aCIsImRheSIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbInByb2R1Y3QtdGFibGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IENoZXZyb25Eb3duLCBDaGV2cm9uUmlnaHQsIEV4dGVybmFsTGluaywgU2VhcmNoIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkRGVzY3JpcHRpb24sIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvY2FyZFwiO1xyXG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIjtcclxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCI7XHJcbmltcG9ydCB7IFRhYmxlLCBUYWJsZUJvZHksIFRhYmxlQ2VsbCwgVGFibGVIZWFkQ2VsbCwgVGFibGVIZWFkZXIsIFRhYmxlUm93IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS90YWJsZVwiO1xyXG5pbXBvcnQgeyBNZXJjaGFudENlbnRlclByb2R1Y3QsIE1lcmNoYW50Q2VudGVySXNzdWUgfSBmcm9tIFwiQC9saWIvZGF0YS9tZXJjaGFudC1jZW50ZXJcIjtcclxuaW1wb3J0IHsgUHJvZHVjdElzc3VlRGV0YWlscyB9IGZyb20gXCIuL3Byb2R1Y3QtaXNzdWUtZGV0YWlsc1wiO1xyXG5pbXBvcnQgeyBmb3JtYXRDdXJyZW5jeSB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xyXG5cclxudHlwZSBQcm9kdWN0VGFibGVQcm9wcyA9IHtcclxuICBwcm9kdWN0czogTWVyY2hhbnRDZW50ZXJQcm9kdWN0W107XHJcbiAgb25GZXRjaElzc3VlczogKHByb2R1Y3RJZDogc3RyaW5nKSA9PiBQcm9taXNlPE1lcmNoYW50Q2VudGVySXNzdWVbXT47XHJcbn07XHJcblxyXG50eXBlIFNvcnRGaWVsZCA9IFwidGl0bGVcIiB8IFwic3RhdHVzXCIgfCBcInVwZGF0ZWRcIiB8IFwiaXNzdWVzXCI7XHJcbnR5cGUgU29ydERpcmVjdGlvbiA9IFwiYXNjXCIgfCBcImRlc2NcIjtcclxuXHJcbmNvbnN0IFNUQVRVU19CQURHRV9WQVJJQU5UID0ge1xyXG4gIGFwcHJvdmVkOiBcInN1Y2Nlc3NcIiBhcyBjb25zdCxcclxuICBwZW5kaW5nOiBcIndhcm5pbmdcIiBhcyBjb25zdCxcclxuICBkaXNhcHByb3ZlZDogXCJkYW5nZXJcIiBhcyBjb25zdCxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQcm9kdWN0VGFibGUoeyBwcm9kdWN0cywgb25GZXRjaElzc3VlcyB9OiBQcm9kdWN0VGFibGVQcm9wcykge1xyXG4gIGNvbnN0IFtzdGF0dXNGaWx0ZXIsIHNldFN0YXR1c0ZpbHRlcl0gPSB1c2VTdGF0ZTxcImFsbFwiIHwgXCJhcHByb3ZlZFwiIHwgXCJwZW5kaW5nXCIgfCBcImRpc2FwcHJvdmVkXCI+KFwiYWxsXCIpO1xyXG4gIGNvbnN0IFtzZWFyY2hRdWVyeSwgc2V0U2VhcmNoUXVlcnldID0gdXNlU3RhdGUoXCJcIik7XHJcbiAgY29uc3QgW3NvcnRGaWVsZCwgc2V0U29ydEZpZWxkXSA9IHVzZVN0YXRlPFNvcnRGaWVsZD4oXCJ1cGRhdGVkXCIpO1xyXG4gIGNvbnN0IFtzb3J0RGlyZWN0aW9uLCBzZXRTb3J0RGlyZWN0aW9uXSA9IHVzZVN0YXRlPFNvcnREaXJlY3Rpb24+KFwiZGVzY1wiKTtcclxuICBjb25zdCBbZXhwYW5kZWRQcm9kdWN0SWQsIHNldEV4cGFuZGVkUHJvZHVjdElkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtwcm9kdWN0SXNzdWVzLCBzZXRQcm9kdWN0SXNzdWVzXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIE1lcmNoYW50Q2VudGVySXNzdWVbXT4+KHt9KTtcclxuICBjb25zdCBbbG9hZGluZ0lzc3Vlcywgc2V0TG9hZGluZ0lzc3Vlc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuXHJcbiAgLy8gRmlsdGVyIGFuZCBzb3J0IHByb2R1Y3RzXHJcbiAgY29uc3QgZmlsdGVyZWRBbmRTb3J0ZWRQcm9kdWN0cyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgbGV0IGZpbHRlcmVkID0gcHJvZHVjdHM7XHJcblxyXG4gICAgLy8gQXBwbHkgc3RhdHVzIGZpbHRlclxyXG4gICAgaWYgKHN0YXR1c0ZpbHRlciAhPT0gXCJhbGxcIikge1xyXG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihwID0+IHAuc3RhdHVzID09PSBzdGF0dXNGaWx0ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwcGx5IHNlYXJjaCBmaWx0ZXJcclxuICAgIGlmIChzZWFyY2hRdWVyeS50cmltKCkpIHtcclxuICAgICAgY29uc3QgcXVlcnkgPSBzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihwID0+XHJcbiAgICAgICAgcC5wcm9kdWN0VGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSkgfHxcclxuICAgICAgICBwLmdtY1Byb2R1Y3RJZC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNvcnRcclxuICAgIGNvbnN0IHNvcnRlZCA9IFsuLi5maWx0ZXJlZF0uc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICBsZXQgY29tcGFyaXNvbiA9IDA7XHJcblxyXG4gICAgICBzd2l0Y2ggKHNvcnRGaWVsZCkge1xyXG4gICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxyXG4gICAgICAgICAgY29tcGFyaXNvbiA9IGEucHJvZHVjdFRpdGxlLmxvY2FsZUNvbXBhcmUoYi5wcm9kdWN0VGl0bGUpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInN0YXR1c1wiOlxyXG4gICAgICAgICAgY29tcGFyaXNvbiA9IGEuc3RhdHVzLmxvY2FsZUNvbXBhcmUoYi5zdGF0dXMpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInVwZGF0ZWRcIjpcclxuICAgICAgICAgIGNvbXBhcmlzb24gPSBuZXcgRGF0ZShhLnVwZGF0ZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYi51cGRhdGVkQXQpLmdldFRpbWUoKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJpc3N1ZXNcIjpcclxuICAgICAgICAgIGNvbXBhcmlzb24gPSAoYS5hY3RpdmVJc3N1ZUNvdW50IHx8IDApIC0gKGIuYWN0aXZlSXNzdWVDb3VudCB8fCAwKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gc29ydERpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IGNvbXBhcmlzb24gOiAtY29tcGFyaXNvbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBzb3J0ZWQ7XHJcbiAgfSwgW3Byb2R1Y3RzLCBzdGF0dXNGaWx0ZXIsIHNlYXJjaFF1ZXJ5LCBzb3J0RmllbGQsIHNvcnREaXJlY3Rpb25dKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlU29ydCA9IChmaWVsZDogU29ydEZpZWxkKSA9PiB7XHJcbiAgICBpZiAoc29ydEZpZWxkID09PSBmaWVsZCkge1xyXG4gICAgICBzZXRTb3J0RGlyZWN0aW9uKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcImRlc2NcIiA6IFwiYXNjXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0U29ydEZpZWxkKGZpZWxkKTtcclxuICAgICAgc2V0U29ydERpcmVjdGlvbihcImRlc2NcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlVG9nZ2xlRXhwYW5kID0gYXN5bmMgKHByb2R1Y3RJZDogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoZXhwYW5kZWRQcm9kdWN0SWQgPT09IHByb2R1Y3RJZCkge1xyXG4gICAgICBzZXRFeHBhbmRlZFByb2R1Y3RJZChudWxsKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEV4cGFuZGVkUHJvZHVjdElkKHByb2R1Y3RJZCk7XHJcblxyXG4gICAgLy8gRmV0Y2ggaXNzdWVzIGlmIG5vdCBhbHJlYWR5IGxvYWRlZFxyXG4gICAgaWYgKCFwcm9kdWN0SXNzdWVzW3Byb2R1Y3RJZF0pIHtcclxuICAgICAgc2V0TG9hZGluZ0lzc3VlcyhwcmV2ID0+IG5ldyBTZXQocHJldikuYWRkKHByb2R1Y3RJZCkpO1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGlzc3VlcyA9IGF3YWl0IG9uRmV0Y2hJc3N1ZXMocHJvZHVjdElkKTtcclxuICAgICAgICBzZXRQcm9kdWN0SXNzdWVzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Byb2R1Y3RJZF06IGlzc3VlcyB9KSk7XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCBpc3N1ZXM6XCIsIGVycm9yKTtcclxuICAgICAgICBzZXRQcm9kdWN0SXNzdWVzKHByZXYgPT4gKHsgLi4ucHJldiwgW3Byb2R1Y3RJZF06IFtdIH0pKTtcclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBzZXRMb2FkaW5nSXNzdWVzKHByZXYgPT4ge1xyXG4gICAgICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgICAgICBuZXh0LmRlbGV0ZShwcm9kdWN0SWQpO1xyXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPENhcmQ+XHJcbiAgICAgIDxDYXJkSGVhZGVyPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBzbTppdGVtcy1jZW50ZXIgc206anVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XHJcbiAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICA8Q2FyZFRpdGxlPlByb2R1Y3RzPC9DYXJkVGl0bGU+XHJcbiAgICAgICAgICAgIDxDYXJkRGVzY3JpcHRpb24+XHJcbiAgICAgICAgICAgICAge2ZpbHRlcmVkQW5kU29ydGVkUHJvZHVjdHMubGVuZ3RofSBvZiB7cHJvZHVjdHMubGVuZ3RofSBwcm9kdWN0c1xyXG4gICAgICAgICAgICA8L0NhcmREZXNjcmlwdGlvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtM1wiPlxyXG4gICAgICAgICAgICB7LyogU2VhcmNoICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiAtdHJhbnNsYXRlLXktMS8yIGgtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cclxuICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2VhcmNoIHByb2R1Y3RzLi4uXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGwtOSB3LWZ1bGwgc206dy02NFwiXHJcbiAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogU3RhdHVzIEZpbHRlciAqL31cclxuICAgICAgICAgICAgPHNlbGVjdFxyXG4gICAgICAgICAgICAgIHZhbHVlPXtzdGF0dXNGaWx0ZXJ9XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTdGF0dXNGaWx0ZXIoZS50YXJnZXQudmFsdWUgYXMgdHlwZW9mIHN0YXR1c0ZpbHRlcil9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC0xMCByb3VuZGVkLW1kIGJvcmRlciBib3JkZXItYm9yZGVyIGJnLWNhcmQgcHgtMyB0ZXh0LXNtIHNoYWRvdy1zbSBmb2N1cy12aXNpYmxlOm91dGxpbmUtbm9uZSBmb2N1cy12aXNpYmxlOnJpbmctMiBmb2N1cy12aXNpYmxlOnJpbmctcHJpbWFyeVwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYWxsXCI+QWxsIFN0YXR1czwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhcHByb3ZlZFwiPkFwcHJvdmVkPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInBlbmRpbmdcIj5QZW5kaW5nPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImRpc2FwcHJvdmVkXCI+RGlzYXBwcm92ZWQ8L29wdGlvbj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9DYXJkSGVhZGVyPlxyXG5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG9cIj5cclxuICAgICAgICA8VGFibGU+XHJcbiAgICAgICAgICA8VGFibGVIZWFkZXI+XHJcbiAgICAgICAgICAgIDxUYWJsZVJvdz5cclxuICAgICAgICAgICAgICA8VGFibGVIZWFkQ2VsbCBjbGFzc05hbWU9XCJ3LTEwXCI+PC9UYWJsZUhlYWRDZWxsPlxyXG4gICAgICAgICAgICAgIDxUYWJsZUhlYWRDZWxsIGNsYXNzTmFtZT1cInctMTZcIj5JbWFnZTwvVGFibGVIZWFkQ2VsbD5cclxuICAgICAgICAgICAgICA8VGFibGVIZWFkQ2VsbFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctbXV0ZWQvNTBcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydChcInRpdGxlXCIpfVxyXG4gICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgIFByb2R1Y3QgVGl0bGUge3NvcnRGaWVsZCA9PT0gXCJ0aXRsZVwiICYmIChzb3J0RGlyZWN0aW9uID09PSBcImFzY1wiID8gXCLihpFcIiA6IFwi4oaTXCIpfVxyXG4gICAgICAgICAgICAgIDwvVGFibGVIZWFkQ2VsbD5cclxuICAgICAgICAgICAgICA8VGFibGVIZWFkQ2VsbFxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctbXV0ZWQvNTBcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydChcInN0YXR1c1wiKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBTdGF0dXMge3NvcnRGaWVsZCA9PT0gXCJzdGF0dXNcIiAmJiAoc29ydERpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IFwi4oaRXCIgOiBcIuKGk1wiKX1cclxuICAgICAgICAgICAgICA8L1RhYmxlSGVhZENlbGw+XHJcbiAgICAgICAgICAgICAgPFRhYmxlSGVhZENlbGxcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIGhvdmVyOmJnLW11dGVkLzUwIHRleHQtcmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydChcImlzc3Vlc1wiKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBJc3N1ZXMge3NvcnRGaWVsZCA9PT0gXCJpc3N1ZXNcIiAmJiAoc29ydERpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IFwi4oaRXCIgOiBcIuKGk1wiKX1cclxuICAgICAgICAgICAgICA8L1RhYmxlSGVhZENlbGw+XHJcbiAgICAgICAgICAgICAgPFRhYmxlSGVhZENlbGwgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlByaWNlPC9UYWJsZUhlYWRDZWxsPlxyXG4gICAgICAgICAgICAgIDxUYWJsZUhlYWRDZWxsXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1tdXRlZC81MFwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KFwidXBkYXRlZFwiKX1cclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICBMYXN0IFVwZGF0ZWQge3NvcnRGaWVsZCA9PT0gXCJ1cGRhdGVkXCIgJiYgKHNvcnREaXJlY3Rpb24gPT09IFwiYXNjXCIgPyBcIuKGkVwiIDogXCLihpNcIil9XHJcbiAgICAgICAgICAgICAgPC9UYWJsZUhlYWRDZWxsPlxyXG4gICAgICAgICAgICAgIDxUYWJsZUhlYWRDZWxsIGNsYXNzTmFtZT1cInctMjRcIj5BY3Rpb25zPC9UYWJsZUhlYWRDZWxsPlxyXG4gICAgICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICAgICAgPC9UYWJsZUhlYWRlcj5cclxuICAgICAgICAgIDxUYWJsZUJvZHk+XHJcbiAgICAgICAgICAgIHtmaWx0ZXJlZEFuZFNvcnRlZFByb2R1Y3RzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICA8VGFibGVSb3c+XHJcbiAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNvbFNwYW49ezh9IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHB5LTggdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgIE5vIHByb2R1Y3RzIGZvdW5kXHJcbiAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgIGZpbHRlcmVkQW5kU29ydGVkUHJvZHVjdHMubWFwKChwcm9kdWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0V4cGFuZGVkID0gZXhwYW5kZWRQcm9kdWN0SWQgPT09IHByb2R1Y3QuaWQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpc0xvYWRpbmdJc3N1ZXMgPSBsb2FkaW5nSXNzdWVzLmhhcyhwcm9kdWN0LmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICA8PlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZVJvdyBrZXk9e3Byb2R1Y3QuaWR9IGNsYXNzTmFtZT1cImhvdmVyOmJnLW11dGVkLzUwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVG9nZ2xlRXhwYW5kKHByb2R1Y3QuaWQpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMSBob3ZlcjpiZy1tdXRlZCByb3VuZGVkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0V4cGFuZGVkID8gKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENoZXZyb25Eb3duIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2hldnJvblJpZ2h0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvZHVjdC5pbWFnZUxpbmsgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtwcm9kdWN0LmltYWdlTGlua31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cHJvZHVjdC5wcm9kdWN0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTEyIHctMTIgb2JqZWN0LWNvdmVyIHJvdW5kZWQgYm9yZGVyIGJvcmRlci1ib3JkZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTEyIHctMTIgYmctbXV0ZWQgcm91bmRlZCBib3JkZXIgYm9yZGVyLWJvcmRlciBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTm8gaW1hZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYXgtdy1tZCB0cnVuY2F0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cHJvZHVjdC5wcm9kdWN0VGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PXtTVEFUVVNfQkFER0VfVkFSSUFOVFtwcm9kdWN0LnN0YXR1c119PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LnN0YXR1c31cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtwcm9kdWN0LmFjdGl2ZUlzc3VlQ291bnQgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGZvbnQtbWVkaXVtXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZHVjdC5hY3RpdmVJc3N1ZUNvdW50fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIj4wPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge3Byb2R1Y3QucHJpY2UgPyBmb3JtYXRDdXJyZW5jeShwcm9kdWN0LnByaWNlKSA6IFwiLVwifVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShwcm9kdWN0LnVwZGF0ZWRBdCkudG9Mb2NhbGVEYXRlU3RyaW5nKFwiZW4tVVNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoOiBcInNob3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXNDaGlsZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e2BodHRwczovL21lcmNoYW50cy5nb29nbGUuY29tL21jL3Byb2R1Y3RzL2RpYWdub3N0aWNzP2l0ZW1JZD0ke3Byb2R1Y3QuZ21jUHJvZHVjdElkfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEV4dGVybmFsTGluayBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgey8qIEV4cGFuZGVkIHJvdyB3aXRoIGlzc3VlIGRldGFpbHMgKi99XHJcbiAgICAgICAgICAgICAgICAgICAge2lzRXhwYW5kZWQgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNvbFNwYW49ezh9IGNsYXNzTmFtZT1cInAtMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc0xvYWRpbmdJc3N1ZXMgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCB0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2FkaW5nIGlzc3Vlcy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9kdWN0SXNzdWVEZXRhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3Vlcz17cHJvZHVjdElzc3Vlc1twcm9kdWN0LmlkXSB8fCBbXX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRpdGxlPXtwcm9kdWN0LnByb2R1Y3RUaXRsZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ21jUHJvZHVjdElkPXtwcm9kdWN0LmdtY1Byb2R1Y3RJZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgIDwvPlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9UYWJsZUJvZHk+XHJcbiAgICAgICAgPC9UYWJsZT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L0NhcmQ+XHJcbiAgKTtcclxufVxyXG4iXSwiZmlsZSI6IkM6L1Byb2plY3RzL1NvdXJjZSA0IEluZHVzdHJpZXMvc3JjL3BhZ2VzL2RhdGEvbWVyY2hhbnQtY2VudGVyL3Byb2R1Y3QtdGFibGUudHN4In0=