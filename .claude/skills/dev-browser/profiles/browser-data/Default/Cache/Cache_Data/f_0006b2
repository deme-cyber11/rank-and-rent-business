import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/pricing/pricing-preview-table.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9303f522"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9303f522"; const useState = __vite__cjsImport3_react["useState"]; const useMemo = __vite__cjsImport3_react["useMemo"]; const useRef = __vite__cjsImport3_react["useRef"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useCallback = __vite__cjsImport3_react["useCallback"];
import { ArrowUp, ArrowDown, ArrowUpDown, Pencil } from "/node_modules/.vite/deps/lucide-react.js?v=9303f522";
import { Table, TableHeader, TableBody, TableRow, TableCell, TableHeadCell } from "/src/components/ui/table.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { Card } from "/src/components/ui/card.tsx";
import { cn } from "/src/lib/utils.ts";
export function PricingPreviewTable({
  records,
  errorSkus = /* @__PURE__ */ new Set(),
  warningSkus = /* @__PURE__ */ new Set(),
  maxRows = 1e3,
  editable = false,
  onRecordChange
}) {
  _s();
  const [sortConfig, setSortConfig] = useState({ column: null, direction: null });
  const [editingCell, setEditingCell] = useState(null);
  const [editValue, setEditValue] = useState("");
  const [editedSkus, setEditedSkus] = useState(/* @__PURE__ */ new Set());
  const inputRef = useRef(null);
  const sortedRecords = useMemo(() => {
    if (!sortConfig.column || !sortConfig.direction) {
      return records;
    }
    return [...records].sort((a, b) => {
      const column = sortConfig.column;
      let aVal;
      let bVal;
      switch (column) {
        case "sku":
          aVal = a.sku;
          bVal = b.sku;
          break;
        case "productTitle":
          aVal = a.productTitle;
          bVal = b.productTitle;
          break;
        case "currentPrice":
          aVal = a.currentPrice;
          bVal = b.currentPrice;
          break;
        case "newPrice":
          aVal = a.newPrice;
          bVal = b.newPrice;
          break;
        case "priceChange":
          aVal = a.priceChange;
          bVal = b.priceChange;
          break;
        case "priceChangePercent":
          aVal = a.priceChangePercent;
          bVal = b.priceChangePercent;
          break;
        default:
          return 0;
      }
      if (aVal == null) return sortConfig.direction === "asc" ? 1 : -1;
      if (bVal == null) return sortConfig.direction === "asc" ? -1 : 1;
      if (typeof aVal === "number" && typeof bVal === "number") {
        return sortConfig.direction === "asc" ? aVal - bVal : bVal - aVal;
      }
      const aStr = String(aVal).toLowerCase();
      const bStr = String(bVal).toLowerCase();
      return sortConfig.direction === "asc" ? aStr.localeCompare(bStr) : bStr.localeCompare(aStr);
    });
  }, [records, sortConfig]);
  const displayRecords = useMemo(() => {
    return sortedRecords.slice(0, maxRows);
  }, [sortedRecords, maxRows]);
  const summary = useMemo(() => {
    const total = records.length;
    const valid = records.filter((r) => !errorSkus.has(r.sku)).length;
    const invalid = errorSkus.size;
    const warnings = warningSkus.size;
    const increases = records.filter((r) => r.priceChange > 0).length;
    const decreases = records.filter((r) => r.priceChange < 0).length;
    const unchanged = records.filter((r) => r.priceChange === 0).length;
    const avgChangePercent = records.length > 0 ? records.reduce((sum, r) => sum + r.priceChangePercent, 0) / records.length : 0;
    return {
      total,
      valid,
      invalid,
      warnings,
      increases,
      decreases,
      unchanged,
      avgChangePercent
    };
  }, [records, errorSkus, warningSkus]);
  const handleSort = (column) => {
    setSortConfig((prev) => {
      if (prev.column === column) {
        if (prev.direction === "asc") {
          return { column, direction: "desc" };
        } else if (prev.direction === "desc") {
          return { column: null, direction: null };
        }
      }
      return { column, direction: "asc" };
    });
  };
  const SortableHeader = ({
    column,
    label,
    align = "left"
  }) => {
    const isActive = sortConfig.column === column;
    const alignClass = align === "right" ? "text-right" : align === "center" ? "text-center" : "text-left";
    return /* @__PURE__ */ jsxDEV(
      TableHeadCell,
      {
        className: cn(
          "cursor-pointer hover:bg-muted/50 select-none transition-colors",
          alignClass
        ),
        onClick: () => handleSort(column),
        children: /* @__PURE__ */ jsxDEV("div", { className: cn(
          "flex items-center gap-1",
          align === "right" && "justify-end",
          align === "center" && "justify-center"
        ), children: [
          /* @__PURE__ */ jsxDEV("span", { children: label }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 192,
            columnNumber: 11
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "w-4 h-4 flex items-center justify-center", children: isActive ? sortConfig.direction === "asc" ? /* @__PURE__ */ jsxDEV(ArrowUp, { className: "h-3.5 w-3.5 text-primary" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 196,
            columnNumber: 13
          }, this) : /* @__PURE__ */ jsxDEV(ArrowDown, { className: "h-3.5 w-3.5 text-primary" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 198,
            columnNumber: 13
          }, this) : /* @__PURE__ */ jsxDEV(ArrowUpDown, { className: "h-3.5 w-3.5 text-muted-foreground/50" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 201,
            columnNumber: 13
          }, this) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 193,
            columnNumber: 11
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 187,
          columnNumber: 9
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 180,
        columnNumber: 7
      },
      this
    );
  };
  const formatCurrency = (value) => {
    return new Intl.NumberFormat("en-US", {
      style: "currency",
      currency: "USD",
      minimumFractionDigits: 2,
      maximumFractionDigits: 2
    }).format(value);
  };
  const formatPercent = (value) => {
    return `${(value * 100).toFixed(1)}%`;
  };
  const getRowStatus = (record) => {
    if (errorSkus.has(record.sku)) return "error";
    if (warningSkus.has(record.sku)) return "warning";
    return "valid";
  };
  const getStatusBadge = (status) => {
    switch (status) {
      case "error":
        return /* @__PURE__ */ jsxDEV(Badge, { variant: "danger", children: "Error" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 231,
          columnNumber: 16
        }, this);
      case "warning":
        return /* @__PURE__ */ jsxDEV(Badge, { variant: "warning", children: "Warning" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 233,
          columnNumber: 16
        }, this);
      case "valid":
        return /* @__PURE__ */ jsxDEV(Badge, { variant: "success", children: "Valid" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 235,
          columnNumber: 16
        }, this);
    }
  };
  useEffect(() => {
    if (editingCell && inputRef.current) {
      inputRef.current.focus();
      inputRef.current.select();
    }
  }, [editingCell]);
  const startEditing = useCallback((record, originalIndex) => {
    if (!editable) return;
    setEditingCell({ sku: record.sku, originalIndex });
    setEditValue(record.newPrice.toFixed(2));
  }, [editable]);
  const cancelEditing = useCallback(() => {
    setEditingCell(null);
    setEditValue("");
  }, []);
  const saveEdit = useCallback(() => {
    if (!editingCell || !onRecordChange) {
      cancelEditing();
      return;
    }
    const newPrice = parseFloat(editValue);
    if (isNaN(newPrice) || newPrice < 0) {
      cancelEditing();
      return;
    }
    const roundedNewPrice = Math.round(newPrice * 100) / 100;
    const record = records[editingCell.originalIndex];
    if (!record) {
      cancelEditing();
      return;
    }
    const priceChange = Math.round((roundedNewPrice - record.currentPrice) * 100) / 100;
    const priceChangePercent = record.currentPrice !== 0 ? Math.round(priceChange / record.currentPrice * 1e4) / 1e4 : 0;
    const updatedRecord = {
      ...record,
      newPrice: roundedNewPrice,
      priceChange,
      priceChangePercent
    };
    setEditedSkus((prev) => new Set(prev).add(record.sku));
    onRecordChange(editingCell.originalIndex, updatedRecord);
    cancelEditing();
  }, [editingCell, editValue, records, onRecordChange, cancelEditing]);
  const handleKeyDown = useCallback((e) => {
    if (e.key === "Enter") {
      e.preventDefault();
      saveEdit();
    } else if (e.key === "Escape") {
      e.preventDefault();
      cancelEditing();
    }
  }, [saveEdit, cancelEditing]);
  const EditablePriceCell = ({
    record,
    originalIndex
  }) => {
    const isEditing = editingCell?.sku === record.sku;
    const isEdited = editedSkus.has(record.sku);
    if (isEditing) {
      return /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right p-1", children: /* @__PURE__ */ jsxDEV(
        "input",
        {
          ref: inputRef,
          type: "text",
          inputMode: "decimal",
          value: editValue,
          onChange: (e) => setEditValue(e.target.value),
          onBlur: saveEdit,
          onKeyDown: handleKeyDown,
          className: cn(
            "w-full px-2 py-1 text-right font-mono font-semibold",
            "bg-background border border-primary rounded",
            "focus:outline-none focus:ring-2 focus:ring-primary/50",
            "text-sm"
          ),
          "aria-label": "Edit new price"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 333,
          columnNumber: 11
        },
        this
      ) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 332,
        columnNumber: 9
      }, this);
    }
    return /* @__PURE__ */ jsxDEV(
      TableCell,
      {
        className: cn(
          "text-right font-mono font-semibold group relative cursor-pointer",
          "transition-colors hover:bg-muted/50",
          isEdited && "bg-blue-50 dark:bg-blue-950/30 border-l-2 border-l-blue-500"
        ),
        onClick: () => startEditing(record, originalIndex),
        role: "button",
        tabIndex: 0,
        onKeyDown: (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            startEditing(record, originalIndex);
          }
        },
        "aria-label": `Edit price ${formatCurrency(record.newPrice)}`,
        children: [
          /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-end gap-1", children: [
            /* @__PURE__ */ jsxDEV("span", { children: formatCurrency(record.newPrice) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
              lineNumber: 372,
              columnNumber: 11
            }, this),
            /* @__PURE__ */ jsxDEV(Pencil, { className: "h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
              lineNumber: 373,
              columnNumber: 11
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 371,
            columnNumber: 9
          }, this),
          isEdited && /* @__PURE__ */ jsxDEV("span", { className: "absolute -top-1 -right-1", children: /* @__PURE__ */ jsxDEV(Badge, { variant: "secondary", className: "text-[10px] px-1 py-0 leading-tight", children: "Edited" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 377,
            columnNumber: 13
          }, this) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 376,
            columnNumber: 9
          }, this)
        ]
      },
      void 0,
      true,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 354,
        columnNumber: 7
      },
      this
    );
  };
  const ReadOnlyPriceCell = ({ record }) => /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right font-mono font-semibold", children: formatCurrency(record.newPrice) }, void 0, false, {
    fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
    lineNumber: 388,
    columnNumber: 3
  }, this);
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3", children: [
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-2xl font-bold text-foreground", children: summary.total }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 398,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Total" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 399,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 397,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-2xl font-bold text-success", children: summary.valid }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 402,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Valid" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 403,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 401,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-2xl font-bold text-danger", children: summary.invalid }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 406,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Errors" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 407,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 405,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-2xl font-bold text-warning", children: summary.warnings }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 410,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Warnings" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 411,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 409,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-2xl font-bold text-primary", children: [
          summary.increases,
          "/",
          summary.decreases
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 414,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Up/Down" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 417,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 413,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(Card, { padding: "sm", className: "text-center", children: [
        /* @__PURE__ */ jsxDEV("div", { className: cn(
          "text-2xl font-bold",
          summary.avgChangePercent > 0 ? "text-success" : summary.avgChangePercent < 0 ? "text-danger" : "text-muted-foreground"
        ), children: formatPercent(summary.avgChangePercent) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 420,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground uppercase tracking-wide", children: "Avg Change" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 426,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 419,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
      lineNumber: 396,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "rounded-lg border border-border overflow-hidden", children: /* @__PURE__ */ jsxDEV("div", { className: "overflow-x-auto max-h-[600px] overflow-y-auto", children: /* @__PURE__ */ jsxDEV(Table, { children: [
      /* @__PURE__ */ jsxDEV(TableHeader, { children: /* @__PURE__ */ jsxDEV("tr", { children: [
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "sku", label: "SKU" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 436,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "productTitle", label: "Product Title" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 437,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "currentPrice", label: "Current Price", align: "right" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 438,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "newPrice", label: "New Price", align: "right" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 439,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "priceChange", label: "Change ($)", align: "right" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 440,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(SortableHeader, { column: "priceChangePercent", label: "Change (%)", align: "right" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 441,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV(TableHeadCell, { className: "text-center", children: "Status" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 442,
          columnNumber: 17
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 435,
        columnNumber: 15
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 434,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV(TableBody, { children: displayRecords.length === 0 ? /* @__PURE__ */ jsxDEV(TableRow, { children: /* @__PURE__ */ jsxDEV(TableCell, { colSpan: 7, className: "text-center text-muted-foreground py-8", children: "No pricing data to display" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 448,
        columnNumber: 19
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 447,
        columnNumber: 15
      }, this) : displayRecords.map((record, idx) => {
        const status = getRowStatus(record);
        const originalIndex = records.findIndex((r) => r.sku === record.sku && r.rowNumber === record.rowNumber);
        const rowClassName = cn(
          status === "error" && "bg-danger/5 hover:bg-danger/10",
          status === "warning" && "bg-warning/5 hover:bg-warning/10"
        );
        return /* @__PURE__ */ jsxDEV(TableRow, { className: rowClassName, children: [
          /* @__PURE__ */ jsxDEV(TableCell, { className: "font-mono text-xs", children: record.sku }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 464,
            columnNumber: 23
          }, this),
          /* @__PURE__ */ jsxDEV(TableCell, { className: "max-w-xs truncate", title: record.productTitle, children: [
            record.productTitle,
            record.variantTitle && record.variantTitle !== "Default Title" && /* @__PURE__ */ jsxDEV("span", { className: "text-muted-foreground text-xs ml-1", children: [
              "(",
              record.variantTitle,
              ")"
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
              lineNumber: 468,
              columnNumber: 23
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 465,
            columnNumber: 23
          }, this),
          /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right font-mono", children: formatCurrency(record.currentPrice) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 473,
            columnNumber: 23
          }, this),
          editable ? /* @__PURE__ */ jsxDEV(EditablePriceCell, { record, originalIndex }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 477,
            columnNumber: 21
          }, this) : /* @__PURE__ */ jsxDEV(ReadOnlyPriceCell, { record }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 479,
            columnNumber: 21
          }, this),
          /* @__PURE__ */ jsxDEV(TableCell, { className: cn(
            "text-right font-mono",
            record.priceChange > 0 && "text-success",
            record.priceChange < 0 && "text-danger"
          ), children: [
            record.priceChange > 0 && "+",
            formatCurrency(record.priceChange)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 481,
            columnNumber: 23
          }, this),
          /* @__PURE__ */ jsxDEV(TableCell, { className: cn(
            "text-right font-mono",
            record.priceChangePercent > 0 && "text-success",
            record.priceChangePercent < 0 && "text-danger"
          ), children: [
            record.priceChangePercent > 0 && "+",
            formatPercent(record.priceChangePercent)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 489,
            columnNumber: 23
          }, this),
          /* @__PURE__ */ jsxDEV(TableCell, { className: "text-center", children: getStatusBadge(status) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
            lineNumber: 497,
            columnNumber: 23
          }, this)
        ] }, `${record.sku}-${idx}`, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
          lineNumber: 463,
          columnNumber: 19
        }, this);
      }) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
        lineNumber: 445,
        columnNumber: 13
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
      lineNumber: 433,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
      lineNumber: 432,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
      lineNumber: 431,
      columnNumber: 7
    }, this),
    sortedRecords.length > maxRows && /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground text-center", children: [
      "Showing ",
      maxRows,
      " of ",
      sortedRecords.length,
      " records. Use sorting and filtering to view specific items."
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
      lineNumber: 511,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx",
    lineNumber: 394,
    columnNumber: 5
  }, this);
}
_s(PricingPreviewTable, "GVwrLqFyFVAsPguV3iYOZTTS64w=");
_c = PricingPreviewTable;
var _c;
$RefreshReg$(_c, "PricingPreviewTable");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/components/pricing/pricing-preview-table.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QSxNQUVKLENBQUMsS0F6REw7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQTJEQTtBQUFBLFNBdkVGO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0F3RUEsS0F6RUY7QUFBQTtBQUFBO0FBQUE7QUFBQSxXQTBFQSxLQTNFRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBNEVBO0FBQUEsSUFHQ2pGLGNBQWNxQixTQUFTbkMsV0FDdEIsdUJBQUMsT0FBRSxXQUFVLDZDQUE0QztBQUFBO0FBQUEsTUFDOUNBO0FBQUFBLE1BQVE7QUFBQSxNQUFLYyxjQUFjcUI7QUFBQUEsTUFBTztBQUFBLFNBRDdDO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0FHQTtBQUFBLE9BeEhKO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0EwSEE7QUFFSjtBQUFDNUQsR0FwZGVvQixxQkFBbUI7QUFBQXlHLEtBQW5Cekc7QUFBbUIsSUFBQXlHO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJfcyIsIiRSZWZyZXNoU2lnJCIsInVzZVN0YXRlIiwidXNlTWVtbyIsInVzZVJlZiIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwiQXJyb3dVcCIsIkFycm93RG93biIsIkFycm93VXBEb3duIiwiUGVuY2lsIiwiVGFibGUiLCJUYWJsZUhlYWRlciIsIlRhYmxlQm9keSIsIlRhYmxlUm93IiwiVGFibGVDZWxsIiwiVGFibGVIZWFkQ2VsbCIsIkJhZGdlIiwiQ2FyZCIsImNuIiwiUHJpY2luZ1ByZXZpZXdUYWJsZSIsInJlY29yZHMiLCJlcnJvclNrdXMiLCJTZXQiLCJ3YXJuaW5nU2t1cyIsIm1heFJvd3MiLCJlZGl0YWJsZSIsIm9uUmVjb3JkQ2hhbmdlIiwic29ydENvbmZpZyIsInNldFNvcnRDb25maWciLCJjb2x1bW4iLCJkaXJlY3Rpb24iLCJlZGl0aW5nQ2VsbCIsInNldEVkaXRpbmdDZWxsIiwiZWRpdFZhbHVlIiwic2V0RWRpdFZhbHVlIiwiZWRpdGVkU2t1cyIsInNldEVkaXRlZFNrdXMiLCJpbnB1dFJlZiIsInNvcnRlZFJlY29yZHMiLCJzb3J0IiwiYSIsImIiLCJhVmFsIiwiYlZhbCIsInNrdSIsInByb2R1Y3RUaXRsZSIsImN1cnJlbnRQcmljZSIsIm5ld1ByaWNlIiwicHJpY2VDaGFuZ2UiLCJwcmljZUNoYW5nZVBlcmNlbnQiLCJhU3RyIiwiU3RyaW5nIiwidG9Mb3dlckNhc2UiLCJiU3RyIiwibG9jYWxlQ29tcGFyZSIsImRpc3BsYXlSZWNvcmRzIiwic2xpY2UiLCJzdW1tYXJ5IiwidG90YWwiLCJsZW5ndGgiLCJ2YWxpZCIsImZpbHRlciIsInIiLCJoYXMiLCJpbnZhbGlkIiwic2l6ZSIsIndhcm5pbmdzIiwiaW5jcmVhc2VzIiwiZGVjcmVhc2VzIiwidW5jaGFuZ2VkIiwiYXZnQ2hhbmdlUGVyY2VudCIsInJlZHVjZSIsInN1bSIsImhhbmRsZVNvcnQiLCJwcmV2IiwiU29ydGFibGVIZWFkZXIiLCJsYWJlbCIsImFsaWduIiwiaXNBY3RpdmUiLCJhbGlnbkNsYXNzIiwiZm9ybWF0Q3VycmVuY3kiLCJ2YWx1ZSIsIkludGwiLCJOdW1iZXJGb3JtYXQiLCJzdHlsZSIsImN1cnJlbmN5IiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZm9ybWF0IiwiZm9ybWF0UGVyY2VudCIsInRvRml4ZWQiLCJnZXRSb3dTdGF0dXMiLCJyZWNvcmQiLCJnZXRTdGF0dXNCYWRnZSIsInN0YXR1cyIsImN1cnJlbnQiLCJmb2N1cyIsInNlbGVjdCIsInN0YXJ0RWRpdGluZyIsIm9yaWdpbmFsSW5kZXgiLCJjYW5jZWxFZGl0aW5nIiwic2F2ZUVkaXQiLCJwYXJzZUZsb2F0IiwiaXNOYU4iLCJyb3VuZGVkTmV3UHJpY2UiLCJNYXRoIiwicm91bmQiLCJ1cGRhdGVkUmVjb3JkIiwiYWRkIiwiaGFuZGxlS2V5RG93biIsImUiLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsIkVkaXRhYmxlUHJpY2VDZWxsIiwiaXNFZGl0aW5nIiwiaXNFZGl0ZWQiLCJ0YXJnZXQiLCJSZWFkT25seVByaWNlQ2VsbCIsIm1hcCIsImlkeCIsImZpbmRJbmRleCIsInJvd051bWJlciIsInJvd0NsYXNzTmFtZSIsInZhcmlhbnRUaXRsZSIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbInByaWNpbmctcHJldmlldy10YWJsZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlTWVtbywgdXNlUmVmLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IEFycm93VXAsIEFycm93RG93biwgQXJyb3dVcERvd24sIFBlbmNpbCB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcclxuaW1wb3J0IHsgVGFibGUsIFRhYmxlSGVhZGVyLCBUYWJsZUJvZHksIFRhYmxlUm93LCBUYWJsZUNlbGwsIFRhYmxlSGVhZENlbGwgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RhYmxlXCI7XHJcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XHJcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XHJcbmltcG9ydCB7IHR5cGUgUHJpY2VVcGRhdGVSZWNvcmQgfSBmcm9tIFwiQC9saWIvcHJpY2luZy1wcm9jZXNzb3JcIjtcclxuXHJcbnR5cGUgU29ydENvbHVtbiA9IFwic2t1XCIgfCBcInByb2R1Y3RUaXRsZVwiIHwgXCJjdXJyZW50UHJpY2VcIiB8IFwibmV3UHJpY2VcIiB8IFwicHJpY2VDaGFuZ2VcIiB8IFwicHJpY2VDaGFuZ2VQZXJjZW50XCI7XHJcbnR5cGUgU29ydERpcmVjdGlvbiA9IFwiYXNjXCIgfCBcImRlc2NcIiB8IG51bGw7XHJcblxyXG5pbnRlcmZhY2UgU29ydENvbmZpZyB7XHJcbiAgY29sdW1uOiBTb3J0Q29sdW1uIHwgbnVsbDtcclxuICBkaXJlY3Rpb246IFNvcnREaXJlY3Rpb247XHJcbn1cclxuXHJcbmludGVyZmFjZSBQcmljaW5nUHJldmlld1RhYmxlUHJvcHMge1xyXG4gIHJlY29yZHM6IFByaWNlVXBkYXRlUmVjb3JkW107XHJcbiAgZXJyb3JTa3VzPzogU2V0PHN0cmluZz47XHJcbiAgd2FybmluZ1NrdXM/OiBTZXQ8c3RyaW5nPjtcclxuICBtYXhSb3dzPzogbnVtYmVyO1xyXG4gIGVkaXRhYmxlPzogYm9vbGVhbjtcclxuICBvblJlY29yZENoYW5nZT86IChpbmRleDogbnVtYmVyLCB1cGRhdGVkUmVjb3JkOiBQcmljZVVwZGF0ZVJlY29yZCkgPT4gdm9pZDtcclxufVxyXG5cclxuLyoqIFRyYWNrIHdoaWNoIHJlY29yZHMgaGF2ZSBiZWVuIG1hbnVhbGx5IGVkaXRlZCBieSB0aGVpciBTS1UgKi9cclxudHlwZSBFZGl0ZWRTa3VzID0gU2V0PHN0cmluZz47XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJpY2luZ1ByZXZpZXdUYWJsZSh7XHJcbiAgcmVjb3JkcyxcclxuICBlcnJvclNrdXMgPSBuZXcgU2V0KCksXHJcbiAgd2FybmluZ1NrdXMgPSBuZXcgU2V0KCksXHJcbiAgbWF4Um93cyA9IDEwMDAsXHJcbiAgZWRpdGFibGUgPSBmYWxzZSxcclxuICBvblJlY29yZENoYW5nZVxyXG59OiBQcmljaW5nUHJldmlld1RhYmxlUHJvcHMpIHtcclxuICBjb25zdCBbc29ydENvbmZpZywgc2V0U29ydENvbmZpZ10gPSB1c2VTdGF0ZTxTb3J0Q29uZmlnPih7IGNvbHVtbjogbnVsbCwgZGlyZWN0aW9uOiBudWxsIH0pO1xyXG4gIGNvbnN0IFtlZGl0aW5nQ2VsbCwgc2V0RWRpdGluZ0NlbGxdID0gdXNlU3RhdGU8eyBza3U6IHN0cmluZzsgb3JpZ2luYWxJbmRleDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZWRpdFZhbHVlLCBzZXRFZGl0VmFsdWVdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKTtcclxuICBjb25zdCBbZWRpdGVkU2t1cywgc2V0RWRpdGVkU2t1c10gPSB1c2VTdGF0ZTxFZGl0ZWRTa3VzPihuZXcgU2V0KCkpO1xyXG4gIGNvbnN0IGlucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xyXG5cclxuICAvLyBTb3J0IGRhdGEgYmFzZWQgb24gY3VycmVudCBzb3J0IGNvbmZpZ3VyYXRpb25cclxuICBjb25zdCBzb3J0ZWRSZWNvcmRzID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBpZiAoIXNvcnRDb25maWcuY29sdW1uIHx8ICFzb3J0Q29uZmlnLmRpcmVjdGlvbikge1xyXG4gICAgICByZXR1cm4gcmVjb3JkcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gWy4uLnJlY29yZHNdLnNvcnQoKGEsIGIpID0+IHtcclxuICAgICAgY29uc3QgY29sdW1uID0gc29ydENvbmZpZy5jb2x1bW4hO1xyXG4gICAgICBsZXQgYVZhbDogc3RyaW5nIHwgbnVtYmVyO1xyXG4gICAgICBsZXQgYlZhbDogc3RyaW5nIHwgbnVtYmVyO1xyXG5cclxuICAgICAgc3dpdGNoIChjb2x1bW4pIHtcclxuICAgICAgICBjYXNlIFwic2t1XCI6XHJcbiAgICAgICAgICBhVmFsID0gYS5za3U7XHJcbiAgICAgICAgICBiVmFsID0gYi5za3U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwicHJvZHVjdFRpdGxlXCI6XHJcbiAgICAgICAgICBhVmFsID0gYS5wcm9kdWN0VGl0bGU7XHJcbiAgICAgICAgICBiVmFsID0gYi5wcm9kdWN0VGl0bGU7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiY3VycmVudFByaWNlXCI6XHJcbiAgICAgICAgICBhVmFsID0gYS5jdXJyZW50UHJpY2U7XHJcbiAgICAgICAgICBiVmFsID0gYi5jdXJyZW50UHJpY2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibmV3UHJpY2VcIjpcclxuICAgICAgICAgIGFWYWwgPSBhLm5ld1ByaWNlO1xyXG4gICAgICAgICAgYlZhbCA9IGIubmV3UHJpY2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwicHJpY2VDaGFuZ2VcIjpcclxuICAgICAgICAgIGFWYWwgPSBhLnByaWNlQ2hhbmdlO1xyXG4gICAgICAgICAgYlZhbCA9IGIucHJpY2VDaGFuZ2U7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwicHJpY2VDaGFuZ2VQZXJjZW50XCI6XHJcbiAgICAgICAgICBhVmFsID0gYS5wcmljZUNoYW5nZVBlcmNlbnQ7XHJcbiAgICAgICAgICBiVmFsID0gYi5wcmljZUNoYW5nZVBlcmNlbnQ7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEhhbmRsZSBudWxsL3VuZGVmaW5lZFxyXG4gICAgICBpZiAoYVZhbCA9PSBudWxsKSByZXR1cm4gc29ydENvbmZpZy5kaXJlY3Rpb24gPT09IFwiYXNjXCIgPyAxIDogLTE7XHJcbiAgICAgIGlmIChiVmFsID09IG51bGwpIHJldHVybiBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IC0xIDogMTtcclxuXHJcbiAgICAgIC8vIENvbXBhcmUgdmFsdWVzXHJcbiAgICAgIGlmICh0eXBlb2YgYVZhbCA9PT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgYlZhbCA9PT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgIHJldHVybiBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IGFWYWwgLSBiVmFsIDogYlZhbCAtIGFWYWw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFTdHIgPSBTdHJpbmcoYVZhbCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgY29uc3QgYlN0ciA9IFN0cmluZyhiVmFsKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICByZXR1cm4gc29ydENvbmZpZy5kaXJlY3Rpb24gPT09IFwiYXNjXCJcclxuICAgICAgICA/IGFTdHIubG9jYWxlQ29tcGFyZShiU3RyKVxyXG4gICAgICAgIDogYlN0ci5sb2NhbGVDb21wYXJlKGFTdHIpO1xyXG4gICAgfSk7XHJcbiAgfSwgW3JlY29yZHMsIHNvcnRDb25maWddKTtcclxuXHJcbiAgLy8gRGlzcGxheSByZWNvcmRzIChsaW1pdGVkIGJ5IG1heFJvd3MpXHJcbiAgY29uc3QgZGlzcGxheVJlY29yZHMgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiBzb3J0ZWRSZWNvcmRzLnNsaWNlKDAsIG1heFJvd3MpO1xyXG4gIH0sIFtzb3J0ZWRSZWNvcmRzLCBtYXhSb3dzXSk7XHJcblxyXG4gIC8vIENhbGN1bGF0ZSBzdW1tYXJ5IHN0YXRzXHJcbiAgY29uc3Qgc3VtbWFyeSA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgdG90YWwgPSByZWNvcmRzLmxlbmd0aDtcclxuICAgIGNvbnN0IHZhbGlkID0gcmVjb3Jkcy5maWx0ZXIociA9PiAhZXJyb3JTa3VzLmhhcyhyLnNrdSkpLmxlbmd0aDtcclxuICAgIGNvbnN0IGludmFsaWQgPSBlcnJvclNrdXMuc2l6ZTtcclxuICAgIGNvbnN0IHdhcm5pbmdzID0gd2FybmluZ1NrdXMuc2l6ZTtcclxuXHJcbiAgICBjb25zdCBpbmNyZWFzZXMgPSByZWNvcmRzLmZpbHRlcihyID0+IHIucHJpY2VDaGFuZ2UgPiAwKS5sZW5ndGg7XHJcbiAgICBjb25zdCBkZWNyZWFzZXMgPSByZWNvcmRzLmZpbHRlcihyID0+IHIucHJpY2VDaGFuZ2UgPCAwKS5sZW5ndGg7XHJcbiAgICBjb25zdCB1bmNoYW5nZWQgPSByZWNvcmRzLmZpbHRlcihyID0+IHIucHJpY2VDaGFuZ2UgPT09IDApLmxlbmd0aDtcclxuXHJcbiAgICBjb25zdCBhdmdDaGFuZ2VQZXJjZW50ID0gcmVjb3Jkcy5sZW5ndGggPiAwXHJcbiAgICAgID8gcmVjb3Jkcy5yZWR1Y2UoKHN1bSwgcikgPT4gc3VtICsgci5wcmljZUNoYW5nZVBlcmNlbnQsIDApIC8gcmVjb3Jkcy5sZW5ndGhcclxuICAgICAgOiAwO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsLFxyXG4gICAgICB2YWxpZCxcclxuICAgICAgaW52YWxpZCxcclxuICAgICAgd2FybmluZ3MsXHJcbiAgICAgIGluY3JlYXNlcyxcclxuICAgICAgZGVjcmVhc2VzLFxyXG4gICAgICB1bmNoYW5nZWQsXHJcbiAgICAgIGF2Z0NoYW5nZVBlcmNlbnQsXHJcbiAgICB9O1xyXG4gIH0sIFtyZWNvcmRzLCBlcnJvclNrdXMsIHdhcm5pbmdTa3VzXSk7XHJcblxyXG4gIGNvbnN0IGhhbmRsZVNvcnQgPSAoY29sdW1uOiBTb3J0Q29sdW1uKSA9PiB7XHJcbiAgICBzZXRTb3J0Q29uZmlnKHByZXYgPT4ge1xyXG4gICAgICBpZiAocHJldi5jb2x1bW4gPT09IGNvbHVtbikge1xyXG4gICAgICAgIC8vIEN5Y2xlIHRocm91Z2g6IGFzYyAtPiBkZXNjIC0+IG51bGxcclxuICAgICAgICBpZiAocHJldi5kaXJlY3Rpb24gPT09IFwiYXNjXCIpIHtcclxuICAgICAgICAgIHJldHVybiB7IGNvbHVtbiwgZGlyZWN0aW9uOiBcImRlc2NcIiB9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAocHJldi5kaXJlY3Rpb24gPT09IFwiZGVzY1wiKSB7XHJcbiAgICAgICAgICByZXR1cm4geyBjb2x1bW46IG51bGwsIGRpcmVjdGlvbjogbnVsbCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4geyBjb2x1bW4sIGRpcmVjdGlvbjogXCJhc2NcIiB9O1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgU29ydGFibGVIZWFkZXIgPSAoe1xyXG4gICAgY29sdW1uLFxyXG4gICAgbGFiZWwsXHJcbiAgICBhbGlnbiA9IFwibGVmdFwiXHJcbiAgfToge1xyXG4gICAgY29sdW1uOiBTb3J0Q29sdW1uO1xyXG4gICAgbGFiZWw6IHN0cmluZztcclxuICAgIGFsaWduPzogXCJsZWZ0XCIgfCBcInJpZ2h0XCIgfCBcImNlbnRlclwiO1xyXG4gIH0pID0+IHtcclxuICAgIGNvbnN0IGlzQWN0aXZlID0gc29ydENvbmZpZy5jb2x1bW4gPT09IGNvbHVtbjtcclxuICAgIGNvbnN0IGFsaWduQ2xhc3MgPSBhbGlnbiA9PT0gXCJyaWdodFwiID8gXCJ0ZXh0LXJpZ2h0XCIgOiBhbGlnbiA9PT0gXCJjZW50ZXJcIiA/IFwidGV4dC1jZW50ZXJcIiA6IFwidGV4dC1sZWZ0XCI7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRhYmxlSGVhZENlbGxcclxuICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgXCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1tdXRlZC81MCBzZWxlY3Qtbm9uZSB0cmFuc2l0aW9uLWNvbG9yc1wiLFxyXG4gICAgICAgICAgYWxpZ25DbGFzc1xyXG4gICAgICAgICl9XHJcbiAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydChjb2x1bW4pfVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgXCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiLFxyXG4gICAgICAgICAgYWxpZ24gPT09IFwicmlnaHRcIiAmJiBcImp1c3RpZnktZW5kXCIsXHJcbiAgICAgICAgICBhbGlnbiA9PT0gXCJjZW50ZXJcIiAmJiBcImp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICApfT5cclxuICAgICAgICAgIDxzcGFuPntsYWJlbH08L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ3LTQgaC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XHJcbiAgICAgICAgICAgIHtpc0FjdGl2ZSA/IChcclxuICAgICAgICAgICAgICBzb3J0Q29uZmlnLmRpcmVjdGlvbiA9PT0gXCJhc2NcIiA/IChcclxuICAgICAgICAgICAgICAgIDxBcnJvd1VwIGNsYXNzTmFtZT1cImgtMy41IHctMy41IHRleHQtcHJpbWFyeVwiIC8+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgIDxBcnJvd0Rvd24gY2xhc3NOYW1lPVwiaC0zLjUgdy0zLjUgdGV4dC1wcmltYXJ5XCIgLz5cclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cImgtMy41IHctMy41IHRleHQtbXV0ZWQtZm9yZWdyb3VuZC81MFwiIC8+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvVGFibGVIZWFkQ2VsbD5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZm9ybWF0Q3VycmVuY3kgPSAodmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBJbnRsLk51bWJlckZvcm1hdChcImVuLVVTXCIsIHtcclxuICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcclxuICAgICAgY3VycmVuY3k6IFwiVVNEXCIsXHJcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMixcclxuICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAyLFxyXG4gICAgfSkuZm9ybWF0KHZhbHVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBmb3JtYXRQZXJjZW50ID0gKHZhbHVlOiBudW1iZXIpID0+IHtcclxuICAgIHJldHVybiBgJHsodmFsdWUgKiAxMDApLnRvRml4ZWQoMSl9JWA7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0Um93U3RhdHVzID0gKHJlY29yZDogUHJpY2VVcGRhdGVSZWNvcmQpOiBcImVycm9yXCIgfCBcIndhcm5pbmdcIiB8IFwidmFsaWRcIiA9PiB7XHJcbiAgICBpZiAoZXJyb3JTa3VzLmhhcyhyZWNvcmQuc2t1KSkgcmV0dXJuIFwiZXJyb3JcIjtcclxuICAgIGlmICh3YXJuaW5nU2t1cy5oYXMocmVjb3JkLnNrdSkpIHJldHVybiBcIndhcm5pbmdcIjtcclxuICAgIHJldHVybiBcInZhbGlkXCI7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U3RhdHVzQmFkZ2UgPSAoc3RhdHVzOiBcImVycm9yXCIgfCBcIndhcm5pbmdcIiB8IFwidmFsaWRcIikgPT4ge1xyXG4gICAgc3dpdGNoIChzdGF0dXMpIHtcclxuICAgICAgY2FzZSBcImVycm9yXCI6XHJcbiAgICAgICAgcmV0dXJuIDxCYWRnZSB2YXJpYW50PVwiZGFuZ2VyXCI+RXJyb3I8L0JhZGdlPjtcclxuICAgICAgY2FzZSBcIndhcm5pbmdcIjpcclxuICAgICAgICByZXR1cm4gPEJhZGdlIHZhcmlhbnQ9XCJ3YXJuaW5nXCI+V2FybmluZzwvQmFkZ2U+O1xyXG4gICAgICBjYXNlIFwidmFsaWRcIjpcclxuICAgICAgICByZXR1cm4gPEJhZGdlIHZhcmlhbnQ9XCJzdWNjZXNzXCI+VmFsaWQ8L0JhZGdlPjtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBGb2N1cyBpbnB1dCB3aGVuIGVkaXRpbmcgc3RhcnRzXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmIChlZGl0aW5nQ2VsbCAmJiBpbnB1dFJlZi5jdXJyZW50KSB7XHJcbiAgICAgIGlucHV0UmVmLmN1cnJlbnQuZm9jdXMoKTtcclxuICAgICAgaW5wdXRSZWYuY3VycmVudC5zZWxlY3QoKTtcclxuICAgIH1cclxuICB9LCBbZWRpdGluZ0NlbGxdKTtcclxuXHJcbiAgLy8gU3RhcnQgZWRpdGluZyBhIGNlbGxcclxuICBjb25zdCBzdGFydEVkaXRpbmcgPSB1c2VDYWxsYmFjaygocmVjb3JkOiBQcmljZVVwZGF0ZVJlY29yZCwgb3JpZ2luYWxJbmRleDogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAoIWVkaXRhYmxlKSByZXR1cm47XHJcbiAgICBzZXRFZGl0aW5nQ2VsbCh7IHNrdTogcmVjb3JkLnNrdSwgb3JpZ2luYWxJbmRleCB9KTtcclxuICAgIHNldEVkaXRWYWx1ZShyZWNvcmQubmV3UHJpY2UudG9GaXhlZCgyKSk7XHJcbiAgfSwgW2VkaXRhYmxlXSk7XHJcblxyXG4gIC8vIENhbmNlbCBlZGl0aW5nXHJcbiAgY29uc3QgY2FuY2VsRWRpdGluZyA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldEVkaXRpbmdDZWxsKG51bGwpO1xyXG4gICAgc2V0RWRpdFZhbHVlKFwiXCIpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gU2F2ZSB0aGUgZWRpdGVkIHZhbHVlXHJcbiAgY29uc3Qgc2F2ZUVkaXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIWVkaXRpbmdDZWxsIHx8ICFvblJlY29yZENoYW5nZSkge1xyXG4gICAgICBjYW5jZWxFZGl0aW5nKCk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuZXdQcmljZSA9IHBhcnNlRmxvYXQoZWRpdFZhbHVlKTtcclxuXHJcbiAgICAvLyBWYWxpZGF0ZTogbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlclxyXG4gICAgaWYgKGlzTmFOKG5ld1ByaWNlKSB8fCBuZXdQcmljZSA8IDApIHtcclxuICAgICAgY2FuY2VsRWRpdGluZygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUm91bmQgdG8gMiBkZWNpbWFsIHBsYWNlc1xyXG4gICAgY29uc3Qgcm91bmRlZE5ld1ByaWNlID0gTWF0aC5yb3VuZChuZXdQcmljZSAqIDEwMCkgLyAxMDA7XHJcblxyXG4gICAgLy8gRmluZCB0aGUgcmVjb3JkIGluIHRoZSBvcmlnaW5hbCByZWNvcmRzIGFycmF5XHJcbiAgICBjb25zdCByZWNvcmQgPSByZWNvcmRzW2VkaXRpbmdDZWxsLm9yaWdpbmFsSW5kZXhdO1xyXG4gICAgaWYgKCFyZWNvcmQpIHtcclxuICAgICAgY2FuY2VsRWRpdGluZygpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhdGUgcHJpY2UgY2hhbmdlIHZhbHVlc1xyXG4gICAgY29uc3QgcHJpY2VDaGFuZ2UgPSBNYXRoLnJvdW5kKChyb3VuZGVkTmV3UHJpY2UgLSByZWNvcmQuY3VycmVudFByaWNlKSAqIDEwMCkgLyAxMDA7XHJcbiAgICBjb25zdCBwcmljZUNoYW5nZVBlcmNlbnQgPSByZWNvcmQuY3VycmVudFByaWNlICE9PSAwXHJcbiAgICAgID8gTWF0aC5yb3VuZCgocHJpY2VDaGFuZ2UgLyByZWNvcmQuY3VycmVudFByaWNlKSAqIDEwMDAwKSAvIDEwMDAwXHJcbiAgICAgIDogMDtcclxuXHJcbiAgICAvLyBDcmVhdGUgdXBkYXRlZCByZWNvcmRcclxuICAgIGNvbnN0IHVwZGF0ZWRSZWNvcmQ6IFByaWNlVXBkYXRlUmVjb3JkID0ge1xyXG4gICAgICAuLi5yZWNvcmQsXHJcbiAgICAgIG5ld1ByaWNlOiByb3VuZGVkTmV3UHJpY2UsXHJcbiAgICAgIHByaWNlQ2hhbmdlLFxyXG4gICAgICBwcmljZUNoYW5nZVBlcmNlbnQsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE1hcmsgYXMgZWRpdGVkXHJcbiAgICBzZXRFZGl0ZWRTa3VzKHByZXYgPT4gbmV3IFNldChwcmV2KS5hZGQocmVjb3JkLnNrdSkpO1xyXG5cclxuICAgIC8vIE5vdGlmeSBwYXJlbnRcclxuICAgIG9uUmVjb3JkQ2hhbmdlKGVkaXRpbmdDZWxsLm9yaWdpbmFsSW5kZXgsIHVwZGF0ZWRSZWNvcmQpO1xyXG5cclxuICAgIGNhbmNlbEVkaXRpbmcoKTtcclxuICB9LCBbZWRpdGluZ0NlbGwsIGVkaXRWYWx1ZSwgcmVjb3Jkcywgb25SZWNvcmRDaGFuZ2UsIGNhbmNlbEVkaXRpbmddKTtcclxuXHJcbiAgLy8gSGFuZGxlIGtleWJvYXJkIGV2ZW50cyBpbiB0aGUgaW5wdXRcclxuICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgc2F2ZUVkaXQoKTtcclxuICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjYW5jZWxFZGl0aW5nKCk7XHJcbiAgICB9XHJcbiAgfSwgW3NhdmVFZGl0LCBjYW5jZWxFZGl0aW5nXSk7XHJcblxyXG4gIC8vIEVkaXRhYmxlIHByaWNlIGNlbGwgY29tcG9uZW50XHJcbiAgY29uc3QgRWRpdGFibGVQcmljZUNlbGwgPSAoe1xyXG4gICAgcmVjb3JkLFxyXG4gICAgb3JpZ2luYWxJbmRleCxcclxuICB9OiB7XHJcbiAgICByZWNvcmQ6IFByaWNlVXBkYXRlUmVjb3JkO1xyXG4gICAgb3JpZ2luYWxJbmRleDogbnVtYmVyO1xyXG4gIH0pID0+IHtcclxuICAgIGNvbnN0IGlzRWRpdGluZyA9IGVkaXRpbmdDZWxsPy5za3UgPT09IHJlY29yZC5za3U7XHJcbiAgICBjb25zdCBpc0VkaXRlZCA9IGVkaXRlZFNrdXMuaGFzKHJlY29yZC5za3UpO1xyXG5cclxuICAgIGlmIChpc0VkaXRpbmcpIHtcclxuICAgICAgcmV0dXJuIChcclxuICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHQgcC0xXCI+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgcmVmPXtpbnB1dFJlZn1cclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBpbnB1dE1vZGU9XCJkZWNpbWFsXCJcclxuICAgICAgICAgICAgdmFsdWU9e2VkaXRWYWx1ZX1cclxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0VmFsdWUoZS50YXJnZXQudmFsdWUpfVxyXG4gICAgICAgICAgICBvbkJsdXI9e3NhdmVFZGl0fVxyXG4gICAgICAgICAgICBvbktleURvd249e2hhbmRsZUtleURvd259XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgXCJ3LWZ1bGwgcHgtMiBweS0xIHRleHQtcmlnaHQgZm9udC1tb25vIGZvbnQtc2VtaWJvbGRcIixcclxuICAgICAgICAgICAgICBcImJnLWJhY2tncm91bmQgYm9yZGVyIGJvcmRlci1wcmltYXJ5IHJvdW5kZWRcIixcclxuICAgICAgICAgICAgICBcImZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wcmltYXJ5LzUwXCIsXHJcbiAgICAgICAgICAgICAgXCJ0ZXh0LXNtXCJcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkVkaXQgbmV3IHByaWNlXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPFRhYmxlQ2VsbFxyXG4gICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICBcInRleHQtcmlnaHQgZm9udC1tb25vIGZvbnQtc2VtaWJvbGQgZ3JvdXAgcmVsYXRpdmUgY3Vyc29yLXBvaW50ZXJcIixcclxuICAgICAgICAgIFwidHJhbnNpdGlvbi1jb2xvcnMgaG92ZXI6YmctbXV0ZWQvNTBcIixcclxuICAgICAgICAgIGlzRWRpdGVkICYmIFwiYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTUwLzMwIGJvcmRlci1sLTIgYm9yZGVyLWwtYmx1ZS01MDBcIlxyXG4gICAgICAgICl9XHJcbiAgICAgICAgb25DbGljaz17KCkgPT4gc3RhcnRFZGl0aW5nKHJlY29yZCwgb3JpZ2luYWxJbmRleCl9XHJcbiAgICAgICAgcm9sZT1cImJ1dHRvblwiXHJcbiAgICAgICAgdGFiSW5kZXg9ezB9XHJcbiAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xyXG4gICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIgfHwgZS5rZXkgPT09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgc3RhcnRFZGl0aW5nKHJlY29yZCwgb3JpZ2luYWxJbmRleCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfX1cclxuICAgICAgICBhcmlhLWxhYmVsPXtgRWRpdCBwcmljZSAke2Zvcm1hdEN1cnJlbmN5KHJlY29yZC5uZXdQcmljZSl9YH1cclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1lbmQgZ2FwLTFcIj5cclxuICAgICAgICAgIDxzcGFuPntmb3JtYXRDdXJyZW5jeShyZWNvcmQubmV3UHJpY2UpfTwvc3Bhbj5cclxuICAgICAgICAgIDxQZW5jaWwgY2xhc3NOYW1lPVwiaC0zIHctMyB0ZXh0LW11dGVkLWZvcmVncm91bmQgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eVwiIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAge2lzRWRpdGVkICYmIChcclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMSAtcmlnaHQtMVwiPlxyXG4gICAgICAgICAgICA8QmFkZ2UgdmFyaWFudD1cInNlY29uZGFyeVwiIGNsYXNzTmFtZT1cInRleHQtWzEwcHhdIHB4LTEgcHktMCBsZWFkaW5nLXRpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgRWRpdGVkXHJcbiAgICAgICAgICAgIDwvQmFkZ2U+XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIC8vIE5vbi1lZGl0YWJsZSBwcmljZSBjZWxsIChvcmlnaW5hbCBiZWhhdmlvcilcclxuICBjb25zdCBSZWFkT25seVByaWNlQ2VsbCA9ICh7IHJlY29yZCB9OiB7IHJlY29yZDogUHJpY2VVcGRhdGVSZWNvcmQgfSkgPT4gKFxyXG4gICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IGZvbnQtbW9ubyBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgIHtmb3JtYXRDdXJyZW5jeShyZWNvcmQubmV3UHJpY2UpfVxyXG4gICAgPC9UYWJsZUNlbGw+XHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XHJcbiAgICAgIHsvKiBTdW1tYXJ5IFN0YXRzICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTIgc206Z3JpZC1jb2xzLTMgbGc6Z3JpZC1jb2xzLTYgZ2FwLTNcIj5cclxuICAgICAgICA8Q2FyZCBwYWRkaW5nPVwic21cIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+e3N1bW1hcnkudG90YWx9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+VG90YWw8L2Rpdj5cclxuICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICAgPENhcmQgcGFkZGluZz1cInNtXCIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtc3VjY2Vzc1wiPntzdW1tYXJ5LnZhbGlkfTwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPlZhbGlkPC9kaXY+XHJcbiAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgIDxDYXJkIHBhZGRpbmc9XCJzbVwiIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWRhbmdlclwiPntzdW1tYXJ5LmludmFsaWR9PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+RXJyb3JzPC9kaXY+XHJcbiAgICAgICAgPC9DYXJkPlxyXG4gICAgICAgIDxDYXJkIHBhZGRpbmc9XCJzbVwiIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXdhcm5pbmdcIj57c3VtbWFyeS53YXJuaW5nc308L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVcIj5XYXJuaW5nczwvZGl2PlxyXG4gICAgICAgIDwvQ2FyZD5cclxuICAgICAgICA8Q2FyZCBwYWRkaW5nPVwic21cIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1wcmltYXJ5XCI+XHJcbiAgICAgICAgICAgIHtzdW1tYXJ5LmluY3JlYXNlc30ve3N1bW1hcnkuZGVjcmVhc2VzfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+VXAvRG93bjwvZGl2PlxyXG4gICAgICAgIDwvQ2FyZD5cclxuICAgICAgICA8Q2FyZCBwYWRkaW5nPVwic21cIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICBcInRleHQtMnhsIGZvbnQtYm9sZFwiLFxyXG4gICAgICAgICAgICBzdW1tYXJ5LmF2Z0NoYW5nZVBlcmNlbnQgPiAwID8gXCJ0ZXh0LXN1Y2Nlc3NcIiA6IHN1bW1hcnkuYXZnQ2hhbmdlUGVyY2VudCA8IDAgPyBcInRleHQtZGFuZ2VyXCIgOiBcInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiXHJcbiAgICAgICAgICApfT5cclxuICAgICAgICAgICAge2Zvcm1hdFBlcmNlbnQoc3VtbWFyeS5hdmdDaGFuZ2VQZXJjZW50KX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZVwiPkF2ZyBDaGFuZ2U8L2Rpdj5cclxuICAgICAgICA8L0NhcmQ+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFRhYmxlICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVyZmxvdy14LWF1dG8gbWF4LWgtWzYwMHB4XSBvdmVyZmxvdy15LWF1dG9cIj5cclxuICAgICAgICAgIDxUYWJsZT5cclxuICAgICAgICAgICAgPFRhYmxlSGVhZGVyPlxyXG4gICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBjb2x1bW49XCJza3VcIiBsYWJlbD1cIlNLVVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8U29ydGFibGVIZWFkZXIgY29sdW1uPVwicHJvZHVjdFRpdGxlXCIgbGFiZWw9XCJQcm9kdWN0IFRpdGxlXCIgLz5cclxuICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBjb2x1bW49XCJjdXJyZW50UHJpY2VcIiBsYWJlbD1cIkN1cnJlbnQgUHJpY2VcIiBhbGlnbj1cInJpZ2h0XCIgLz5cclxuICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBjb2x1bW49XCJuZXdQcmljZVwiIGxhYmVsPVwiTmV3IFByaWNlXCIgYWxpZ249XCJyaWdodFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8U29ydGFibGVIZWFkZXIgY29sdW1uPVwicHJpY2VDaGFuZ2VcIiBsYWJlbD1cIkNoYW5nZSAoJClcIiBhbGlnbj1cInJpZ2h0XCIgLz5cclxuICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBjb2x1bW49XCJwcmljZUNoYW5nZVBlcmNlbnRcIiBsYWJlbD1cIkNoYW5nZSAoJSlcIiBhbGlnbj1cInJpZ2h0XCIgLz5cclxuICAgICAgICAgICAgICAgIDxUYWJsZUhlYWRDZWxsIGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+U3RhdHVzPC9UYWJsZUhlYWRDZWxsPlxyXG4gICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgIDwvVGFibGVIZWFkZXI+XHJcbiAgICAgICAgICAgIDxUYWJsZUJvZHk+XHJcbiAgICAgICAgICAgICAge2Rpc3BsYXlSZWNvcmRzLmxlbmd0aCA9PT0gMCA/IChcclxuICAgICAgICAgICAgICAgIDxUYWJsZVJvdz5cclxuICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjb2xTcGFuPXs3fSBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LW11dGVkLWZvcmVncm91bmQgcHktOFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIE5vIHByaWNpbmcgZGF0YSB0byBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cclxuICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVJlY29yZHMubWFwKChyZWNvcmQsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBnZXRSb3dTdGF0dXMocmVjb3JkKTtcclxuICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgb3JpZ2luYWwgaW5kZXggaW4gdGhlIHVuc29ydGVkIHJlY29yZHMgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxJbmRleCA9IHJlY29yZHMuZmluZEluZGV4KHIgPT4gci5za3UgPT09IHJlY29yZC5za3UgJiYgci5yb3dOdW1iZXIgPT09IHJlY29yZC5yb3dOdW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICBjb25zdCByb3dDbGFzc05hbWUgPSBjbihcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMgPT09IFwiZXJyb3JcIiAmJiBcImJnLWRhbmdlci81IGhvdmVyOmJnLWRhbmdlci8xMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cyA9PT0gXCJ3YXJuaW5nXCIgJiYgXCJiZy13YXJuaW5nLzUgaG92ZXI6Ymctd2FybmluZy8xMFwiXHJcbiAgICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZVJvdyBrZXk9e2Ake3JlY29yZC5za3V9LSR7aWR4fWB9IGNsYXNzTmFtZT17cm93Q2xhc3NOYW1lfT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwiZm9udC1tb25vIHRleHQteHNcIj57cmVjb3JkLnNrdX08L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwibWF4LXcteHMgdHJ1bmNhdGVcIiB0aXRsZT17cmVjb3JkLnByb2R1Y3RUaXRsZX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWNvcmQucHJvZHVjdFRpdGxlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7cmVjb3JkLnZhcmlhbnRUaXRsZSAmJiByZWNvcmQudmFyaWFudFRpdGxlICE9PSBcIkRlZmF1bHQgVGl0bGVcIiAmJiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kIHRleHQteHMgbWwtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHtyZWNvcmQudmFyaWFudFRpdGxlfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBmb250LW1vbm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdEN1cnJlbmN5KHJlY29yZC5jdXJyZW50UHJpY2UpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGFibGUgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0YWJsZVByaWNlQ2VsbCByZWNvcmQ9e3JlY29yZH0gb3JpZ2luYWxJbmRleD17b3JpZ2luYWxJbmRleH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxSZWFkT25seVByaWNlQ2VsbCByZWNvcmQ9e3JlY29yZH0gLz5cclxuICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidGV4dC1yaWdodCBmb250LW1vbm9cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkLnByaWNlQ2hhbmdlID4gMCAmJiBcInRleHQtc3VjY2Vzc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNvcmQucHJpY2VDaGFuZ2UgPCAwICYmIFwidGV4dC1kYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWNvcmQucHJpY2VDaGFuZ2UgPiAwICYmIFwiK1wifVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Q3VycmVuY3kocmVjb3JkLnByaWNlQ2hhbmdlKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInRleHQtcmlnaHQgZm9udC1tb25vXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5wcmljZUNoYW5nZVBlcmNlbnQgPiAwICYmIFwidGV4dC1zdWNjZXNzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZC5wcmljZUNoYW5nZVBlcmNlbnQgPCAwICYmIFwidGV4dC1kYW5nZXJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtyZWNvcmQucHJpY2VDaGFuZ2VQZXJjZW50ID4gMCAmJiBcIitcIn1cclxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdFBlcmNlbnQocmVjb3JkLnByaWNlQ2hhbmdlUGVyY2VudCl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2dldFN0YXR1c0JhZGdlKHN0YXR1cyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlUm93PlxyXG4gICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L1RhYmxlQm9keT5cclxuICAgICAgICAgIDwvVGFibGU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgey8qIFJvdyBsaW1pdCBtZXNzYWdlICovfVxyXG4gICAgICB7c29ydGVkUmVjb3Jkcy5sZW5ndGggPiBtYXhSb3dzICYmIChcclxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgU2hvd2luZyB7bWF4Um93c30gb2Yge3NvcnRlZFJlY29yZHMubGVuZ3RofSByZWNvcmRzLlxyXG4gICAgICAgICAgVXNlIHNvcnRpbmcgYW5kIGZpbHRlcmluZyB0byB2aWV3IHNwZWNpZmljIGl0ZW1zLlxyXG4gICAgICAgIDwvcD5cclxuICAgICAgKX1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sImZpbGUiOiJDOi9Qcm9qZWN0cy9Tb3VyY2UgNCBJbmR1c3RyaWVzL3NyYy9jb21wb25lbnRzL3ByaWNpbmcvcHJpY2luZy1wcmV2aWV3LXRhYmxlLnRzeCJ9