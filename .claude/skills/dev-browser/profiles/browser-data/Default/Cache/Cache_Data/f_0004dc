import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/pages/marketing/pricing-update/page.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=96fa1abf"; const Fragment = __vite__cjsImport0_react_jsxDevRuntime["Fragment"]; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=96fa1abf"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useCallback = __vite__cjsImport3_react["useCallback"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { RefreshCw, CheckCircle } from "/node_modules/.vite/deps/lucide-react.js?v=8e4fabdf";
import { SectionHeader } from "/src/components/section-header.tsx";
import { Card } from "/src/components/ui/card.tsx";
import { Button } from "/src/components/ui/button.tsx";
import { InlineAlert } from "/src/components/ui/inline-alert.tsx?t=1768439845259";
import {
  PricingFileUploader,
  PricingPreviewTable,
  ValidationErrorsPanel,
  ApplyPricingDialog
} from "/src/components/pricing/index.ts?t=1768448964729";
import { useAuth } from "/src/vite/auth/auth-provider.tsx";
export function PricingUpdatePage() {
  _s();
  const auth = useAuth();
  const [currentStep, setCurrentStep] = useState("upload");
  const [shopifyData, setShopifyData] = useState(/* @__PURE__ */ new Map());
  const [isLoadingProducts, setIsLoadingProducts] = useState(true);
  const [loadingError, setLoadingError] = useState(null);
  const [processorResult, setProcessorResult] = useState(null);
  const [isDialogOpen, setIsDialogOpen] = useState(false);
  const [applySuccess, setApplySuccess] = useState(false);
  const [modifiedRecords, setModifiedRecords] = useState([]);
  const token = auth.session?.access_token;
  useEffect(() => {
    if (!token) return;
    fetchShopifyProducts();
  }, [token]);
  const fetchShopifyProducts = async () => {
    setIsLoadingProducts(true);
    setLoadingError(null);
    try {
      const response = await fetch("/api/marketing/shopify-products", {
        method: "GET",
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      const data = await response.json();
      if (!response.ok) {
        throw new Error(data.error || `Failed to fetch Shopify products (${response.status})`);
      }
      if (!data.success || !data.products) {
        throw new Error(data.error || "No product data returned");
      }
      const productMap = /* @__PURE__ */ new Map();
      data.products.forEach((product) => {
        product.variants?.forEach((variant) => {
          if (variant.sku) {
            const sku = variant.sku.trim().toUpperCase();
            productMap.set(sku, {
              sku,
              variantId: variant.id,
              productId: product.id,
              productTitle: product.title,
              variantTitle: variant.title,
              currentPrice: parseFloat(variant.price) || 0,
              compareAtPrice: variant.compareAtPrice ? parseFloat(variant.compareAtPrice) : null,
              handle: product.handle,
              status: product.status
            });
          }
        });
      });
      setShopifyData(productMap);
      console.log(`[PricingUpdatePage] Loaded ${productMap.size} products from Shopify`);
    } catch (error) {
      console.error("[PricingUpdatePage] Error fetching Shopify products:", error);
      setLoadingError(error instanceof Error ? error.message : "Failed to load product data");
    } finally {
      setIsLoadingProducts(false);
    }
  };
  const handleFileProcessed = useCallback((result) => {
    setProcessorResult(result);
    setModifiedRecords([...result.records]);
    setCurrentStep("preview");
    setApplySuccess(false);
  }, []);
  const handleApplyPricing = useCallback(async (records) => {
    const response = await fetch("/api/marketing/apply-pricing", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`
      },
      body: JSON.stringify({
        records: records.map((r) => ({
          shopifyProductId: r.productId,
          shopifyVariantId: r.variantId,
          sku: r.sku,
          productTitle: r.productTitle,
          currentPrice: r.currentPrice,
          newPrice: r.newPrice,
          compareAtPrice: r.newCompareAtPrice
        }))
      })
    });
    if (!response.ok) {
      const errorData = await response.json();
      throw new Error(errorData.error || "Failed to apply pricing updates");
    }
    const result = await response.json();
    if (!result.success) {
      throw new Error(result.error || "Failed to apply pricing updates");
    }
    setApplySuccess(true);
    setCurrentStep("applied");
  }, [token]);
  const handleReset = useCallback(() => {
    setCurrentStep("upload");
    setProcessorResult(null);
    setModifiedRecords([]);
    setApplySuccess(false);
    setIsDialogOpen(false);
  }, []);
  const handleRecordChange = useCallback((index, updatedRecord) => {
    setModifiedRecords((prev) => {
      const newRecords = [...prev];
      newRecords[index] = updatedRecord;
      return newRecords;
    });
  }, []);
  const hasModifications = useMemo(() => {
    if (!processorResult || modifiedRecords.length === 0) return false;
    const originalRecords = processorResult.records;
    if (originalRecords.length !== modifiedRecords.length) return true;
    return modifiedRecords.some((record, index) => {
      const original = originalRecords[index];
      return original && record.newPrice !== original.newPrice;
    });
  }, [processorResult, modifiedRecords]);
  const hasErrors = processorResult && processorResult.validation.errors.length > 0;
  const hasWarnings = processorResult && processorResult.validation.warnings.length > 0;
  const validRecords = processorResult?.records || [];
  const errorSkus = new Set(processorResult?.validation.errors.map((e) => e.sku) || []);
  const warningSkus = new Set(processorResult?.validation.warnings.map((w) => w.sku) || []);
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-8", children: [
    /* @__PURE__ */ jsxDEV(
      SectionHeader,
      {
        title: "Pricing Update",
        description: "Upload CSV files to bulk update product prices across your Shopify catalog.",
        badge: currentStep === "applied" ? "Applied" : currentStep === "preview" ? "Preview" : void 0
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 205,
        columnNumber: 7
      },
      this
    ),
    isLoadingProducts && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", className: "text-center", children: /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col items-center gap-4", children: [
      /* @__PURE__ */ jsxDEV(RefreshCw, { className: "h-8 w-8 animate-spin text-primary" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 215,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground", children: "Loading Product Data" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 217,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground", children: "Fetching product information from Shopify..." }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 218,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 216,
        columnNumber: 13
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 214,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 213,
      columnNumber: 7
    }, this),
    loadingError && /* @__PURE__ */ jsxDEV(
      InlineAlert,
      {
        variant: "warning",
        title: "Error Loading Products",
        message: loadingError,
        children: /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: fetchShopifyProducts, size: "sm", className: "mt-2", children: [
          /* @__PURE__ */ jsxDEV(RefreshCw, { className: "h-4 w-4" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 234,
            columnNumber: 13
          }, this),
          "Retry"
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 233,
          columnNumber: 11
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 228,
        columnNumber: 7
      },
      this
    ),
    !isLoadingProducts && !loadingError && /* @__PURE__ */ jsxDEV(Fragment, { children: [
      currentStep === "upload" && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV(
        PricingFileUploader,
        {
          shopifyData,
          onFileProcessed: handleFileProcessed
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 246,
          columnNumber: 15
        },
        this
      ) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 245,
        columnNumber: 9
      }, this),
      currentStep === "preview" && processorResult && /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: [
          /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground mb-4", children: "Validation Results" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 258,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV(
            ValidationErrorsPanel,
            {
              errors: processorResult.validation.errors,
              warnings: processorResult.validation.warnings
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 261,
              columnNumber: 17
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 257,
          columnNumber: 15
        }, this),
        validRecords.length > 0 && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground", children: "Price Changes Preview" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 272,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "flex gap-2", children: [
              /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: handleReset, children: "Start Over" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                lineNumber: 276,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV(
                Button,
                {
                  variant: "primary",
                  onClick: () => setIsDialogOpen(true),
                  disabled: hasErrors || validRecords.length === 0,
                  children: "Apply Pricing Updates"
                },
                void 0,
                false,
                {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                  lineNumber: 279,
                  columnNumber: 25
                },
                this
              )
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 275,
              columnNumber: 23
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 271,
            columnNumber: 21
          }, this),
          /* @__PURE__ */ jsxDEV(
            PricingPreviewTable,
            {
              records: validRecords,
              errorSkus,
              warningSkus
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 289,
              columnNumber: 21
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 270,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 269,
          columnNumber: 11
        }, this),
        validRecords.length === 0 && /* @__PURE__ */ jsxDEV(
          InlineAlert,
          {
            variant: "warning",
            title: "No Valid Records",
            message: "All records in the uploaded file have errors. Please fix the errors and upload again.",
            children: /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: handleReset, size: "sm", className: "mt-2", children: "Upload New File" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 305,
              columnNumber: 19
            }, this)
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 300,
            columnNumber: 11
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 255,
        columnNumber: 9
      }, this),
      currentStep === "applied" && applySuccess && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV("div", { className: "text-center space-y-4", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex justify-center", children: /* @__PURE__ */ jsxDEV("div", { className: "h-16 w-16 rounded-full bg-success/10 flex items-center justify-center", children: /* @__PURE__ */ jsxDEV(CheckCircle, { className: "h-8 w-8 text-success" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 319,
          columnNumber: 21
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 318,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 317,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("h3", { className: "text-xl font-semibold text-foreground mb-2", children: "Pricing Updates Applied Successfully" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 323,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground max-w-md mx-auto", children: "All price changes have been applied to your Shopify store. Changes should be visible on your storefront shortly." }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 326,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 322,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex justify-center gap-2", children: /* @__PURE__ */ jsxDEV(Button, { variant: "primary", onClick: handleReset, children: "Upload Another File" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 331,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 330,
          columnNumber: 17
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 316,
        columnNumber: 15
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 315,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 242,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(
      ApplyPricingDialog,
      {
        open: isDialogOpen,
        onOpenChange: setIsDialogOpen,
        records: validRecords,
        onApply: handleApplyPricing,
        hasErrors: !!hasErrors
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 342,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
    lineNumber: 203,
    columnNumber: 5
  }, this);
}
_s(PricingUpdatePage, "IY4qdYfrKMUfd2PX72FglK3bUdA=", false, function() {
  return [useAuth];
});
_c = PricingUpdatePage;
var _c;
$RefreshReg$(_c, "PricingUpdatePage");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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LE9BaEozQjtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBa0pBO0FBRUo7QUFBQ3ZHLEdBalRlaUIsbUJBQWlCO0FBQUEsVUFDbEJELE9BQU87QUFBQTtBQUFBbUcsS0FETmxHO0FBQWlCLElBQUFrRztBQUFBQyxhQUFBRCxJQUFBIiwibmFtZXMiOlsiX3MiLCIkUmVmcmVzaFNpZyQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsIlJlZnJlc2hDdyIsIkNoZWNrQ2lyY2xlIiwiU2VjdGlvbkhlYWRlciIsIkNhcmQiLCJCdXR0b24iLCJJbmxpbmVBbGVydCIsIlByaWNpbmdGaWxlVXBsb2FkZXIiLCJQcmljaW5nUHJldmlld1RhYmxlIiwiVmFsaWRhdGlvbkVycm9yc1BhbmVsIiwiQXBwbHlQcmljaW5nRGlhbG9nIiwidXNlQXV0aCIsIlByaWNpbmdVcGRhdGVQYWdlIiwiYXV0aCIsImN1cnJlbnRTdGVwIiwic2V0Q3VycmVudFN0ZXAiLCJzaG9waWZ5RGF0YSIsInNldFNob3BpZnlEYXRhIiwiTWFwIiwiaXNMb2FkaW5nUHJvZHVjdHMiLCJzZXRJc0xvYWRpbmdQcm9kdWN0cyIsImxvYWRpbmdFcnJvciIsInNldExvYWRpbmdFcnJvciIsInByb2Nlc3NvclJlc3VsdCIsInNldFByb2Nlc3NvclJlc3VsdCIsImlzRGlhbG9nT3BlbiIsInNldElzRGlhbG9nT3BlbiIsImFwcGx5U3VjY2VzcyIsInNldEFwcGx5U3VjY2VzcyIsIm1vZGlmaWVkUmVjb3JkcyIsInNldE1vZGlmaWVkUmVjb3JkcyIsInRva2VuIiwic2Vzc2lvbiIsImFjY2Vzc190b2tlbiIsImZldGNoU2hvcGlmeVByb2R1Y3RzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwiZGF0YSIsImpzb24iLCJvayIsIkVycm9yIiwiZXJyb3IiLCJzdGF0dXMiLCJzdWNjZXNzIiwicHJvZHVjdHMiLCJwcm9kdWN0TWFwIiwiZm9yRWFjaCIsInByb2R1Y3QiLCJ2YXJpYW50cyIsInZhcmlhbnQiLCJza3UiLCJ0cmltIiwidG9VcHBlckNhc2UiLCJzZXQiLCJ2YXJpYW50SWQiLCJpZCIsInByb2R1Y3RJZCIsInByb2R1Y3RUaXRsZSIsInRpdGxlIiwidmFyaWFudFRpdGxlIiwiY3VycmVudFByaWNlIiwicGFyc2VGbG9hdCIsInByaWNlIiwiY29tcGFyZUF0UHJpY2UiLCJoYW5kbGUiLCJjb25zb2xlIiwibG9nIiwic2l6ZSIsIm1lc3NhZ2UiLCJoYW5kbGVGaWxlUHJvY2Vzc2VkIiwicmVzdWx0IiwicmVjb3JkcyIsImhhbmRsZUFwcGx5UHJpY2luZyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwIiwiciIsInNob3BpZnlQcm9kdWN0SWQiLCJzaG9waWZ5VmFyaWFudElkIiwibmV3UHJpY2UiLCJuZXdDb21wYXJlQXRQcmljZSIsImVycm9yRGF0YSIsImhhbmRsZVJlc2V0IiwiaGFuZGxlUmVjb3JkQ2hhbmdlIiwiaW5kZXgiLCJ1cGRhdGVkUmVjb3JkIiwicHJldiIsIm5ld1JlY29yZHMiLCJoYXNNb2RpZmljYXRpb25zIiwibGVuZ3RoIiwib3JpZ2luYWxSZWNvcmRzIiwic29tZSIsInJlY29yZCIsIm9yaWdpbmFsIiwiaGFzRXJyb3JzIiwidmFsaWRhdGlvbiIsImVycm9ycyIsImhhc1dhcm5pbmdzIiwid2FybmluZ3MiLCJ2YWxpZFJlY29yZHMiLCJlcnJvclNrdXMiLCJTZXQiLCJlIiwid2FybmluZ1NrdXMiLCJ3IiwidW5kZWZpbmVkIiwiX2MiLCIkUmVmcmVzaFJlZyQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsicGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBSZWZyZXNoQ3csIENoZWNrQ2lyY2xlLCBBbGVydENpcmNsZSB9IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcbmltcG9ydCB7IFNlY3Rpb25IZWFkZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3NlY3Rpb24taGVhZGVyXCI7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2J1dHRvblwiO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2JhZGdlXCI7XG5pbXBvcnQgeyBJbmxpbmVBbGVydCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5saW5lLWFsZXJ0XCI7XG5pbXBvcnQge1xuICBQcmljaW5nRmlsZVVwbG9hZGVyLFxuICBQcmljaW5nUHJldmlld1RhYmxlLFxuICBWYWxpZGF0aW9uRXJyb3JzUGFuZWwsXG4gIEFwcGx5UHJpY2luZ0RpYWxvZyxcbiAgUHJpY2VDYWxjdWxhdG9yLFxuICBGb3JtdWxhQnVpbGRlcixcbn0gZnJvbSBcIkAvY29tcG9uZW50cy9wcmljaW5nXCI7XG5pbXBvcnQge1xuICB0eXBlIFByaWNpbmdQcm9jZXNzb3JSZXN1bHQsXG4gIHR5cGUgUHJpY2VVcGRhdGVSZWNvcmQsXG4gIHR5cGUgUHJvZHVjdERhdGEsXG59IGZyb20gXCJAL2xpYi9wcmljaW5nLXByb2Nlc3NvclwiO1xuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCJAL3ZpdGUvYXV0aC9hdXRoLXByb3ZpZGVyXCI7XG5cbnR5cGUgV29ya2Zsb3dTdGVwID0gXCJ1cGxvYWRcIiB8IFwicHJldmlld1wiIHwgXCJhcHBsaWVkXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmljaW5nVXBkYXRlUGFnZSgpIHtcbiAgY29uc3QgYXV0aCA9IHVzZUF1dGgoKTtcblxuICAvLyBTdGF0ZSBtYW5hZ2VtZW50XG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGU8V29ya2Zsb3dTdGVwPihcInVwbG9hZFwiKTtcbiAgY29uc3QgW3Nob3BpZnlEYXRhLCBzZXRTaG9waWZ5RGF0YV0gPSB1c2VTdGF0ZTxNYXA8c3RyaW5nLCBQcm9kdWN0RGF0YT4+KG5ldyBNYXAoKSk7XG4gIGNvbnN0IFtpc0xvYWRpbmdQcm9kdWN0cywgc2V0SXNMb2FkaW5nUHJvZHVjdHNdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsb2FkaW5nRXJyb3IsIHNldExvYWRpbmdFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3Byb2Nlc3NvclJlc3VsdCwgc2V0UHJvY2Vzc29yUmVzdWx0XSA9IHVzZVN0YXRlPFByaWNpbmdQcm9jZXNzb3JSZXN1bHQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2lzRGlhbG9nT3Blbiwgc2V0SXNEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2FwcGx5U3VjY2Vzcywgc2V0QXBwbHlTdWNjZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW21vZGlmaWVkUmVjb3Jkcywgc2V0TW9kaWZpZWRSZWNvcmRzXSA9IHVzZVN0YXRlPFByaWNlVXBkYXRlUmVjb3JkW10+KFtdKTtcblxuICAvLyBHZXQgYXV0aCB0b2tlblxuICBjb25zdCB0b2tlbiA9IGF1dGguc2Vzc2lvbj8uYWNjZXNzX3Rva2VuO1xuXG4gIC8vIEZldGNoIFNob3BpZnkgcHJvZHVjdCBkYXRhIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF0b2tlbikgcmV0dXJuO1xuICAgIGZldGNoU2hvcGlmeVByb2R1Y3RzKCk7XG4gIH0sIFt0b2tlbl0pO1xuXG4gIGNvbnN0IGZldGNoU2hvcGlmeVByb2R1Y3RzID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZ1Byb2R1Y3RzKHRydWUpO1xuICAgIHNldExvYWRpbmdFcnJvcihudWxsKTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBGZXRjaCBmcm9tIEFQSSBlbmRwb2ludCB0aGF0IHJldHVybnMgYWxsIHByb2R1Y3RzXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9tYXJrZXRpbmcvc2hvcGlmeS1wcm9kdWN0c1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgICB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgYEZhaWxlZCB0byBmZXRjaCBTaG9waWZ5IHByb2R1Y3RzICgke3Jlc3BvbnNlLnN0YXR1c30pYCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZGF0YS5zdWNjZXNzIHx8ICFkYXRhLnByb2R1Y3RzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLmVycm9yIHx8IFwiTm8gcHJvZHVjdCBkYXRhIHJldHVybmVkXCIpO1xuICAgICAgfVxuXG4gICAgICAvLyBUcmFuc2Zvcm0gQVBJIHJlc3BvbnNlIHRvIFByb2R1Y3REYXRhIG1hcFxuICAgICAgY29uc3QgcHJvZHVjdE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBQcm9kdWN0RGF0YT4oKTtcblxuICAgICAgZGF0YS5wcm9kdWN0cy5mb3JFYWNoKChwcm9kdWN0OiBhbnkpID0+IHtcbiAgICAgICAgcHJvZHVjdC52YXJpYW50cz8uZm9yRWFjaCgodmFyaWFudDogYW55KSA9PiB7XG4gICAgICAgICAgaWYgKHZhcmlhbnQuc2t1KSB7XG4gICAgICAgICAgICBjb25zdCBza3UgPSB2YXJpYW50LnNrdS50cmltKCkudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHByb2R1Y3RNYXAuc2V0KHNrdSwge1xuICAgICAgICAgICAgICBza3U6IHNrdSxcbiAgICAgICAgICAgICAgdmFyaWFudElkOiB2YXJpYW50LmlkLFxuICAgICAgICAgICAgICBwcm9kdWN0SWQ6IHByb2R1Y3QuaWQsXG4gICAgICAgICAgICAgIHByb2R1Y3RUaXRsZTogcHJvZHVjdC50aXRsZSxcbiAgICAgICAgICAgICAgdmFyaWFudFRpdGxlOiB2YXJpYW50LnRpdGxlLFxuICAgICAgICAgICAgICBjdXJyZW50UHJpY2U6IHBhcnNlRmxvYXQodmFyaWFudC5wcmljZSkgfHwgMCxcbiAgICAgICAgICAgICAgY29tcGFyZUF0UHJpY2U6IHZhcmlhbnQuY29tcGFyZUF0UHJpY2UgPyBwYXJzZUZsb2F0KHZhcmlhbnQuY29tcGFyZUF0UHJpY2UpIDogbnVsbCxcbiAgICAgICAgICAgICAgaGFuZGxlOiBwcm9kdWN0LmhhbmRsZSxcbiAgICAgICAgICAgICAgc3RhdHVzOiBwcm9kdWN0LnN0YXR1cyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgc2V0U2hvcGlmeURhdGEocHJvZHVjdE1hcCk7XG4gICAgICBjb25zb2xlLmxvZyhgW1ByaWNpbmdVcGRhdGVQYWdlXSBMb2FkZWQgJHtwcm9kdWN0TWFwLnNpemV9IHByb2R1Y3RzIGZyb20gU2hvcGlmeWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiW1ByaWNpbmdVcGRhdGVQYWdlXSBFcnJvciBmZXRjaGluZyBTaG9waWZ5IHByb2R1Y3RzOlwiLCBlcnJvcik7XG4gICAgICBzZXRMb2FkaW5nRXJyb3IoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBsb2FkIHByb2R1Y3QgZGF0YVwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nUHJvZHVjdHMoZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVGaWxlUHJvY2Vzc2VkID0gdXNlQ2FsbGJhY2soKHJlc3VsdDogUHJpY2luZ1Byb2Nlc3NvclJlc3VsdCkgPT4ge1xuICAgIHNldFByb2Nlc3NvclJlc3VsdChyZXN1bHQpO1xuICAgIHNldE1vZGlmaWVkUmVjb3JkcyhbLi4ucmVzdWx0LnJlY29yZHNdKTsgLy8gSW5pdGlhbGl6ZSB3aXRoIG9yaWdpbmFsIHJlY29yZHNcbiAgICBzZXRDdXJyZW50U3RlcChcInByZXZpZXdcIik7XG4gICAgc2V0QXBwbHlTdWNjZXNzKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGhhbmRsZUFwcGx5UHJpY2luZyA9IHVzZUNhbGxiYWNrKGFzeW5jIChyZWNvcmRzOiBQcmljZVVwZGF0ZVJlY29yZFtdKSA9PiB7XG4gICAgLy8gQ2FsbCBBUEkgdG8gYXBwbHkgcHJpY2luZyB1cGRhdGVzXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvbWFya2V0aW5nL2FwcGx5LXByaWNpbmdcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt0b2tlbn1gLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgcmVjb3JkczogcmVjb3Jkcy5tYXAociA9PiAoe1xuICAgICAgICAgIHNob3BpZnlQcm9kdWN0SWQ6IHIucHJvZHVjdElkLFxuICAgICAgICAgIHNob3BpZnlWYXJpYW50SWQ6IHIudmFyaWFudElkLFxuICAgICAgICAgIHNrdTogci5za3UsXG4gICAgICAgICAgcHJvZHVjdFRpdGxlOiByLnByb2R1Y3RUaXRsZSxcbiAgICAgICAgICBjdXJyZW50UHJpY2U6IHIuY3VycmVudFByaWNlLFxuICAgICAgICAgIG5ld1ByaWNlOiByLm5ld1ByaWNlLFxuICAgICAgICAgIGNvbXBhcmVBdFByaWNlOiByLm5ld0NvbXBhcmVBdFByaWNlLFxuICAgICAgICB9KSksXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEuZXJyb3IgfHwgXCJGYWlsZWQgdG8gYXBwbHkgcHJpY2luZyB1cGRhdGVzXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gYXBwbHkgcHJpY2luZyB1cGRhdGVzXCIpO1xuICAgIH1cblxuICAgIC8vIE1hcmsgYXMgc3VjY2Vzc2Z1bGx5IGFwcGxpZWRcbiAgICBzZXRBcHBseVN1Y2Nlc3ModHJ1ZSk7XG4gICAgc2V0Q3VycmVudFN0ZXAoXCJhcHBsaWVkXCIpO1xuICB9LCBbdG9rZW5dKTtcblxuICBjb25zdCBoYW5kbGVSZXNldCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRDdXJyZW50U3RlcChcInVwbG9hZFwiKTtcbiAgICBzZXRQcm9jZXNzb3JSZXN1bHQobnVsbCk7XG4gICAgc2V0TW9kaWZpZWRSZWNvcmRzKFtdKTtcbiAgICBzZXRBcHBseVN1Y2Nlc3MoZmFsc2UpO1xuICAgIHNldElzRGlhbG9nT3BlbihmYWxzZSk7XG4gIH0sIFtdKTtcblxuICAvLyBIYW5kbGUgaW5kaXZpZHVhbCByZWNvcmQgY2hhbmdlIGZyb20gaW5saW5lIGVkaXRpbmdcbiAgY29uc3QgaGFuZGxlUmVjb3JkQ2hhbmdlID0gdXNlQ2FsbGJhY2soKGluZGV4OiBudW1iZXIsIHVwZGF0ZWRSZWNvcmQ6IFByaWNlVXBkYXRlUmVjb3JkKSA9PiB7XG4gICAgc2V0TW9kaWZpZWRSZWNvcmRzKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3UmVjb3JkcyA9IFsuLi5wcmV2XTtcbiAgICAgIG5ld1JlY29yZHNbaW5kZXhdID0gdXBkYXRlZFJlY29yZDtcbiAgICAgIHJldHVybiBuZXdSZWNvcmRzO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2hlY2sgaWYgcmVjb3JkcyBoYXZlIGJlZW4gbW9kaWZpZWQgZnJvbSBvcmlnaW5hbFxuICBjb25zdCBoYXNNb2RpZmljYXRpb25zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKCFwcm9jZXNzb3JSZXN1bHQgfHwgbW9kaWZpZWRSZWNvcmRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IG9yaWdpbmFsUmVjb3JkcyA9IHByb2Nlc3NvclJlc3VsdC5yZWNvcmRzO1xuICAgIGlmIChvcmlnaW5hbFJlY29yZHMubGVuZ3RoICE9PSBtb2RpZmllZFJlY29yZHMubGVuZ3RoKSByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBtb2RpZmllZFJlY29yZHMuc29tZSgocmVjb3JkLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWwgPSBvcmlnaW5hbFJlY29yZHNbaW5kZXhdO1xuICAgICAgcmV0dXJuIG9yaWdpbmFsICYmIHJlY29yZC5uZXdQcmljZSAhPT0gb3JpZ2luYWwubmV3UHJpY2U7XG4gICAgfSk7XG4gIH0sIFtwcm9jZXNzb3JSZXN1bHQsIG1vZGlmaWVkUmVjb3Jkc10pO1xuXG4gIGNvbnN0IGhhc0Vycm9ycyA9IHByb2Nlc3NvclJlc3VsdCAmJiBwcm9jZXNzb3JSZXN1bHQudmFsaWRhdGlvbi5lcnJvcnMubGVuZ3RoID4gMDtcbiAgY29uc3QgaGFzV2FybmluZ3MgPSBwcm9jZXNzb3JSZXN1bHQgJiYgcHJvY2Vzc29yUmVzdWx0LnZhbGlkYXRpb24ud2FybmluZ3MubGVuZ3RoID4gMDtcbiAgY29uc3QgdmFsaWRSZWNvcmRzID0gcHJvY2Vzc29yUmVzdWx0Py5yZWNvcmRzIHx8IFtdO1xuICBjb25zdCBlcnJvclNrdXMgPSBuZXcgU2V0KHByb2Nlc3NvclJlc3VsdD8udmFsaWRhdGlvbi5lcnJvcnMubWFwKGUgPT4gZS5za3UpIHx8IFtdKTtcbiAgY29uc3Qgd2FybmluZ1NrdXMgPSBuZXcgU2V0KHByb2Nlc3NvclJlc3VsdD8udmFsaWRhdGlvbi53YXJuaW5ncy5tYXAodyA9PiB3LnNrdSkgfHwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LThcIj5cbiAgICAgIHsvKiBIZWFkZXIgKi99XG4gICAgICA8U2VjdGlvbkhlYWRlclxuICAgICAgICB0aXRsZT1cIlByaWNpbmcgVXBkYXRlXCJcbiAgICAgICAgZGVzY3JpcHRpb249XCJVcGxvYWQgQ1NWIGZpbGVzIHRvIGJ1bGsgdXBkYXRlIHByb2R1Y3QgcHJpY2VzIGFjcm9zcyB5b3VyIFNob3BpZnkgY2F0YWxvZy5cIlxuICAgICAgICBiYWRnZT17Y3VycmVudFN0ZXAgPT09IFwiYXBwbGllZFwiID8gXCJBcHBsaWVkXCIgOiBjdXJyZW50U3RlcCA9PT0gXCJwcmV2aWV3XCIgPyBcIlByZXZpZXdcIiA6IHVuZGVmaW5lZH1cbiAgICAgIC8+XG5cbiAgICAgIHsvKiBMb2FkaW5nIHN0YXRlIGZvciBTaG9waWZ5IGRhdGEgKi99XG4gICAgICB7aXNMb2FkaW5nUHJvZHVjdHMgJiYgKFxuICAgICAgICA8Q2FyZCBwYWRkaW5nPVwibGdcIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIgZ2FwLTRcIj5cbiAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC04IHctOCBhbmltYXRlLXNwaW4gdGV4dC1wcmltYXJ5XCIgLz5cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+TG9hZGluZyBQcm9kdWN0IERhdGE8L2gzPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxuICAgICAgICAgICAgICAgIEZldGNoaW5nIHByb2R1Y3QgaW5mb3JtYXRpb24gZnJvbSBTaG9waWZ5Li4uXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0NhcmQ+XG4gICAgICApfVxuXG4gICAgICB7LyogRXJyb3IgbG9hZGluZyBwcm9kdWN0cyAqL31cbiAgICAgIHtsb2FkaW5nRXJyb3IgJiYgKFxuICAgICAgICA8SW5saW5lQWxlcnRcbiAgICAgICAgICB2YXJpYW50PVwid2FybmluZ1wiXG4gICAgICAgICAgdGl0bGU9XCJFcnJvciBMb2FkaW5nIFByb2R1Y3RzXCJcbiAgICAgICAgICBtZXNzYWdlPXtsb2FkaW5nRXJyb3J9XG4gICAgICAgID5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17ZmV0Y2hTaG9waWZ5UHJvZHVjdHN9IHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICBSZXRyeVxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L0lubGluZUFsZXJ0PlxuICAgICAgKX1cblxuICAgICAgey8qIE1haW4gd29ya2Zsb3cgKG9ubHkgc2hvdyB3aGVuIHByb2R1Y3RzIGxvYWRlZCkgKi99XG4gICAgICB7IWlzTG9hZGluZ1Byb2R1Y3RzICYmICFsb2FkaW5nRXJyb3IgJiYgKFxuICAgICAgICA8PlxuICAgICAgICAgIHsvKiBTdGVwIDE6IFVwbG9hZCAqL31cbiAgICAgICAgICB7Y3VycmVudFN0ZXAgPT09IFwidXBsb2FkXCIgJiYgKFxuICAgICAgICAgICAgPENhcmQgcGFkZGluZz1cImxnXCI+XG4gICAgICAgICAgICAgIDxQcmljaW5nRmlsZVVwbG9hZGVyXG4gICAgICAgICAgICAgICAgc2hvcGlmeURhdGE9e3Nob3BpZnlEYXRhfVxuICAgICAgICAgICAgICAgIG9uRmlsZVByb2Nlc3NlZD17aGFuZGxlRmlsZVByb2Nlc3NlZH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIFN0ZXAgMjogUHJldmlldyAmIFZhbGlkYXRpb24gKi99XG4gICAgICAgICAge2N1cnJlbnRTdGVwID09PSBcInByZXZpZXdcIiAmJiBwcm9jZXNzb3JSZXN1bHQgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAgey8qIFZhbGlkYXRpb24gUmVzdWx0cyAqL31cbiAgICAgICAgICAgICAgPENhcmQgcGFkZGluZz1cImxnXCI+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmQgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgVmFsaWRhdGlvbiBSZXN1bHRzXG4gICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICA8VmFsaWRhdGlvbkVycm9yc1BhbmVsXG4gICAgICAgICAgICAgICAgICBlcnJvcnM9e3Byb2Nlc3NvclJlc3VsdC52YWxpZGF0aW9uLmVycm9yc31cbiAgICAgICAgICAgICAgICAgIHdhcm5pbmdzPXtwcm9jZXNzb3JSZXN1bHQudmFsaWRhdGlvbi53YXJuaW5nc31cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L0NhcmQ+XG5cbiAgICAgICAgICAgICAgey8qIFByZXZpZXcgVGFibGUgKi99XG4gICAgICAgICAgICAgIHt2YWxpZFJlY29yZHMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPENhcmQgcGFkZGluZz1cImxnXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICBQcmljZSBDaGFuZ2VzIFByZXZpZXdcbiAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2hhbmRsZVJlc2V0fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnQgT3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJwcmltYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SXNEaWFsb2dPcGVuKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aGFzRXJyb3JzIHx8IHZhbGlkUmVjb3Jkcy5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIEFwcGx5IFByaWNpbmcgVXBkYXRlc1xuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxQcmljaW5nUHJldmlld1RhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcz17dmFsaWRSZWNvcmRzfVxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yU2t1cz17ZXJyb3JTa3VzfVxuICAgICAgICAgICAgICAgICAgICAgIHdhcm5pbmdTa3VzPXt3YXJuaW5nU2t1c31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogTm8gdmFsaWQgcmVjb3JkcyAqL31cbiAgICAgICAgICAgICAge3ZhbGlkUmVjb3Jkcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxJbmxpbmVBbGVydFxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIndhcm5pbmdcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJObyBWYWxpZCBSZWNvcmRzXCJcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9XCJBbGwgcmVjb3JkcyBpbiB0aGUgdXBsb2FkZWQgZmlsZSBoYXZlIGVycm9ycy4gUGxlYXNlIGZpeCB0aGUgZXJyb3JzIGFuZCB1cGxvYWQgYWdhaW4uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17aGFuZGxlUmVzZXR9IHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIE5ldyBGaWxlXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0lubGluZUFsZXJ0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBTdGVwIDM6IEFwcGxpZWQgU3VjY2Vzc2Z1bGx5ICovfVxuICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gXCJhcHBsaWVkXCIgJiYgYXBwbHlTdWNjZXNzICYmIChcbiAgICAgICAgICAgIDxDYXJkIHBhZGRpbmc9XCJsZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE2IHctMTYgcm91bmRlZC1mdWxsIGJnLXN1Y2Nlc3MvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtOCB3LTggdGV4dC1zdWNjZXNzXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIFByaWNpbmcgVXBkYXRlcyBBcHBsaWVkIFN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgQWxsIHByaWNlIGNoYW5nZXMgaGF2ZSBiZWVuIGFwcGxpZWQgdG8geW91ciBTaG9waWZ5IHN0b3JlLiBDaGFuZ2VzIHNob3VsZCBiZSB2aXNpYmxlIG9uIHlvdXIgc3RvcmVmcm9udCBzaG9ydGx5LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwicHJpbWFyeVwiIG9uQ2xpY2s9e2hhbmRsZVJlc2V0fT5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIEFub3RoZXIgRmlsZVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgKX1cblxuICAgICAgey8qIEFwcGx5IERpYWxvZyAqL31cbiAgICAgIDxBcHBseVByaWNpbmdEaWFsb2dcbiAgICAgICAgb3Blbj17aXNEaWFsb2dPcGVufVxuICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzRGlhbG9nT3Blbn1cbiAgICAgICAgcmVjb3Jkcz17dmFsaWRSZWNvcmRzfVxuICAgICAgICBvbkFwcGx5PXtoYW5kbGVBcHBseVByaWNpbmd9XG4gICAgICAgIGhhc0Vycm9ycz17ISFoYXNFcnJvcnN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sImZpbGUiOiJDOi9Qcm9qZWN0cy9Tb3VyY2UgNCBJbmR1c3RyaWVzL3NyYy9wYWdlcy9tYXJrZXRpbmcvcHJpY2luZy11cGRhdGUvcGFnZS50c3gifQ==