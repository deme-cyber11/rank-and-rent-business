const POSTING_SCHEDULES = {
  "Zac": {
    "LinkedIn": {
      optimalDays: [1, 3, 5],
      // Mon, Wed, Fri
      optimalTimes: ["8:00 AM", "12:00 PM", "5:00 PM"],
      frequency: "3x per week",
      engagementPeak: "Morning commute and lunch break"
    },
    "Instagram": {
      optimalDays: [1, 3, 5, 0],
      // Mon, Wed, Fri, Sun
      optimalTimes: ["9:00 AM", "1:00 PM", "7:00 PM"],
      frequency: "4x per week",
      engagementPeak: "Evening scroll time"
    },
    "Facebook": {
      optimalDays: [1, 3, 5],
      // Mon, Wed, Fri
      optimalTimes: ["9:00 AM", "1:00 PM", "4:00 PM"],
      frequency: "2-3x per week",
      engagementPeak: "Afternoon break"
    },
    "Twitter": {
      optimalDays: [1, 2, 3, 4, 5],
      // Weekdays
      optimalTimes: ["8:00 AM", "12:00 PM", "6:00 PM"],
      frequency: "Daily",
      engagementPeak: "Throughout the day"
    },
    "Blog": {
      optimalDays: [2, 4],
      // Tue, Thu
      optimalTimes: ["10:00 AM"],
      frequency: "2x per week",
      engagementPeak: "Mid-morning"
    },
    "Newsletter": {
      optimalDays: [2],
      // Tuesday
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning"
    },
    "Skool": {
      optimalDays: [1, 3, 5],
      // Mon, Wed, Fri
      optimalTimes: ["10:00 AM", "2:00 PM"],
      frequency: "3x per week",
      engagementPeak: "Mid-day"
    },
    "ISO Newsletter": {
      optimalDays: [2],
      // Tuesday
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning"
    }
  },
  "Luke": {
    "LinkedIn": {
      optimalDays: [1, 3, 5],
      // Mon, Wed, Fri
      optimalTimes: ["8:00 AM", "12:00 PM", "5:00 PM"],
      frequency: "3x per week",
      engagementPeak: "Business hours"
    },
    "Instagram": {
      optimalDays: [1, 3, 5, 0],
      // Mon, Wed, Fri, Sun
      optimalTimes: ["9:00 AM", "1:00 PM", "7:00 PM"],
      frequency: "4x per week",
      engagementPeak: "Evening for real estate investors"
    },
    "Facebook": {
      optimalDays: [1, 3, 5],
      // Mon, Wed, Fri
      optimalTimes: ["9:00 AM", "1:00 PM", "6:00 PM"],
      frequency: "2-3x per week",
      engagementPeak: "Lunch and after work"
    },
    "Twitter": {
      optimalDays: [1, 2, 3, 4, 5],
      optimalTimes: ["8:00 AM", "12:00 PM", "6:00 PM"],
      frequency: "Daily",
      engagementPeak: "Throughout the day"
    },
    "Skool": {
      optimalDays: [0, 1, 2, 3, 4, 5, 6],
      // Daily
      optimalTimes: ["10:00 AM", "2:00 PM", "8:00 PM"],
      frequency: "Daily community engagement",
      engagementPeak: "Evening for investors"
    },
    "Blog": {
      optimalDays: [2, 4],
      optimalTimes: ["10:00 AM"],
      frequency: "2x per week",
      engagementPeak: "Mid-morning"
    },
    "Newsletter": {
      optimalDays: [2],
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning"
    },
    "ISO Newsletter": {
      optimalDays: [2],
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning"
    }
  },
  "Huge Capital": {
    "Facebook": {
      optimalDays: [1, 3, 5, 6],
      // Mon, Wed, Fri, Sat
      optimalTimes: ["9:00 AM", "1:00 PM", "6:00 PM"],
      frequency: "3-4x per week",
      engagementPeak: "Weekends for small business owners"
    },
    "Blog": {
      optimalDays: [2, 4],
      // Tue, Thu
      optimalTimes: ["10:00 AM"],
      frequency: "2x per week",
      engagementPeak: "Mid-morning search traffic"
    },
    "Newsletter": {
      optimalDays: [2],
      // Tuesday
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning opens"
    },
    "LinkedIn": {
      optimalDays: [1, 3, 5],
      optimalTimes: ["8:00 AM", "12:00 PM"],
      frequency: "3x per week",
      engagementPeak: "Business hours"
    },
    "Instagram": {
      optimalDays: [1, 3, 5, 0],
      optimalTimes: ["9:00 AM", "1:00 PM", "7:00 PM"],
      frequency: "4x per week",
      engagementPeak: "Evening"
    },
    "Twitter": {
      optimalDays: [1, 2, 3, 4, 5],
      optimalTimes: ["8:00 AM", "12:00 PM"],
      frequency: "Daily",
      engagementPeak: "Throughout the day"
    },
    "Skool": {
      optimalDays: [1, 3, 5],
      optimalTimes: ["10:00 AM", "2:00 PM"],
      frequency: "3x per week",
      engagementPeak: "Mid-day"
    },
    "ISO Newsletter": {
      optimalDays: [2],
      optimalTimes: ["10:00 AM"],
      frequency: "Weekly",
      engagementPeak: "Tuesday morning"
    }
  }
};
const DAY_NAMES = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
function parseTime(timeStr) {
  const match = timeStr.match(/(\d+):(\d+)\s*(AM|PM)/i);
  if (!match) return { hours: 9, minutes: 0 };
  let hours = parseInt(match[1]);
  const minutes = parseInt(match[2]);
  const period = match[3].toUpperCase();
  if (period === "PM" && hours !== 12) hours += 12;
  if (period === "AM" && hours === 12) hours = 0;
  return { hours, minutes };
}
function formatDate(date) {
  const today = /* @__PURE__ */ new Date();
  const tomorrow = new Date(today);
  tomorrow.setDate(tomorrow.getDate() + 1);
  const isToday = date.toDateString() === today.toDateString();
  const isTomorrow = date.toDateString() === tomorrow.toDateString();
  if (isToday) return "Today";
  if (isTomorrow) return "Tomorrow";
  return `${DAY_NAMES[date.getDay()]}, ${date.toLocaleDateString("en-US", { month: "short", day: "numeric" })}`;
}
function getNextOccurrence(targetDay, targetTime, startFrom = /* @__PURE__ */ new Date()) {
  const result = new Date(startFrom);
  const { hours, minutes } = parseTime(targetTime);
  const currentDay = result.getDay();
  let daysToAdd = targetDay - currentDay;
  if (daysToAdd < 0) daysToAdd += 7;
  if (daysToAdd === 0) {
    result.setHours(hours, minutes, 0, 0);
    if (result <= startFrom) {
      daysToAdd = 7;
    }
  }
  if (daysToAdd > 0) {
    result.setDate(result.getDate() + daysToAdd);
  }
  result.setHours(hours, minutes, 0, 0);
  return result;
}
export function getSuggestedTimes(persona, platform) {
  console.log(`[Scheduling] Getting suggested times for: ${persona} on ${platform}`);
  const validPersonas = ["Zac", "Luke", "Huge Capital"];
  if (!validPersonas.includes(persona)) {
    console.warn(`[Scheduling] Invalid persona: "${persona}", falling back to defaults`);
  }
  const schedule = POSTING_SCHEDULES[persona]?.[platform];
  console.log(`[Scheduling] Schedule found:`, schedule ? "Yes" : "No");
  if (!schedule) {
    console.log(`[Scheduling] Using default times for ${persona} on ${platform}`);
    const tomorrow = /* @__PURE__ */ new Date();
    tomorrow.setDate(tomorrow.getDate() + 1);
    const defaultHour = persona === "Huge Capital" ? 10 : persona === "Luke" ? 9 : 8;
    tomorrow.setHours(defaultHour, 0, 0, 0);
    const dayAfter = new Date(tomorrow);
    dayAfter.setDate(dayAfter.getDate() + 1);
    dayAfter.setHours(12, 0, 0, 0);
    const twoDaysLater = new Date(tomorrow);
    twoDaysLater.setDate(twoDaysLater.getDate() + 2);
    twoDaysLater.setHours(17, 0, 0, 0);
    return [
      {
        date: tomorrow,
        time: `${defaultHour}:00 AM`,
        label: `Tomorrow at ${defaultHour}:00 AM`,
        reason: `Suggested time for ${persona}`
      },
      {
        date: dayAfter,
        time: "12:00 PM",
        label: `${formatDate(dayAfter)} at 12:00 PM`,
        reason: "Midday engagement window"
      },
      {
        date: twoDaysLater,
        time: "5:00 PM",
        label: `${formatDate(twoDaysLater)} at 5:00 PM`,
        reason: "End of day engagement"
      }
    ];
  }
  const suggestions = [];
  const now = /* @__PURE__ */ new Date();
  const usedDates = /* @__PURE__ */ new Set();
  for (const day of schedule.optimalDays) {
    for (const time of schedule.optimalTimes) {
      if (suggestions.length >= 3) break;
      const suggestedDate = getNextOccurrence(day, time, now);
      const dateKey = suggestedDate.toISOString();
      if (usedDates.has(dateKey)) continue;
      usedDates.add(dateKey);
      suggestions.push({
        date: suggestedDate,
        time,
        label: `${formatDate(suggestedDate)} at ${time}`,
        reason: `${schedule.engagementPeak} - ${schedule.frequency}`
      });
    }
    if (suggestions.length >= 3) break;
  }
  suggestions.sort((a, b) => a.date.getTime() - b.date.getTime());
  return suggestions.slice(0, 3);
}
export function getScheduleInfo(persona, platform) {
  return POSTING_SCHEDULES[persona]?.[platform] || null;
}
const STORAGE_KEY = "huge-capital-scheduled-posts";
export function getScheduledPosts() {
  try {
    const stored = localStorage.getItem(STORAGE_KEY);
    if (!stored) return [];
    return JSON.parse(stored);
  } catch (error) {
    console.error("Failed to load scheduled posts:", error);
    return [];
  }
}
export function saveScheduledPost(content, scheduledFor) {
  const posts = getScheduledPosts();
  console.log(`[Scheduling] Saving post for persona: "${content.metadata.persona}", platform: "${content.metadata.platform}"`);
  const newPost = {
    id: `post-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,
    content: content.content,
    persona: content.metadata.persona,
    platform: content.metadata.platform,
    scheduledFor: scheduledFor.toISOString(),
    hashtags: content.hashtags,
    imagePrompt: content.imagePrompt,
    status: "scheduled",
    createdAt: (/* @__PURE__ */ new Date()).toISOString()
  };
  posts.push(newPost);
  try {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
    console.log(`[Scheduling] Post saved successfully. Total posts: ${posts.length}`);
    console.log(`[Scheduling] Posts by persona:`, posts.reduce((acc, p) => {
      acc[p.persona] = (acc[p.persona] || 0) + 1;
      return acc;
    }, {}));
  } catch (error) {
    console.error("Failed to save scheduled post:", error);
  }
  return newPost;
}
export function updatePostStatus(postId, status) {
  const posts = getScheduledPosts();
  const index = posts.findIndex((p) => p.id === postId);
  if (index !== -1) {
    posts[index].status = status;
    localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
  }
}
export function deleteScheduledPost(postId) {
  const posts = getScheduledPosts().filter((p) => p.id !== postId);
  localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
}
export function getPostsForDateRange(startDate, endDate) {
  const posts = getScheduledPosts();
  return posts.filter((post) => {
    const postDate = new Date(post.scheduledFor);
    return postDate >= startDate && postDate <= endDate;
  });
}
export function getPostsForDate(date) {
  const posts = getScheduledPosts();
  const targetDate = date.toDateString();
  return posts.filter((post) => {
    const postDate = new Date(post.scheduledFor);
    return postDate.toDateString() === targetDate;
  });
}
export function toContentPost(post) {
  return {
    id: post.id,
    content: post.content,
    personName: post.persona,
    platform: post.platform,
    scheduledFor: post.scheduledFor,
    tags: post.hashtags,
    status: post.status,
    createdAt: post.createdAt,
    updatedAt: post.createdAt,
    versionNumber: 1
  };
}
export default {
  getSuggestedTimes,
  getScheduleInfo,
  getScheduledPosts,
  saveScheduledPost,
  updatePostStatus,
  deleteScheduledPost,
  getPostsForDateRange,
  getPostsForDate,
  toContentPost
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjaGVkdWxpbmdTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBTY2hlZHVsaW5nIFNlcnZpY2UgKEQyIC0gQ29udGVudCBDYWxlbmRhciBHZW5lcmF0b3IpXHJcbiAqXHJcbiAqIFVzZXMgV2luc3RvbidzIHBlcnNvbmEvcGxhdGZvcm0ga25vd2xlZGdlIHRvIHN1Z2dlc3Qgb3B0aW1hbCBwb3N0aW5nIHRpbWVzLlxyXG4gKiBCYXNlZCBvbiBkYXRhIGZyb20gcGVyc29uYSBZQU1MIGZpbGVzIGFuZCBpbmR1c3RyeSBiZXN0IHByYWN0aWNlcy5cclxuICovXHJcblxyXG5pbXBvcnQgdHlwZSB7IFBlcnNvbiwgUGxhdGZvcm0sIENvbnRlbnRQb3N0IH0gZnJvbSAnLi4vdHlwZXMvY29udGVudCc7XHJcbmltcG9ydCB0eXBlIHsgR2VuZXJhdGVkQ29udGVudCB9IGZyb20gJy4vc2tpbGxzUnVubmVyJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRZUEVTXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNjaGVkdWxlZFBvc3Qge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG4gIHBlcnNvbmE6IFBlcnNvbjtcclxuICBwbGF0Zm9ybTogUGxhdGZvcm07XHJcbiAgc2NoZWR1bGVkRm9yOiBzdHJpbmc7IC8vIElTTyBkYXRlIHN0cmluZ1xyXG4gIGhhc2h0YWdzOiBzdHJpbmdbXTtcclxuICBpbWFnZVByb21wdD86IHtcclxuICAgIHN1YmplY3Q6IHN0cmluZztcclxuICAgIGJyaWVmQ29uY2VwdFByb21wdDogc3RyaW5nO1xyXG4gICAgcGx1Z0FuZFBsYXlQcm9tcHQ6IHN0cmluZztcclxuICB9O1xyXG4gIHN0YXR1czogJ3NjaGVkdWxlZCcgfCAncHVibGlzaGVkJyB8ICdkcmFmdCc7XHJcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgU3VnZ2VzdGVkVGltZSB7XHJcbiAgZGF0ZTogRGF0ZTtcclxuICB0aW1lOiBzdHJpbmc7IC8vIFwiOTowMCBBTVwiXHJcbiAgbGFiZWw6IHN0cmluZzsgLy8gXCJUb21vcnJvdyBhdCA5OjAwIEFNXCJcclxuICByZWFzb246IHN0cmluZzsgLy8gXCJPcHRpbWFsIGVuZ2FnZW1lbnQgdGltZSBmb3IgTGlua2VkSW5cIlxyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBPUFRJTUFMIFBPU1RJTkcgU0NIRURVTEUgKEZyb20gV2luc3RvbidzIFBlcnNvbmEgWUFNTCBEYXRhKVxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuaW50ZXJmYWNlIFBsYXRmb3JtU2NoZWR1bGUge1xyXG4gIG9wdGltYWxEYXlzOiBudW1iZXJbXTsgLy8gMCA9IFN1bmRheSwgMSA9IE1vbmRheSwgZXRjLlxyXG4gIG9wdGltYWxUaW1lczogc3RyaW5nW107IC8vIFtcIjg6MDAgQU1cIiwgXCIxMjowMCBQTVwiLCBcIjU6MDAgUE1cIl1cclxuICBmcmVxdWVuY3k6IHN0cmluZztcclxuICBlbmdhZ2VtZW50UGVhazogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBQT1NUSU5HX1NDSEVEVUxFUzogUmVjb3JkPFBlcnNvbiwgUmVjb3JkPFBsYXRmb3JtLCBQbGF0Zm9ybVNjaGVkdWxlPj4gPSB7XHJcbiAgJ1phYyc6IHtcclxuICAgICdMaW5rZWRJbic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsxLCAzLCA1XSwgLy8gTW9uLCBXZWQsIEZyaVxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnODowMCBBTScsICcxMjowMCBQTScsICc1OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzN4IHBlciB3ZWVrJyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdNb3JuaW5nIGNvbW11dGUgYW5kIGx1bmNoIGJyZWFrJyxcclxuICAgIH0sXHJcbiAgICAnSW5zdGFncmFtJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzEsIDMsIDUsIDBdLCAvLyBNb24sIFdlZCwgRnJpLCBTdW5cclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzk6MDAgQU0nLCAnMTowMCBQTScsICc3OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzR4IHBlciB3ZWVrJyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdFdmVuaW5nIHNjcm9sbCB0aW1lJyxcclxuICAgIH0sXHJcbiAgICAnRmFjZWJvb2snOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMSwgMywgNV0sIC8vIE1vbiwgV2VkLCBGcmlcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzk6MDAgQU0nLCAnMTowMCBQTScsICc0OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzItM3ggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ0FmdGVybm9vbiBicmVhaycsXHJcbiAgICB9LFxyXG4gICAgJ1R3aXR0ZXInOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMSwgMiwgMywgNCwgNV0sIC8vIFdlZWtkYXlzXHJcbiAgICAgIG9wdGltYWxUaW1lczogWyc4OjAwIEFNJywgJzEyOjAwIFBNJywgJzY6MDAgUE0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnRGFpbHknLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ1Rocm91Z2hvdXQgdGhlIGRheScsXHJcbiAgICB9LFxyXG4gICAgJ0Jsb2cnOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMiwgNF0sIC8vIFR1ZSwgVGh1XHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICcyeCBwZXIgd2VlaycsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnTWlkLW1vcm5pbmcnLFxyXG4gICAgfSxcclxuICAgICdOZXdzbGV0dGVyJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzJdLCAvLyBUdWVzZGF5XHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICdXZWVrbHknLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ1R1ZXNkYXkgbW9ybmluZycsXHJcbiAgICB9LFxyXG4gICAgJ1Nrb29sJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzEsIDMsIDVdLCAvLyBNb24sIFdlZCwgRnJpXHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTScsICcyOjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzN4IHBlciB3ZWVrJyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdNaWQtZGF5JyxcclxuICAgIH0sXHJcbiAgICAnSVNPIE5ld3NsZXR0ZXInOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMl0sIC8vIFR1ZXNkYXlcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzEwOjAwIEFNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJ1dlZWtseScsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnVHVlc2RheSBtb3JuaW5nJyxcclxuICAgIH0sXHJcbiAgfSxcclxuICAnTHVrZSc6IHtcclxuICAgICdMaW5rZWRJbic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsxLCAzLCA1XSwgLy8gTW9uLCBXZWQsIEZyaVxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnODowMCBBTScsICcxMjowMCBQTScsICc1OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzN4IHBlciB3ZWVrJyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdCdXNpbmVzcyBob3VycycsXHJcbiAgICB9LFxyXG4gICAgJ0luc3RhZ3JhbSc6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsxLCAzLCA1LCAwXSwgLy8gTW9uLCBXZWQsIEZyaSwgU3VuXHJcbiAgICAgIG9wdGltYWxUaW1lczogWyc5OjAwIEFNJywgJzE6MDAgUE0nLCAnNzowMCBQTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICc0eCBwZXIgd2VlaycsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnRXZlbmluZyBmb3IgcmVhbCBlc3RhdGUgaW52ZXN0b3JzJyxcclxuICAgIH0sXHJcbiAgICAnRmFjZWJvb2snOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMSwgMywgNV0sIC8vIE1vbiwgV2VkLCBGcmlcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzk6MDAgQU0nLCAnMTowMCBQTScsICc2OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzItM3ggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ0x1bmNoIGFuZCBhZnRlciB3b3JrJyxcclxuICAgIH0sXHJcbiAgICAnVHdpdHRlcic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsxLCAyLCAzLCA0LCA1XSxcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzg6MDAgQU0nLCAnMTI6MDAgUE0nLCAnNjowMCBQTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICdEYWlseScsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnVGhyb3VnaG91dCB0aGUgZGF5JyxcclxuICAgIH0sXHJcbiAgICAnU2tvb2wnOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMCwgMSwgMiwgMywgNCwgNSwgNl0sIC8vIERhaWx5XHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTScsICcyOjAwIFBNJywgJzg6MDAgUE0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnRGFpbHkgY29tbXVuaXR5IGVuZ2FnZW1lbnQnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ0V2ZW5pbmcgZm9yIGludmVzdG9ycycsXHJcbiAgICB9LFxyXG4gICAgJ0Jsb2cnOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMiwgNF0sXHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICcyeCBwZXIgd2VlaycsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnTWlkLW1vcm5pbmcnLFxyXG4gICAgfSxcclxuICAgICdOZXdzbGV0dGVyJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzJdLFxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnMTA6MDAgQU0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnV2Vla2x5JyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdUdWVzZGF5IG1vcm5pbmcnLFxyXG4gICAgfSxcclxuICAgICdJU08gTmV3c2xldHRlcic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsyXSxcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzEwOjAwIEFNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJ1dlZWtseScsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnVHVlc2RheSBtb3JuaW5nJyxcclxuICAgIH0sXHJcbiAgfSxcclxuICAnSHVnZSBDYXBpdGFsJzoge1xyXG4gICAgJ0ZhY2Vib29rJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzEsIDMsIDUsIDZdLCAvLyBNb24sIFdlZCwgRnJpLCBTYXRcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzk6MDAgQU0nLCAnMTowMCBQTScsICc2OjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzMtNHggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ1dlZWtlbmRzIGZvciBzbWFsbCBidXNpbmVzcyBvd25lcnMnLFxyXG4gICAgfSxcclxuICAgICdCbG9nJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzIsIDRdLCAvLyBUdWUsIFRodVxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnMTA6MDAgQU0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnMnggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ01pZC1tb3JuaW5nIHNlYXJjaCB0cmFmZmljJyxcclxuICAgIH0sXHJcbiAgICAnTmV3c2xldHRlcic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsyXSwgLy8gVHVlc2RheVxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnMTA6MDAgQU0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnV2Vla2x5JyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdUdWVzZGF5IG1vcm5pbmcgb3BlbnMnLFxyXG4gICAgfSxcclxuICAgICdMaW5rZWRJbic6IHtcclxuICAgICAgb3B0aW1hbERheXM6IFsxLCAzLCA1XSxcclxuICAgICAgb3B0aW1hbFRpbWVzOiBbJzg6MDAgQU0nLCAnMTI6MDAgUE0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnM3ggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ0J1c2luZXNzIGhvdXJzJyxcclxuICAgIH0sXHJcbiAgICAnSW5zdGFncmFtJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzEsIDMsIDUsIDBdLFxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnOTowMCBBTScsICcxOjAwIFBNJywgJzc6MDAgUE0nXSxcclxuICAgICAgZnJlcXVlbmN5OiAnNHggcGVyIHdlZWsnLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ0V2ZW5pbmcnLFxyXG4gICAgfSxcclxuICAgICdUd2l0dGVyJzoge1xyXG4gICAgICBvcHRpbWFsRGF5czogWzEsIDIsIDMsIDQsIDVdLFxyXG4gICAgICBvcHRpbWFsVGltZXM6IFsnODowMCBBTScsICcxMjowMCBQTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICdEYWlseScsXHJcbiAgICAgIGVuZ2FnZW1lbnRQZWFrOiAnVGhyb3VnaG91dCB0aGUgZGF5JyxcclxuICAgIH0sXHJcbiAgICAnU2tvb2wnOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMSwgMywgNV0sXHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTScsICcyOjAwIFBNJ10sXHJcbiAgICAgIGZyZXF1ZW5jeTogJzN4IHBlciB3ZWVrJyxcclxuICAgICAgZW5nYWdlbWVudFBlYWs6ICdNaWQtZGF5JyxcclxuICAgIH0sXHJcbiAgICAnSVNPIE5ld3NsZXR0ZXInOiB7XHJcbiAgICAgIG9wdGltYWxEYXlzOiBbMl0sXHJcbiAgICAgIG9wdGltYWxUaW1lczogWycxMDowMCBBTSddLFxyXG4gICAgICBmcmVxdWVuY3k6ICdXZWVrbHknLFxyXG4gICAgICBlbmdhZ2VtZW50UGVhazogJ1R1ZXNkYXkgbW9ybmluZycsXHJcbiAgICB9LFxyXG4gIH0sXHJcbn07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIRUxQRVIgRlVOQ1RJT05TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5jb25zdCBEQVlfTkFNRVMgPSBbJ1N1bmRheScsICdNb25kYXknLCAnVHVlc2RheScsICdXZWRuZXNkYXknLCAnVGh1cnNkYXknLCAnRnJpZGF5JywgJ1NhdHVyZGF5J107XHJcblxyXG5mdW5jdGlvbiBwYXJzZVRpbWUodGltZVN0cjogc3RyaW5nKTogeyBob3VyczogbnVtYmVyOyBtaW51dGVzOiBudW1iZXIgfSB7XHJcbiAgY29uc3QgbWF0Y2ggPSB0aW1lU3RyLm1hdGNoKC8oXFxkKyk6KFxcZCspXFxzKihBTXxQTSkvaSk7XHJcbiAgaWYgKCFtYXRjaCkgcmV0dXJuIHsgaG91cnM6IDksIG1pbnV0ZXM6IDAgfTtcclxuXHJcbiAgbGV0IGhvdXJzID0gcGFyc2VJbnQobWF0Y2hbMV0pO1xyXG4gIGNvbnN0IG1pbnV0ZXMgPSBwYXJzZUludChtYXRjaFsyXSk7XHJcbiAgY29uc3QgcGVyaW9kID0gbWF0Y2hbM10udG9VcHBlckNhc2UoKTtcclxuXHJcbiAgaWYgKHBlcmlvZCA9PT0gJ1BNJyAmJiBob3VycyAhPT0gMTIpIGhvdXJzICs9IDEyO1xyXG4gIGlmIChwZXJpb2QgPT09ICdBTScgJiYgaG91cnMgPT09IDEyKSBob3VycyA9IDA7XHJcblxyXG4gIHJldHVybiB7IGhvdXJzLCBtaW51dGVzIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdERhdGUoZGF0ZTogRGF0ZSk6IHN0cmluZyB7XHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIGNvbnN0IHRvbW9ycm93ID0gbmV3IERhdGUodG9kYXkpO1xyXG4gIHRvbW9ycm93LnNldERhdGUodG9tb3Jyb3cuZ2V0RGF0ZSgpICsgMSk7XHJcblxyXG4gIGNvbnN0IGlzVG9kYXkgPSBkYXRlLnRvRGF0ZVN0cmluZygpID09PSB0b2RheS50b0RhdGVTdHJpbmcoKTtcclxuICBjb25zdCBpc1RvbW9ycm93ID0gZGF0ZS50b0RhdGVTdHJpbmcoKSA9PT0gdG9tb3Jyb3cudG9EYXRlU3RyaW5nKCk7XHJcblxyXG4gIGlmIChpc1RvZGF5KSByZXR1cm4gJ1RvZGF5JztcclxuICBpZiAoaXNUb21vcnJvdykgcmV0dXJuICdUb21vcnJvdyc7XHJcblxyXG4gIHJldHVybiBgJHtEQVlfTkFNRVNbZGF0ZS5nZXREYXkoKV19LCAke2RhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHsgbW9udGg6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE5leHRPY2N1cnJlbmNlKHRhcmdldERheTogbnVtYmVyLCB0YXJnZXRUaW1lOiBzdHJpbmcsIHN0YXJ0RnJvbTogRGF0ZSA9IG5ldyBEYXRlKCkpOiBEYXRlIHtcclxuICBjb25zdCByZXN1bHQgPSBuZXcgRGF0ZShzdGFydEZyb20pO1xyXG4gIGNvbnN0IHsgaG91cnMsIG1pbnV0ZXMgfSA9IHBhcnNlVGltZSh0YXJnZXRUaW1lKTtcclxuXHJcbiAgLy8gRmluZCB0aGUgbmV4dCBvY2N1cnJlbmNlIG9mIHRoZSB0YXJnZXQgZGF5XHJcbiAgY29uc3QgY3VycmVudERheSA9IHJlc3VsdC5nZXREYXkoKTtcclxuICBsZXQgZGF5c1RvQWRkID0gdGFyZ2V0RGF5IC0gY3VycmVudERheTtcclxuXHJcbiAgaWYgKGRheXNUb0FkZCA8IDApIGRheXNUb0FkZCArPSA3O1xyXG4gIGlmIChkYXlzVG9BZGQgPT09IDApIHtcclxuICAgIC8vIFNhbWUgZGF5IC0gY2hlY2sgaWYgdGltZSBoYXMgcGFzc2VkXHJcbiAgICByZXN1bHQuc2V0SG91cnMoaG91cnMsIG1pbnV0ZXMsIDAsIDApO1xyXG4gICAgaWYgKHJlc3VsdCA8PSBzdGFydEZyb20pIHtcclxuICAgICAgZGF5c1RvQWRkID0gNzsgLy8gTmV4dCB3ZWVrXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoZGF5c1RvQWRkID4gMCkge1xyXG4gICAgcmVzdWx0LnNldERhdGUocmVzdWx0LmdldERhdGUoKSArIGRheXNUb0FkZCk7XHJcbiAgfVxyXG5cclxuICByZXN1bHQuc2V0SG91cnMoaG91cnMsIG1pbnV0ZXMsIDAsIDApO1xyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIE1BSU4gRlVOQ1RJT05TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogR2V0IDMgc3VnZ2VzdGVkIG9wdGltYWwgcG9zdGluZyB0aW1lcyBmb3IgYSBwZXJzb25hL3BsYXRmb3JtIGNvbWJpbmF0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VnZ2VzdGVkVGltZXMocGVyc29uYTogUGVyc29uLCBwbGF0Zm9ybTogUGxhdGZvcm0pOiBTdWdnZXN0ZWRUaW1lW10ge1xyXG4gIGNvbnNvbGUubG9nKGBbU2NoZWR1bGluZ10gR2V0dGluZyBzdWdnZXN0ZWQgdGltZXMgZm9yOiAke3BlcnNvbmF9IG9uICR7cGxhdGZvcm19YCk7XHJcblxyXG4gIC8vIEVuc3VyZSBwZXJzb25hIGlzIHZhbGlkXHJcbiAgY29uc3QgdmFsaWRQZXJzb25hczogUGVyc29uW10gPSBbJ1phYycsICdMdWtlJywgJ0h1Z2UgQ2FwaXRhbCddO1xyXG4gIGlmICghdmFsaWRQZXJzb25hcy5pbmNsdWRlcyhwZXJzb25hKSkge1xyXG4gICAgY29uc29sZS53YXJuKGBbU2NoZWR1bGluZ10gSW52YWxpZCBwZXJzb25hOiBcIiR7cGVyc29uYX1cIiwgZmFsbGluZyBiYWNrIHRvIGRlZmF1bHRzYCk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBzY2hlZHVsZSA9IFBPU1RJTkdfU0NIRURVTEVTW3BlcnNvbmFdPy5bcGxhdGZvcm1dO1xyXG4gIGNvbnNvbGUubG9nKGBbU2NoZWR1bGluZ10gU2NoZWR1bGUgZm91bmQ6YCwgc2NoZWR1bGUgPyAnWWVzJyA6ICdObycpO1xyXG5cclxuICBpZiAoIXNjaGVkdWxlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW1NjaGVkdWxpbmddIFVzaW5nIGRlZmF1bHQgdGltZXMgZm9yICR7cGVyc29uYX0gb24gJHtwbGF0Zm9ybX1gKTtcclxuICAgIC8vIERlZmF1bHQgZmFsbGJhY2sgd2l0aCBwZXJzb25hLXNwZWNpZmljIHRpbWVzXHJcbiAgICBjb25zdCB0b21vcnJvdyA9IG5ldyBEYXRlKCk7XHJcbiAgICB0b21vcnJvdy5zZXREYXRlKHRvbW9ycm93LmdldERhdGUoKSArIDEpO1xyXG5cclxuICAgIC8vIFVzZSBwZXJzb25hLWF3YXJlIGRlZmF1bHQgdGltZXNcclxuICAgIGNvbnN0IGRlZmF1bHRIb3VyID0gcGVyc29uYSA9PT0gJ0h1Z2UgQ2FwaXRhbCcgPyAxMCA6IHBlcnNvbmEgPT09ICdMdWtlJyA/IDkgOiA4O1xyXG4gICAgdG9tb3Jyb3cuc2V0SG91cnMoZGVmYXVsdEhvdXIsIDAsIDAsIDApO1xyXG5cclxuICAgIGNvbnN0IGRheUFmdGVyID0gbmV3IERhdGUodG9tb3Jyb3cpO1xyXG4gICAgZGF5QWZ0ZXIuc2V0RGF0ZShkYXlBZnRlci5nZXREYXRlKCkgKyAxKTtcclxuICAgIGRheUFmdGVyLnNldEhvdXJzKDEyLCAwLCAwLCAwKTtcclxuXHJcbiAgICBjb25zdCB0d29EYXlzTGF0ZXIgPSBuZXcgRGF0ZSh0b21vcnJvdyk7XHJcbiAgICB0d29EYXlzTGF0ZXIuc2V0RGF0ZSh0d29EYXlzTGF0ZXIuZ2V0RGF0ZSgpICsgMik7XHJcbiAgICB0d29EYXlzTGF0ZXIuc2V0SG91cnMoMTcsIDAsIDAsIDApO1xyXG5cclxuICAgIHJldHVybiBbXHJcbiAgICAgIHtcclxuICAgICAgICBkYXRlOiB0b21vcnJvdyxcclxuICAgICAgICB0aW1lOiBgJHtkZWZhdWx0SG91cn06MDAgQU1gLFxyXG4gICAgICAgIGxhYmVsOiBgVG9tb3Jyb3cgYXQgJHtkZWZhdWx0SG91cn06MDAgQU1gLFxyXG4gICAgICAgIHJlYXNvbjogYFN1Z2dlc3RlZCB0aW1lIGZvciAke3BlcnNvbmF9YCxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGRhdGU6IGRheUFmdGVyLFxyXG4gICAgICAgIHRpbWU6ICcxMjowMCBQTScsXHJcbiAgICAgICAgbGFiZWw6IGAke2Zvcm1hdERhdGUoZGF5QWZ0ZXIpfSBhdCAxMjowMCBQTWAsXHJcbiAgICAgICAgcmVhc29uOiAnTWlkZGF5IGVuZ2FnZW1lbnQgd2luZG93JyxcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIGRhdGU6IHR3b0RheXNMYXRlcixcclxuICAgICAgICB0aW1lOiAnNTowMCBQTScsXHJcbiAgICAgICAgbGFiZWw6IGAke2Zvcm1hdERhdGUodHdvRGF5c0xhdGVyKX0gYXQgNTowMCBQTWAsXHJcbiAgICAgICAgcmVhc29uOiAnRW5kIG9mIGRheSBlbmdhZ2VtZW50JyxcclxuICAgICAgfSxcclxuICAgIF07XHJcbiAgfVxyXG5cclxuICBjb25zdCBzdWdnZXN0aW9uczogU3VnZ2VzdGVkVGltZVtdID0gW107XHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICBjb25zdCB1c2VkRGF0ZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgLy8gR2VuZXJhdGUgc3VnZ2VzdGlvbnMgYmFzZWQgb24gb3B0aW1hbCBkYXlzIGFuZCB0aW1lc1xyXG4gIGZvciAoY29uc3QgZGF5IG9mIHNjaGVkdWxlLm9wdGltYWxEYXlzKSB7XHJcbiAgICBmb3IgKGNvbnN0IHRpbWUgb2Ygc2NoZWR1bGUub3B0aW1hbFRpbWVzKSB7XHJcbiAgICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGggPj0gMykgYnJlYWs7XHJcblxyXG4gICAgICBjb25zdCBzdWdnZXN0ZWREYXRlID0gZ2V0TmV4dE9jY3VycmVuY2UoZGF5LCB0aW1lLCBub3cpO1xyXG4gICAgICBjb25zdCBkYXRlS2V5ID0gc3VnZ2VzdGVkRGF0ZS50b0lTT1N0cmluZygpO1xyXG5cclxuICAgICAgLy8gQXZvaWQgZHVwbGljYXRlIGRhdGVzXHJcbiAgICAgIGlmICh1c2VkRGF0ZXMuaGFzKGRhdGVLZXkpKSBjb250aW51ZTtcclxuICAgICAgdXNlZERhdGVzLmFkZChkYXRlS2V5KTtcclxuXHJcbiAgICAgIHN1Z2dlc3Rpb25zLnB1c2goe1xyXG4gICAgICAgIGRhdGU6IHN1Z2dlc3RlZERhdGUsXHJcbiAgICAgICAgdGltZSxcclxuICAgICAgICBsYWJlbDogYCR7Zm9ybWF0RGF0ZShzdWdnZXN0ZWREYXRlKX0gYXQgJHt0aW1lfWAsXHJcbiAgICAgICAgcmVhc29uOiBgJHtzY2hlZHVsZS5lbmdhZ2VtZW50UGVha30gLSAke3NjaGVkdWxlLmZyZXF1ZW5jeX1gLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzdWdnZXN0aW9ucy5sZW5ndGggPj0gMykgYnJlYWs7XHJcbiAgfVxyXG5cclxuICAvLyBTb3J0IGJ5IGRhdGVcclxuICBzdWdnZXN0aW9ucy5zb3J0KChhLCBiKSA9PiBhLmRhdGUuZ2V0VGltZSgpIC0gYi5kYXRlLmdldFRpbWUoKSk7XHJcblxyXG4gIHJldHVybiBzdWdnZXN0aW9ucy5zbGljZSgwLCAzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgc2NoZWR1bGUgY29uZmlndXJhdGlvbiBmb3IgYSBwZXJzb25hL3BsYXRmb3JtXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZWR1bGVJbmZvKHBlcnNvbmE6IFBlcnNvbiwgcGxhdGZvcm06IFBsYXRmb3JtKTogUGxhdGZvcm1TY2hlZHVsZSB8IG51bGwge1xyXG4gIHJldHVybiBQT1NUSU5HX1NDSEVEVUxFU1twZXJzb25hXT8uW3BsYXRmb3JtXSB8fCBudWxsO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBMT0NBTCBTVE9SQUdFIE1BTkFHRU1FTlRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmNvbnN0IFNUT1JBR0VfS0VZID0gJ2h1Z2UtY2FwaXRhbC1zY2hlZHVsZWQtcG9zdHMnO1xyXG5cclxuLyoqXHJcbiAqIEdldCBhbGwgc2NoZWR1bGVkIHBvc3RzIGZyb20gbG9jYWxTdG9yYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2NoZWR1bGVkUG9zdHMoKTogU2NoZWR1bGVkUG9zdFtdIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3RvcmVkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU1RPUkFHRV9LRVkpO1xyXG4gICAgaWYgKCFzdG9yZWQpIHJldHVybiBbXTtcclxuICAgIHJldHVybiBKU09OLnBhcnNlKHN0b3JlZCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIHNjaGVkdWxlZCBwb3N0czonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU2F2ZSBhIG5ldyBzY2hlZHVsZWQgcG9zdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHNhdmVTY2hlZHVsZWRQb3N0KFxyXG4gIGNvbnRlbnQ6IEdlbmVyYXRlZENvbnRlbnQsXHJcbiAgc2NoZWR1bGVkRm9yOiBEYXRlXHJcbik6IFNjaGVkdWxlZFBvc3Qge1xyXG4gIGNvbnN0IHBvc3RzID0gZ2V0U2NoZWR1bGVkUG9zdHMoKTtcclxuXHJcbiAgY29uc29sZS5sb2coYFtTY2hlZHVsaW5nXSBTYXZpbmcgcG9zdCBmb3IgcGVyc29uYTogXCIke2NvbnRlbnQubWV0YWRhdGEucGVyc29uYX1cIiwgcGxhdGZvcm06IFwiJHtjb250ZW50Lm1ldGFkYXRhLnBsYXRmb3JtfVwiYCk7XHJcblxyXG4gIGNvbnN0IG5ld1Bvc3Q6IFNjaGVkdWxlZFBvc3QgPSB7XHJcbiAgICBpZDogYHBvc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxyXG4gICAgY29udGVudDogY29udGVudC5jb250ZW50LFxyXG4gICAgcGVyc29uYTogY29udGVudC5tZXRhZGF0YS5wZXJzb25hLFxyXG4gICAgcGxhdGZvcm06IGNvbnRlbnQubWV0YWRhdGEucGxhdGZvcm0sXHJcbiAgICBzY2hlZHVsZWRGb3I6IHNjaGVkdWxlZEZvci50b0lTT1N0cmluZygpLFxyXG4gICAgaGFzaHRhZ3M6IGNvbnRlbnQuaGFzaHRhZ3MsXHJcbiAgICBpbWFnZVByb21wdDogY29udGVudC5pbWFnZVByb21wdCxcclxuICAgIHN0YXR1czogJ3NjaGVkdWxlZCcsXHJcbiAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICB9O1xyXG5cclxuICBwb3N0cy5wdXNoKG5ld1Bvc3QpO1xyXG5cclxuICB0cnkge1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHBvc3RzKSk7XHJcbiAgICBjb25zb2xlLmxvZyhgW1NjaGVkdWxpbmddIFBvc3Qgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiBUb3RhbCBwb3N0czogJHtwb3N0cy5sZW5ndGh9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhgW1NjaGVkdWxpbmddIFBvc3RzIGJ5IHBlcnNvbmE6YCwgcG9zdHMucmVkdWNlKChhY2MsIHApID0+IHtcclxuICAgICAgYWNjW3AucGVyc29uYV0gPSAoYWNjW3AucGVyc29uYV0gfHwgMCkgKyAxO1xyXG4gICAgICByZXR1cm4gYWNjO1xyXG4gICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPikpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzY2hlZHVsZWQgcG9zdDonLCBlcnJvcik7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gbmV3UG9zdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZSBhIHNjaGVkdWxlZCBwb3N0J3Mgc3RhdHVzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUG9zdFN0YXR1cyhwb3N0SWQ6IHN0cmluZywgc3RhdHVzOiBTY2hlZHVsZWRQb3N0WydzdGF0dXMnXSk6IHZvaWQge1xyXG4gIGNvbnN0IHBvc3RzID0gZ2V0U2NoZWR1bGVkUG9zdHMoKTtcclxuICBjb25zdCBpbmRleCA9IHBvc3RzLmZpbmRJbmRleChwID0+IHAuaWQgPT09IHBvc3RJZCk7XHJcblxyXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcclxuICAgIHBvc3RzW2luZGV4XS5zdGF0dXMgPSBzdGF0dXM7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkocG9zdHMpKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEZWxldGUgYSBzY2hlZHVsZWQgcG9zdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZVNjaGVkdWxlZFBvc3QocG9zdElkOiBzdHJpbmcpOiB2b2lkIHtcclxuICBjb25zdCBwb3N0cyA9IGdldFNjaGVkdWxlZFBvc3RzKCkuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcG9zdElkKTtcclxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkocG9zdHMpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldCBwb3N0cyBmb3IgYSBzcGVjaWZpYyBkYXRlIHJhbmdlIChmb3IgY2FsZW5kYXIgdmlldylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0c0ZvckRhdGVSYW5nZShzdGFydERhdGU6IERhdGUsIGVuZERhdGU6IERhdGUpOiBTY2hlZHVsZWRQb3N0W10ge1xyXG4gIGNvbnN0IHBvc3RzID0gZ2V0U2NoZWR1bGVkUG9zdHMoKTtcclxuXHJcbiAgcmV0dXJuIHBvc3RzLmZpbHRlcihwb3N0ID0+IHtcclxuICAgIGNvbnN0IHBvc3REYXRlID0gbmV3IERhdGUocG9zdC5zY2hlZHVsZWRGb3IpO1xyXG4gICAgcmV0dXJuIHBvc3REYXRlID49IHN0YXJ0RGF0ZSAmJiBwb3N0RGF0ZSA8PSBlbmREYXRlO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHBvc3RzIGZvciBhIHNwZWNpZmljIGRhdGUgKGZvciBjYWxlbmRhciBkYXkgdmlldylcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0c0ZvckRhdGUoZGF0ZTogRGF0ZSk6IFNjaGVkdWxlZFBvc3RbXSB7XHJcbiAgY29uc3QgcG9zdHMgPSBnZXRTY2hlZHVsZWRQb3N0cygpO1xyXG4gIGNvbnN0IHRhcmdldERhdGUgPSBkYXRlLnRvRGF0ZVN0cmluZygpO1xyXG5cclxuICByZXR1cm4gcG9zdHMuZmlsdGVyKHBvc3QgPT4ge1xyXG4gICAgY29uc3QgcG9zdERhdGUgPSBuZXcgRGF0ZShwb3N0LnNjaGVkdWxlZEZvcik7XHJcbiAgICByZXR1cm4gcG9zdERhdGUudG9EYXRlU3RyaW5nKCkgPT09IHRhcmdldERhdGU7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0IFNjaGVkdWxlZFBvc3QgdG8gQ29udGVudFBvc3QgZm9ybWF0IChmb3IgY29tcGF0aWJpbGl0eSB3aXRoIGV4aXN0aW5nIGNhbGVuZGFyKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHRvQ29udGVudFBvc3QocG9zdDogU2NoZWR1bGVkUG9zdCk6IENvbnRlbnRQb3N0IHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IHBvc3QuaWQsXHJcbiAgICBjb250ZW50OiBwb3N0LmNvbnRlbnQsXHJcbiAgICBwZXJzb25OYW1lOiBwb3N0LnBlcnNvbmEsXHJcbiAgICBwbGF0Zm9ybTogcG9zdC5wbGF0Zm9ybSxcclxuICAgIHNjaGVkdWxlZEZvcjogcG9zdC5zY2hlZHVsZWRGb3IsXHJcbiAgICB0YWdzOiBwb3N0Lmhhc2h0YWdzLFxyXG4gICAgc3RhdHVzOiBwb3N0LnN0YXR1cyxcclxuICAgIGNyZWF0ZWRBdDogcG9zdC5jcmVhdGVkQXQsXHJcbiAgICB1cGRhdGVkQXQ6IHBvc3QuY3JlYXRlZEF0LFxyXG4gICAgdmVyc2lvbk51bWJlcjogMSxcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgZ2V0U3VnZ2VzdGVkVGltZXMsXHJcbiAgZ2V0U2NoZWR1bGVJbmZvLFxyXG4gIGdldFNjaGVkdWxlZFBvc3RzLFxyXG4gIHNhdmVTY2hlZHVsZWRQb3N0LFxyXG4gIHVwZGF0ZVBvc3RTdGF0dXMsXHJcbiAgZGVsZXRlU2NoZWR1bGVkUG9zdCxcclxuICBnZXRQb3N0c0ZvckRhdGVSYW5nZSxcclxuICBnZXRQb3N0c0ZvckRhdGUsXHJcbiAgdG9Db250ZW50UG9zdCxcclxufTtcclxuIl0sIm1hcHBpbmdzIjoiQUFnREEsTUFBTSxvQkFBd0U7QUFBQSxFQUM1RSxPQUFPO0FBQUEsSUFDTCxZQUFZO0FBQUEsTUFDVixhQUFhLENBQUMsR0FBRyxHQUFHLENBQUM7QUFBQTtBQUFBLE1BQ3JCLGNBQWMsQ0FBQyxXQUFXLFlBQVksU0FBUztBQUFBLE1BQy9DLFdBQVc7QUFBQSxNQUNYLGdCQUFnQjtBQUFBLElBQ2xCO0FBQUEsSUFDQSxhQUFhO0FBQUEsTUFDWCxhQUFhLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQztBQUFBO0FBQUEsTUFDeEIsY0FBYyxDQUFDLFdBQVcsV0FBVyxTQUFTO0FBQUEsTUFDOUMsV0FBVztBQUFBLE1BQ1gsZ0JBQWdCO0FBQUEsSUFDbEI7QUFBQSxJQUNBLFlBQVk7QUFBQSxNQUNWLGFBQWEsQ0FBQyxHQUFHLEdBQUcsQ0FBQztBQUFBO0FBQUEsTUFDckIsY0FBYyxDQUFDLFdBQVcsV0FBVyxTQUFTO0FBQUEsTUFDOUMsV0FBVztBQUFBLE1BQ1gsZ0JBQWdCO0FBQUEsSUFDbEI7QUFBQSxJQUNBLFdBQVc7QUFBQSxNQUNULGFBQWEsQ0FBQyxHQUFHLEdBQUcsR0FBRyxHQUFHLENBQUM7QUFBQTtBQUFBLE1BQzNCLGNBQWMsQ0FBQyxXQUFXLFlBQVksU0FBUztBQUFBLE1BQy9DLFdBQVc7QUFBQSxNQUNYLGdCQUFnQjtBQUFBLElBQ2xCO0FBQUEsSUFDQSxRQUFRO0FBQUEsTUFDTixhQUFhLENBQUMsR0FBRyxDQUFDO0FBQUE7QUFBQSxNQUNsQixjQUFjLENBQUMsVUFBVTtBQUFBLE1BQ3pCLFdBQVc7QUFBQSxNQUNYLGdCQUFnQjtBQUFBLElBQ2xCO0FBQUEsSUFDQSxjQUFjO0FBQUEsTUFDWixhQUFhLENBQUMsQ0FBQztBQUFBO0FBQUEsTUFDZixjQUFjLENBQUMsVUFBVTtB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