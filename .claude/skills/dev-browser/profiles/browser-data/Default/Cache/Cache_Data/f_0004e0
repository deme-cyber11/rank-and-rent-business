import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/pages/marketing/pricing-update/page.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=96fa1abf"; const Fragment = __vite__cjsImport0_react_jsxDevRuntime["Fragment"]; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=96fa1abf"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useCallback = __vite__cjsImport3_react["useCallback"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { RefreshCw, CheckCircle, AlertCircle } from "/node_modules/.vite/deps/lucide-react.js?v=8e4fabdf";
import { SectionHeader } from "/src/components/section-header.tsx";
import { Card } from "/src/components/ui/card.tsx";
import { Button } from "/src/components/ui/button.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { InlineAlert } from "/src/components/ui/inline-alert.tsx?t=1768439845259";
import {
  PricingFileUploader,
  PricingPreviewTable,
  ValidationErrorsPanel,
  ApplyPricingDialog,
  PriceCalculator,
  FormulaBuilder
} from "/src/components/pricing/index.ts?t=1768448964729";
import { useAuth } from "/src/vite/auth/auth-provider.tsx";
export function PricingUpdatePage() {
  _s();
  const auth = useAuth();
  const [currentStep, setCurrentStep] = useState("upload");
  const [shopifyData, setShopifyData] = useState(/* @__PURE__ */ new Map());
  const [isLoadingProducts, setIsLoadingProducts] = useState(true);
  const [loadingError, setLoadingError] = useState(null);
  const [processorResult, setProcessorResult] = useState(null);
  const [isDialogOpen, setIsDialogOpen] = useState(false);
  const [applySuccess, setApplySuccess] = useState(false);
  const [modifiedRecords, setModifiedRecords] = useState([]);
  const token = auth.session?.access_token;
  useEffect(() => {
    if (!token) return;
    fetchShopifyProducts();
  }, [token]);
  const fetchShopifyProducts = async () => {
    setIsLoadingProducts(true);
    setLoadingError(null);
    try {
      const response = await fetch("/api/marketing/shopify-products", {
        method: "GET",
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      const data = await response.json();
      if (!response.ok) {
        throw new Error(data.error || `Failed to fetch Shopify products (${response.status})`);
      }
      if (!data.success || !data.products) {
        throw new Error(data.error || "No product data returned");
      }
      const productMap = /* @__PURE__ */ new Map();
      data.products.forEach((product) => {
        product.variants?.forEach((variant) => {
          if (variant.sku) {
            const sku = variant.sku.trim().toUpperCase();
            productMap.set(sku, {
              sku,
              variantId: variant.id,
              productId: product.id,
              productTitle: product.title,
              variantTitle: variant.title,
              currentPrice: parseFloat(variant.price) || 0,
              compareAtPrice: variant.compareAtPrice ? parseFloat(variant.compareAtPrice) : null,
              handle: product.handle,
              status: product.status
            });
          }
        });
      });
      setShopifyData(productMap);
      console.log(`[PricingUpdatePage] Loaded ${productMap.size} products from Shopify`);
    } catch (error) {
      console.error("[PricingUpdatePage] Error fetching Shopify products:", error);
      setLoadingError(error instanceof Error ? error.message : "Failed to load product data");
    } finally {
      setIsLoadingProducts(false);
    }
  };
  const handleFileProcessed = useCallback((result) => {
    setProcessorResult(result);
    setModifiedRecords([...result.records]);
    setCurrentStep("preview");
    setApplySuccess(false);
  }, []);
  const handleApplyPricing = useCallback(async (records) => {
    const response = await fetch("/api/marketing/apply-pricing", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`
      },
      body: JSON.stringify({
        records: records.map((r) => ({
          shopifyProductId: r.productId,
          shopifyVariantId: r.variantId,
          sku: r.sku,
          productTitle: r.productTitle,
          currentPrice: r.currentPrice,
          newPrice: r.newPrice,
          compareAtPrice: r.newCompareAtPrice
        }))
      })
    });
    if (!response.ok) {
      const errorData = await response.json();
      throw new Error(errorData.error || "Failed to apply pricing updates");
    }
    const result = await response.json();
    if (!result.success) {
      throw new Error(result.error || "Failed to apply pricing updates");
    }
    setApplySuccess(true);
    setCurrentStep("applied");
  }, [token]);
  const handleReset = useCallback(() => {
    setCurrentStep("upload");
    setProcessorResult(null);
    setModifiedRecords([]);
    setApplySuccess(false);
    setIsDialogOpen(false);
  }, []);
  const handleRecordChange = useCallback((index, updatedRecord) => {
    setModifiedRecords((prev) => {
      const newRecords = [...prev];
      newRecords[index] = updatedRecord;
      return newRecords;
    });
  }, []);
  const hasModifications = useMemo(() => {
    if (!processorResult || modifiedRecords.length === 0) return false;
    const originalRecords = processorResult.records;
    if (originalRecords.length !== modifiedRecords.length) return true;
    return modifiedRecords.some((record, index) => {
      const original = originalRecords[index];
      return original && record.newPrice !== original.newPrice;
    });
  }, [processorResult, modifiedRecords]);
  const hasErrors = processorResult && processorResult.validation.errors.length > 0;
  const hasWarnings = processorResult && processorResult.validation.warnings.length > 0;
  const validRecords = processorResult?.records || [];
  const errorSkus = new Set(processorResult?.validation.errors.map((e) => e.sku) || []);
  const warningSkus = new Set(processorResult?.validation.warnings.map((w) => w.sku) || []);
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-8", children: [
    /* @__PURE__ */ jsxDEV(
      SectionHeader,
      {
        title: "Pricing Update",
        description: "Upload CSV files to bulk update product prices across your Shopify catalog.",
        badge: currentStep === "applied" ? "Applied" : currentStep === "preview" ? "Phase 2 - Calculation Tools" : void 0
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 205,
        columnNumber: 7
      },
      this
    ),
    isLoadingProducts && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", className: "text-center", children: /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col items-center gap-4", children: [
      /* @__PURE__ */ jsxDEV(RefreshCw, { className: "h-8 w-8 animate-spin text-primary" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 221,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV("div", { children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground", children: "Loading Product Data" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 223,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground", children: "Fetching product information from Shopify..." }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 224,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 222,
        columnNumber: 13
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 220,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 219,
      columnNumber: 7
    }, this),
    loadingError && /* @__PURE__ */ jsxDEV(
      InlineAlert,
      {
        variant: "warning",
        title: "Error Loading Products",
        message: loadingError,
        children: /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: fetchShopifyProducts, size: "sm", className: "mt-2", children: [
          /* @__PURE__ */ jsxDEV(RefreshCw, { className: "h-4 w-4" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 240,
            columnNumber: 13
          }, this),
          "Retry"
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 239,
          columnNumber: 11
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 234,
        columnNumber: 7
      },
      this
    ),
    !isLoadingProducts && !loadingError && /* @__PURE__ */ jsxDEV(Fragment, { children: [
      currentStep === "upload" && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV(
        PricingFileUploader,
        {
          shopifyData,
          onFileProcessed: handleFileProcessed
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 252,
          columnNumber: 15
        },
        this
      ) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 251,
        columnNumber: 9
      }, this),
      currentStep === "preview" && processorResult && /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
        /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: [
          /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground mb-4", children: "Validation Results" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 264,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV(
            ValidationErrorsPanel,
            {
              errors: processorResult.validation.errors,
              warnings: processorResult.validation.warnings
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 267,
              columnNumber: 17
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 263,
          columnNumber: 15
        }, this),
        modifiedRecords.length > 0 && /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 lg:grid-cols-2 gap-6", children: [
          /* @__PURE__ */ jsxDEV(
            PriceCalculator,
            {
              records: modifiedRecords,
              onRecordsChange: setModifiedRecords
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 276,
              columnNumber: 19
            },
            this
          ),
          /* @__PURE__ */ jsxDEV(
            FormulaBuilder,
            {
              records: modifiedRecords,
              onRecordsChange: setModifiedRecords
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 280,
              columnNumber: 19
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 275,
          columnNumber: 11
        }, this),
        modifiedRecords.length > 0 && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
          /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
            /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3", children: [
              /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground", children: "Price Changes Preview" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                lineNumber: 293,
                columnNumber: 25
              }, this),
              hasModifications && /* @__PURE__ */ jsxDEV(Badge, { variant: "warning", className: "flex items-center gap-1", children: [
                /* @__PURE__ */ jsxDEV(AlertCircle, { className: "h-3 w-3" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                  lineNumber: 299,
                  columnNumber: 29
                }, this),
                "Changes Pending"
              ] }, void 0, true, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                lineNumber: 298,
                columnNumber: 19
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 292,
              columnNumber: 23
            }, this),
            /* @__PURE__ */ jsxDEV("div", { className: "flex gap-2", children: [
              /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: handleReset, children: "Start Over" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                lineNumber: 305,
                columnNumber: 25
              }, this),
              /* @__PURE__ */ jsxDEV(
                Button,
                {
                  variant: "primary",
                  onClick: () => setIsDialogOpen(true),
                  disabled: hasErrors || modifiedRecords.length === 0,
                  children: "Apply Pricing Updates"
                },
                void 0,
                false,
                {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
                  lineNumber: 308,
                  columnNumber: 25
                },
                this
              )
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 304,
              columnNumber: 23
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 291,
            columnNumber: 21
          }, this),
          /* @__PURE__ */ jsxDEV(
            PricingPreviewTable,
            {
              records: modifiedRecords,
              errorSkus,
              warningSkus,
              editable: true,
              onRecordChange: handleRecordChange
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 318,
              columnNumber: 21
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 290,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 289,
          columnNumber: 11
        }, this),
        validRecords.length === 0 && /* @__PURE__ */ jsxDEV(
          InlineAlert,
          {
            variant: "warning",
            title: "No Valid Records",
            message: "All records in the uploaded file have errors. Please fix the errors and upload again.",
            children: /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: handleReset, size: "sm", className: "mt-2", children: "Upload New File" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
              lineNumber: 336,
              columnNumber: 19
            }, this)
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 331,
            columnNumber: 11
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 261,
        columnNumber: 9
      }, this),
      currentStep === "applied" && applySuccess && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV("div", { className: "text-center space-y-4", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex justify-center", children: /* @__PURE__ */ jsxDEV("div", { className: "h-16 w-16 rounded-full bg-success/10 flex items-center justify-center", children: /* @__PURE__ */ jsxDEV(CheckCircle, { className: "h-8 w-8 text-success" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 350,
          columnNumber: 21
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 349,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 348,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("h3", { className: "text-xl font-semibold text-foreground mb-2", children: "Pricing Updates Applied Successfully" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 354,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground max-w-md mx-auto", children: "All price changes have been applied to your Shopify store. Changes should be visible on your storefront shortly." }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
            lineNumber: 357,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 353,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex justify-center gap-2", children: /* @__PURE__ */ jsxDEV(Button, { variant: "primary", onClick: handleReset, children: "Upload Another File" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 362,
          columnNumber: 19
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
          lineNumber: 361,
          columnNumber: 17
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 347,
        columnNumber: 15
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 346,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
      lineNumber: 248,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(
      ApplyPricingDialog,
      {
        open: isDialogOpen,
        onOpenChange: setIsDialogOpen,
        records: validRecords,
        onApply: handleApplyPricing,
        hasErrors: !!hasErrors
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
        lineNumber: 373,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx",
    lineNumber: 203,
    columnNumber: 5
  }, this);
}
_s(PricingUpdatePage, "IY4qdYfrKMUfd2PX72FglK3bUdA=", false, function() {
  return [useAuth];
});
_c = PricingUpdatePage;
var _c;
$RefreshReg$(_c, "PricingUpdatePage");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/page.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QSxLQUhGO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFJQTtBQUFBLFFBQ0EsdUJBQUMsU0FDQztBQUFBLGlDQUFDLFFBQUcsV0FBVSw4Q0FBNEMsb0RBQTFEO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBRUE7QUFBQSxVQUNBLHVCQUFDLE9BQUUsV0FBVSxrREFBZ0QsZ0lBQTdEO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBRUE7QUFBQSxhQU5GO0FBQUE7QUFBQTtBQUFBO0FBQUEsZUFPQTtBQUFBLFFBQ0EsdUJBQUMsU0FBSSxXQUFVLDZCQUNiLGlDQUFDLFVBQU8sU0FBUSxXQUFVLFNBQVMyRCxhQUFZLG1DQUEvQztBQUFBO0FBQUE7QUFBQTtBQUFBLGVBRUEsS0FIRjtBQUFBO0FBQUE7QUFBQTtBQUFBLGVBSUE7QUFBQSxXQWxCRjtBQUFBO0FBQUE7QUFBQTtBQUFBLGFBbUJBLEtBcEJGO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFxQkE7QUFBQSxTQXZISjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBeUhBO0FBQUEsSUFJRjtBQUFBLE1BQUM7QUFBQTtBQUFBLFFBQ0MsTUFBTTdEO0FBQUFBLFFBQ04sY0FBY0M7QUFBQUEsUUFDZCxTQUFTNkU7QUFBQUEsUUFDVCxTQUFTNUI7QUFBQUEsUUFDVCxXQUFXLENBQUMsQ0FBQ3VCO0FBQUFBO0FBQUFBLE1BTGY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBS3lCO0FBQUEsT0EvSzNCO0FBQUE7QUFBQTtBQUFBO0FBQUEsU0FpTEE7QUFFSjtBQUFDM0csR0FoVmVxQixtQkFBaUI7QUFBQSxVQUNsQkQsT0FBTztBQUFBO0FBQUFtRyxLQURObEc7QUFBaUIsSUFBQWtHO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJfcyIsIiRSZWZyZXNoU2lnJCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VNZW1vIiwiUmVmcmVzaEN3IiwiQ2hlY2tDaXJjbGUiLCJBbGVydENpcmNsZSIsIlNlY3Rpb25IZWFkZXIiLCJDYXJkIiwiQnV0dG9uIiwiQmFkZ2UiLCJJbmxpbmVBbGVydCIsIlByaWNpbmdGaWxlVXBsb2FkZXIiLCJQcmljaW5nUHJldmlld1RhYmxlIiwiVmFsaWRhdGlvbkVycm9yc1BhbmVsIiwiQXBwbHlQcmljaW5nRGlhbG9nIiwiUHJpY2VDYWxjdWxhdG9yIiwiRm9ybXVsYUJ1aWxkZXIiLCJ1c2VBdXRoIiwiUHJpY2luZ1VwZGF0ZVBhZ2UiLCJhdXRoIiwiY3VycmVudFN0ZXAiLCJzZXRDdXJyZW50U3RlcCIsInNob3BpZnlEYXRhIiwic2V0U2hvcGlmeURhdGEiLCJNYXAiLCJpc0xvYWRpbmdQcm9kdWN0cyIsInNldElzTG9hZGluZ1Byb2R1Y3RzIiwibG9hZGluZ0Vycm9yIiwic2V0TG9hZGluZ0Vycm9yIiwicHJvY2Vzc29yUmVzdWx0Iiwic2V0UHJvY2Vzc29yUmVzdWx0IiwiaXNEaWFsb2dPcGVuIiwic2V0SXNEaWFsb2dPcGVuIiwiYXBwbHlTdWNjZXNzIiwic2V0QXBwbHlTdWNjZXNzIiwibW9kaWZpZWRSZWNvcmRzIiwic2V0TW9kaWZpZWRSZWNvcmRzIiwidG9rZW4iLCJzZXNzaW9uIiwiYWNjZXNzX3Rva2VuIiwiZmV0Y2hTaG9waWZ5UHJvZHVjdHMiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJkYXRhIiwianNvbiIsIm9rIiwiRXJyb3IiLCJlcnJvciIsInN0YXR1cyIsInN1Y2Nlc3MiLCJwcm9kdWN0cyIsInByb2R1Y3RNYXAiLCJmb3JFYWNoIiwicHJvZHVjdCIsInZhcmlhbnRzIiwidmFyaWFudCIsInNrdSIsInRyaW0iLCJ0b1VwcGVyQ2FzZSIsInNldCIsInZhcmlhbnRJZCIsImlkIiwicHJvZHVjdElkIiwicHJvZHVjdFRpdGxlIiwidGl0bGUiLCJ2YXJpYW50VGl0bGUiLCJjdXJyZW50UHJpY2UiLCJwYXJzZUZsb2F0IiwicHJpY2UiLCJjb21wYXJlQXRQcmljZSIsImhhbmRsZSIsImNvbnNvbGUiLCJsb2ciLCJzaXplIiwibWVzc2FnZSIsImhhbmRsZUZpbGVQcm9jZXNzZWQiLCJyZXN1bHQiLCJyZWNvcmRzIiwiaGFuZGxlQXBwbHlQcmljaW5nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXAiLCJyIiwic2hvcGlmeVByb2R1Y3RJZCIsInNob3BpZnlWYXJpYW50SWQiLCJuZXdQcmljZSIsIm5ld0NvbXBhcmVBdFByaWNlIiwiZXJyb3JEYXRhIiwiaGFuZGxlUmVzZXQiLCJoYW5kbGVSZWNvcmRDaGFuZ2UiLCJpbmRleCIsInVwZGF0ZWRSZWNvcmQiLCJwcmV2IiwibmV3UmVjb3JkcyIsImhhc01vZGlmaWNhdGlvbnMiLCJsZW5ndGgiLCJvcmlnaW5hbFJlY29yZHMiLCJzb21lIiwicmVjb3JkIiwib3JpZ2luYWwiLCJoYXNFcnJvcnMiLCJ2YWxpZGF0aW9uIiwiZXJyb3JzIiwiaGFzV2FybmluZ3MiLCJ3YXJuaW5ncyIsInZhbGlkUmVjb3JkcyIsImVycm9yU2t1cyIsIlNldCIsImUiLCJ3YXJuaW5nU2t1cyIsInciLCJ1bmRlZmluZWQiLCJfYyIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJwYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFJlZnJlc2hDdywgQ2hlY2tDaXJjbGUsIEFsZXJ0Q2lyY2xlIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xuaW1wb3J0IHsgU2VjdGlvbkhlYWRlciB9IGZyb20gXCJAL2NvbXBvbmVudHMvc2VjdGlvbi1oZWFkZXJcIjtcbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XG5pbXBvcnQgeyBCYWRnZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYmFkZ2VcIjtcbmltcG9ydCB7IElubGluZUFsZXJ0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbmxpbmUtYWxlcnRcIjtcbmltcG9ydCB7XG4gIFByaWNpbmdGaWxlVXBsb2FkZXIsXG4gIFByaWNpbmdQcmV2aWV3VGFibGUsXG4gIFZhbGlkYXRpb25FcnJvcnNQYW5lbCxcbiAgQXBwbHlQcmljaW5nRGlhbG9nLFxuICBQcmljZUNhbGN1bGF0b3IsXG4gIEZvcm11bGFCdWlsZGVyLFxufSBmcm9tIFwiQC9jb21wb25lbnRzL3ByaWNpbmdcIjtcbmltcG9ydCB7XG4gIHR5cGUgUHJpY2luZ1Byb2Nlc3NvclJlc3VsdCxcbiAgdHlwZSBQcmljZVVwZGF0ZVJlY29yZCxcbiAgdHlwZSBQcm9kdWN0RGF0YSxcbn0gZnJvbSBcIkAvbGliL3ByaWNpbmctcHJvY2Vzc29yXCI7XG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSBcIkAvdml0ZS9hdXRoL2F1dGgtcHJvdmlkZXJcIjtcblxudHlwZSBXb3JrZmxvd1N0ZXAgPSBcInVwbG9hZFwiIHwgXCJwcmV2aWV3XCIgfCBcImFwcGxpZWRcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIFByaWNpbmdVcGRhdGVQYWdlKCkge1xuICBjb25zdCBhdXRoID0gdXNlQXV0aCgpO1xuXG4gIC8vIFN0YXRlIG1hbmFnZW1lbnRcbiAgY29uc3QgW2N1cnJlbnRTdGVwLCBzZXRDdXJyZW50U3RlcF0gPSB1c2VTdGF0ZTxXb3JrZmxvd1N0ZXA+KFwidXBsb2FkXCIpO1xuICBjb25zdCBbc2hvcGlmeURhdGEsIHNldFNob3BpZnlEYXRhXSA9IHVzZVN0YXRlPE1hcDxzdHJpbmcsIFByb2R1Y3REYXRhPj4obmV3IE1hcCgpKTtcbiAgY29uc3QgW2lzTG9hZGluZ1Byb2R1Y3RzLCBzZXRJc0xvYWRpbmdQcm9kdWN0c10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2xvYWRpbmdFcnJvciwgc2V0TG9hZGluZ0Vycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbcHJvY2Vzc29yUmVzdWx0LCBzZXRQcm9jZXNzb3JSZXN1bHRdID0gdXNlU3RhdGU8UHJpY2luZ1Byb2Nlc3NvclJlc3VsdCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNEaWFsb2dPcGVuLCBzZXRJc0RpYWxvZ09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXBwbHlTdWNjZXNzLCBzZXRBcHBseVN1Y2Nlc3NdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbW9kaWZpZWRSZWNvcmRzLCBzZXRNb2RpZmllZFJlY29yZHNdID0gdXNlU3RhdGU8UHJpY2VVcGRhdGVSZWNvcmRbXT4oW10pO1xuXG4gIC8vIEdldCBhdXRoIHRva2VuXG4gIGNvbnN0IHRva2VuID0gYXV0aC5zZXNzaW9uPy5hY2Nlc3NfdG9rZW47XG5cbiAgLy8gRmV0Y2ggU2hvcGlmeSBwcm9kdWN0IGRhdGEgb24gbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXRva2VuKSByZXR1cm47XG4gICAgZmV0Y2hTaG9waWZ5UHJvZHVjdHMoKTtcbiAgfSwgW3Rva2VuXSk7XG5cbiAgY29uc3QgZmV0Y2hTaG9waWZ5UHJvZHVjdHMgPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nUHJvZHVjdHModHJ1ZSk7XG4gICAgc2V0TG9hZGluZ0Vycm9yKG51bGwpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZldGNoIGZyb20gQVBJIGVuZHBvaW50IHRoYXQgcmV0dXJucyBhbGwgcHJvZHVjdHNcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL21hcmtldGluZy9zaG9waWZ5LXByb2R1Y3RzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICAgIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5lcnJvciB8fCBgRmFpbGVkIHRvIGZldGNoIFNob3BpZnkgcHJvZHVjdHMgKCR7cmVzcG9uc2Uuc3RhdHVzfSlgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MgfHwgIWRhdGEucHJvZHVjdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgXCJObyBwcm9kdWN0IGRhdGEgcmV0dXJuZWRcIik7XG4gICAgICB9XG5cbiAgICAgIC8vIFRyYW5zZm9ybSBBUEkgcmVzcG9uc2UgdG8gUHJvZHVjdERhdGEgbWFwXG4gICAgICBjb25zdCBwcm9kdWN0TWFwID0gbmV3IE1hcDxzdHJpbmcsIFByb2R1Y3REYXRhPigpO1xuXG4gICAgICBkYXRhLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3Q6IGFueSkgPT4ge1xuICAgICAgICBwcm9kdWN0LnZhcmlhbnRzPy5mb3JFYWNoKCh2YXJpYW50OiBhbnkpID0+IHtcbiAgICAgICAgICBpZiAodmFyaWFudC5za3UpIHtcbiAgICAgICAgICAgIGNvbnN0IHNrdSA9IHZhcmlhbnQuc2t1LnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgcHJvZHVjdE1hcC5zZXQoc2t1LCB7XG4gICAgICAgICAgICAgIHNrdTogc2t1LFxuICAgICAgICAgICAgICB2YXJpYW50SWQ6IHZhcmlhbnQuaWQsXG4gICAgICAgICAgICAgIHByb2R1Y3RJZDogcHJvZHVjdC5pZCxcbiAgICAgICAgICAgICAgcHJvZHVjdFRpdGxlOiBwcm9kdWN0LnRpdGxlLFxuICAgICAgICAgICAgICB2YXJpYW50VGl0bGU6IHZhcmlhbnQudGl0bGUsXG4gICAgICAgICAgICAgIGN1cnJlbnRQcmljZTogcGFyc2VGbG9hdCh2YXJpYW50LnByaWNlKSB8fCAwLFxuICAgICAgICAgICAgICBjb21wYXJlQXRQcmljZTogdmFyaWFudC5jb21wYXJlQXRQcmljZSA/IHBhcnNlRmxvYXQodmFyaWFudC5jb21wYXJlQXRQcmljZSkgOiBudWxsLFxuICAgICAgICAgICAgICBoYW5kbGU6IHByb2R1Y3QuaGFuZGxlLFxuICAgICAgICAgICAgICBzdGF0dXM6IHByb2R1Y3Quc3RhdHVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBzZXRTaG9waWZ5RGF0YShwcm9kdWN0TWFwKTtcbiAgICAgIGNvbnNvbGUubG9nKGBbUHJpY2luZ1VwZGF0ZVBhZ2VdIExvYWRlZCAke3Byb2R1Y3RNYXAuc2l6ZX0gcHJvZHVjdHMgZnJvbSBTaG9waWZ5YCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUHJpY2luZ1VwZGF0ZVBhZ2VdIEVycm9yIGZldGNoaW5nIFNob3BpZnkgcHJvZHVjdHM6XCIsIGVycm9yKTtcbiAgICAgIHNldExvYWRpbmdFcnJvcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGxvYWQgcHJvZHVjdCBkYXRhXCIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmdQcm9kdWN0cyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUZpbGVQcm9jZXNzZWQgPSB1c2VDYWxsYmFjaygocmVzdWx0OiBQcmljaW5nUHJvY2Vzc29yUmVzdWx0KSA9PiB7XG4gICAgc2V0UHJvY2Vzc29yUmVzdWx0KHJlc3VsdCk7XG4gICAgc2V0TW9kaWZpZWRSZWNvcmRzKFsuLi5yZXN1bHQucmVjb3Jkc10pOyAvLyBJbml0aWFsaXplIHdpdGggb3JpZ2luYWwgcmVjb3Jkc1xuICAgIHNldEN1cnJlbnRTdGVwKFwicHJldmlld1wiKTtcbiAgICBzZXRBcHBseVN1Y2Nlc3MoZmFsc2UpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlQXBwbHlQcmljaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKHJlY29yZHM6IFByaWNlVXBkYXRlUmVjb3JkW10pID0+IHtcbiAgICAvLyBDYWxsIEFQSSB0byBhcHBseSBwcmljaW5nIHVwZGF0ZXNcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFwiL2FwaS9tYXJrZXRpbmcvYXBwbHktcHJpY2luZ1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICByZWNvcmRzOiByZWNvcmRzLm1hcChyID0+ICh7XG4gICAgICAgICAgc2hvcGlmeVByb2R1Y3RJZDogci5wcm9kdWN0SWQsXG4gICAgICAgICAgc2hvcGlmeVZhcmlhbnRJZDogci52YXJpYW50SWQsXG4gICAgICAgICAgc2t1OiByLnNrdSxcbiAgICAgICAgICBwcm9kdWN0VGl0bGU6IHIucHJvZHVjdFRpdGxlLFxuICAgICAgICAgIGN1cnJlbnRQcmljZTogci5jdXJyZW50UHJpY2UsXG4gICAgICAgICAgbmV3UHJpY2U6IHIubmV3UHJpY2UsXG4gICAgICAgICAgY29tcGFyZUF0UHJpY2U6IHIubmV3Q29tcGFyZUF0UHJpY2UsXG4gICAgICAgIH0pKSxcbiAgICAgIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5lcnJvciB8fCBcIkZhaWxlZCB0byBhcHBseSBwcmljaW5nIHVwZGF0ZXNcIik7XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBhcHBseSBwcmljaW5nIHVwZGF0ZXNcIik7XG4gICAgfVxuXG4gICAgLy8gTWFyayBhcyBzdWNjZXNzZnVsbHkgYXBwbGllZFxuICAgIHNldEFwcGx5U3VjY2Vzcyh0cnVlKTtcbiAgICBzZXRDdXJyZW50U3RlcChcImFwcGxpZWRcIik7XG4gIH0sIFt0b2tlbl0pO1xuXG4gIGNvbnN0IGhhbmRsZVJlc2V0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEN1cnJlbnRTdGVwKFwidXBsb2FkXCIpO1xuICAgIHNldFByb2Nlc3NvclJlc3VsdChudWxsKTtcbiAgICBzZXRNb2RpZmllZFJlY29yZHMoW10pO1xuICAgIHNldEFwcGx5U3VjY2VzcyhmYWxzZSk7XG4gICAgc2V0SXNEaWFsb2dPcGVuKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIC8vIEhhbmRsZSBpbmRpdmlkdWFsIHJlY29yZCBjaGFuZ2UgZnJvbSBpbmxpbmUgZWRpdGluZ1xuICBjb25zdCBoYW5kbGVSZWNvcmRDaGFuZ2UgPSB1c2VDYWxsYmFjaygoaW5kZXg6IG51bWJlciwgdXBkYXRlZFJlY29yZDogUHJpY2VVcGRhdGVSZWNvcmQpID0+IHtcbiAgICBzZXRNb2RpZmllZFJlY29yZHMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdSZWNvcmRzID0gWy4uLnByZXZdO1xuICAgICAgbmV3UmVjb3Jkc1tpbmRleF0gPSB1cGRhdGVkUmVjb3JkO1xuICAgICAgcmV0dXJuIG5ld1JlY29yZHM7XG4gICAgfSk7XG4gIH0sIFtdKTtcblxuICAvLyBDaGVjayBpZiByZWNvcmRzIGhhdmUgYmVlbiBtb2RpZmllZCBmcm9tIG9yaWdpbmFsXG4gIGNvbnN0IGhhc01vZGlmaWNhdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoIXByb2Nlc3NvclJlc3VsdCB8fCBtb2RpZmllZFJlY29yZHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3Qgb3JpZ2luYWxSZWNvcmRzID0gcHJvY2Vzc29yUmVzdWx0LnJlY29yZHM7XG4gICAgaWYgKG9yaWdpbmFsUmVjb3Jkcy5sZW5ndGggIT09IG1vZGlmaWVkUmVjb3Jkcy5sZW5ndGgpIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIG1vZGlmaWVkUmVjb3Jkcy5zb21lKChyZWNvcmQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbCA9IG9yaWdpbmFsUmVjb3Jkc1tpbmRleF07XG4gICAgICByZXR1cm4gb3JpZ2luYWwgJiYgcmVjb3JkLm5ld1ByaWNlICE9PSBvcmlnaW5hbC5uZXdQcmljZTtcbiAgICB9KTtcbiAgfSwgW3Byb2Nlc3NvclJlc3VsdCwgbW9kaWZpZWRSZWNvcmRzXSk7XG5cbiAgY29uc3QgaGFzRXJyb3JzID0gcHJvY2Vzc29yUmVzdWx0ICYmIHByb2Nlc3NvclJlc3VsdC52YWxpZGF0aW9uLmVycm9ycy5sZW5ndGggPiAwO1xuICBjb25zdCBoYXNXYXJuaW5ncyA9IHByb2Nlc3NvclJlc3VsdCAmJiBwcm9jZXNzb3JSZXN1bHQudmFsaWRhdGlvbi53YXJuaW5ncy5sZW5ndGggPiAwO1xuICBjb25zdCB2YWxpZFJlY29yZHMgPSBwcm9jZXNzb3JSZXN1bHQ/LnJlY29yZHMgfHwgW107XG4gIGNvbnN0IGVycm9yU2t1cyA9IG5ldyBTZXQocHJvY2Vzc29yUmVzdWx0Py52YWxpZGF0aW9uLmVycm9ycy5tYXAoZSA9PiBlLnNrdSkgfHwgW10pO1xuICBjb25zdCB3YXJuaW5nU2t1cyA9IG5ldyBTZXQocHJvY2Vzc29yUmVzdWx0Py52YWxpZGF0aW9uLndhcm5pbmdzLm1hcCh3ID0+IHcuc2t1KSB8fCBbXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxTZWN0aW9uSGVhZGVyXG4gICAgICAgIHRpdGxlPVwiUHJpY2luZyBVcGRhdGVcIlxuICAgICAgICBkZXNjcmlwdGlvbj1cIlVwbG9hZCBDU1YgZmlsZXMgdG8gYnVsayB1cGRhdGUgcHJvZHVjdCBwcmljZXMgYWNyb3NzIHlvdXIgU2hvcGlmeSBjYXRhbG9nLlwiXG4gICAgICAgIGJhZGdlPXtcbiAgICAgICAgICBjdXJyZW50U3RlcCA9PT0gXCJhcHBsaWVkXCJcbiAgICAgICAgICAgID8gXCJBcHBsaWVkXCJcbiAgICAgICAgICAgIDogY3VycmVudFN0ZXAgPT09IFwicHJldmlld1wiXG4gICAgICAgICAgICAgID8gXCJQaGFzZSAyIC0gQ2FsY3VsYXRpb24gVG9vbHNcIlxuICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICB9XG4gICAgICAvPlxuXG4gICAgICB7LyogTG9hZGluZyBzdGF0ZSBmb3IgU2hvcGlmeSBkYXRhICovfVxuICAgICAge2lzTG9hZGluZ1Byb2R1Y3RzICYmIChcbiAgICAgICAgPENhcmQgcGFkZGluZz1cImxnXCIgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaXRlbXMtY2VudGVyIGdhcC00XCI+XG4gICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cImgtOCB3LTggYW5pbWF0ZS1zcGluIHRleHQtcHJpbWFyeVwiIC8+XG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZFwiPkxvYWRpbmcgUHJvZHVjdCBEYXRhPC9oMz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICBGZXRjaGluZyBwcm9kdWN0IGluZm9ybWF0aW9uIGZyb20gU2hvcGlmeS4uLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgKX1cblxuICAgICAgey8qIEVycm9yIGxvYWRpbmcgcHJvZHVjdHMgKi99XG4gICAgICB7bG9hZGluZ0Vycm9yICYmIChcbiAgICAgICAgPElubGluZUFsZXJ0XG4gICAgICAgICAgdmFyaWFudD1cIndhcm5pbmdcIlxuICAgICAgICAgIHRpdGxlPVwiRXJyb3IgTG9hZGluZyBQcm9kdWN0c1wiXG4gICAgICAgICAgbWVzc2FnZT17bG9hZGluZ0Vycm9yfVxuICAgICAgICA+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIG9uQ2xpY2s9e2ZldGNoU2hvcGlmeVByb2R1Y3RzfSBzaXplPVwic21cIiBjbGFzc05hbWU9XCJtdC0yXCI+XG4gICAgICAgICAgICA8UmVmcmVzaEN3IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxuICAgICAgICAgICAgUmV0cnlcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9JbmxpbmVBbGVydD5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBNYWluIHdvcmtmbG93IChvbmx5IHNob3cgd2hlbiBwcm9kdWN0cyBsb2FkZWQpICovfVxuICAgICAgeyFpc0xvYWRpbmdQcm9kdWN0cyAmJiAhbG9hZGluZ0Vycm9yICYmIChcbiAgICAgICAgPD5cbiAgICAgICAgICB7LyogU3RlcCAxOiBVcGxvYWQgKi99XG4gICAgICAgICAge2N1cnJlbnRTdGVwID09PSBcInVwbG9hZFwiICYmIChcbiAgICAgICAgICAgIDxDYXJkIHBhZGRpbmc9XCJsZ1wiPlxuICAgICAgICAgICAgICA8UHJpY2luZ0ZpbGVVcGxvYWRlclxuICAgICAgICAgICAgICAgIHNob3BpZnlEYXRhPXtzaG9waWZ5RGF0YX1cbiAgICAgICAgICAgICAgICBvbkZpbGVQcm9jZXNzZWQ9e2hhbmRsZUZpbGVQcm9jZXNzZWR9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBTdGVwIDI6IFByZXZpZXcgJiBWYWxpZGF0aW9uICovfVxuICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gXCJwcmV2aWV3XCIgJiYgcHJvY2Vzc29yUmVzdWx0ICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XG4gICAgICAgICAgICAgIHsvKiBWYWxpZGF0aW9uIFJlc3VsdHMgKi99XG4gICAgICAgICAgICAgIDxDYXJkIHBhZGRpbmc9XCJsZ1wiPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgIFZhbGlkYXRpb24gUmVzdWx0c1xuICAgICAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICAgICAgPFZhbGlkYXRpb25FcnJvcnNQYW5lbFxuICAgICAgICAgICAgICAgICAgZXJyb3JzPXtwcm9jZXNzb3JSZXN1bHQudmFsaWRhdGlvbi5lcnJvcnN9XG4gICAgICAgICAgICAgICAgICB3YXJuaW5ncz17cHJvY2Vzc29yUmVzdWx0LnZhbGlkYXRpb24ud2FybmluZ3N9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgICAgICAgIHsvKiBDYWxjdWxhdGlvbiBUb29scyAtIFByaWNlIENhbGN1bGF0b3IgJiBGb3JtdWxhIEJ1aWxkZXIgc2lkZS1ieS1zaWRlICovfVxuICAgICAgICAgICAgICB7bW9kaWZpZWRSZWNvcmRzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBsZzpncmlkLWNvbHMtMiBnYXAtNlwiPlxuICAgICAgICAgICAgICAgICAgPFByaWNlQ2FsY3VsYXRvclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRzPXttb2RpZmllZFJlY29yZHN9XG4gICAgICAgICAgICAgICAgICAgIG9uUmVjb3Jkc0NoYW5nZT17c2V0TW9kaWZpZWRSZWNvcmRzfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxGb3JtdWxhQnVpbGRlclxuICAgICAgICAgICAgICAgICAgICByZWNvcmRzPXttb2RpZmllZFJlY29yZHN9XG4gICAgICAgICAgICAgICAgICAgIG9uUmVjb3Jkc0NoYW5nZT17c2V0TW9kaWZpZWRSZWNvcmRzfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogUHJldmlldyBUYWJsZSAqL31cbiAgICAgICAgICAgICAge21vZGlmaWVkUmVjb3Jkcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8Q2FyZCBwYWRkaW5nPVwibGdcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWZvcmVncm91bmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgUHJpY2UgQ2hhbmdlcyBQcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIENoYW5nZXMgcGVuZGluZyBpbmRpY2F0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7aGFzTW9kaWZpY2F0aW9ucyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwid2FybmluZ1wiIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENoYW5nZXMgUGVuZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXtoYW5kbGVSZXNldH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IE92ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRGlhbG9nT3Blbih0cnVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2hhc0Vycm9ycyB8fCBtb2RpZmllZFJlY29yZHMubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBBcHBseSBQcmljaW5nIFVwZGF0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8UHJpY2luZ1ByZXZpZXdUYWJsZVxuICAgICAgICAgICAgICAgICAgICAgIHJlY29yZHM9e21vZGlmaWVkUmVjb3Jkc31cbiAgICAgICAgICAgICAgICAgICAgICBlcnJvclNrdXM9e2Vycm9yU2t1c31cbiAgICAgICAgICAgICAgICAgICAgICB3YXJuaW5nU2t1cz17d2FybmluZ1NrdXN9XG4gICAgICAgICAgICAgICAgICAgICAgZWRpdGFibGU9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgb25SZWNvcmRDaGFuZ2U9e2hhbmRsZVJlY29yZENoYW5nZX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICB7LyogTm8gdmFsaWQgcmVjb3JkcyAqL31cbiAgICAgICAgICAgICAge3ZhbGlkUmVjb3Jkcy5sZW5ndGggPT09IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxJbmxpbmVBbGVydFxuICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIndhcm5pbmdcIlxuICAgICAgICAgICAgICAgICAgdGl0bGU9XCJObyBWYWxpZCBSZWNvcmRzXCJcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U9XCJBbGwgcmVjb3JkcyBpbiB0aGUgdXBsb2FkZWQgZmlsZSBoYXZlIGVycm9ycy4gUGxlYXNlIGZpeCB0aGUgZXJyb3JzIGFuZCB1cGxvYWQgYWdhaW4uXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lXCIgb25DbGljaz17aGFuZGxlUmVzZXR9IHNpemU9XCJzbVwiIGNsYXNzTmFtZT1cIm10LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIE5ldyBGaWxlXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0lubGluZUFsZXJ0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBTdGVwIDM6IEFwcGxpZWQgU3VjY2Vzc2Z1bGx5ICovfVxuICAgICAgICAgIHtjdXJyZW50U3RlcCA9PT0gXCJhcHBsaWVkXCIgJiYgYXBwbHlTdWNjZXNzICYmIChcbiAgICAgICAgICAgIDxDYXJkIHBhZGRpbmc9XCJsZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTE2IHctMTYgcm91bmRlZC1mdWxsIGJnLXN1Y2Nlc3MvMTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtOCB3LTggdGV4dC1zdWNjZXNzXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZm9yZWdyb3VuZCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIFByaWNpbmcgVXBkYXRlcyBBcHBsaWVkIFN1Y2Nlc3NmdWxseVxuICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kIG1heC13LW1kIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgQWxsIHByaWNlIGNoYW5nZXMgaGF2ZSBiZWVuIGFwcGxpZWQgdG8geW91ciBTaG9waWZ5IHN0b3JlLiBDaGFuZ2VzIHNob3VsZCBiZSB2aXNpYmxlIG9uIHlvdXIgc3RvcmVmcm9udCBzaG9ydGx5LlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwicHJpbWFyeVwiIG9uQ2xpY2s9e2hhbmRsZVJlc2V0fT5cbiAgICAgICAgICAgICAgICAgICAgVXBsb2FkIEFub3RoZXIgRmlsZVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgICAgKX1cblxuICAgICAgey8qIEFwcGx5IERpYWxvZyAqL31cbiAgICAgIDxBcHBseVByaWNpbmdEaWFsb2dcbiAgICAgICAgb3Blbj17aXNEaWFsb2dPcGVufVxuICAgICAgICBvbk9wZW5DaGFuZ2U9e3NldElzRGlhbG9nT3Blbn1cbiAgICAgICAgcmVjb3Jkcz17dmFsaWRSZWNvcmRzfVxuICAgICAgICBvbkFwcGx5PXtoYW5kbGVBcHBseVByaWNpbmd9XG4gICAgICAgIGhhc0Vycm9ycz17ISFoYXNFcnJvcnN9XG4gICAgICAvPlxuICAgIDwvZGl2PlxuICApO1xufVxuIl0sImZpbGUiOiJDOi9Qcm9qZWN0cy9Tb3VyY2UgNCBJbmR1c3RyaWVzL3NyYy9wYWdlcy9tYXJrZXRpbmcvcHJpY2luZy11cGRhdGUvcGFnZS50c3gifQ==