import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/layout/mobile-nav.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=6958de57"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=6958de57"; const useState = __vite__cjsImport3_react["useState"]; const useMemo = __vite__cjsImport3_react["useMemo"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useCallback = __vite__cjsImport3_react["useCallback"];
import { Link, useLocation } from "/node_modules/.vite/deps/react-router-dom.js?v=6958de57";
import { ChevronDown, Menu, X, Sun, Moon } from "/node_modules/.vite/deps/lucide-react.js?v=6958de57";
import { getRoleLabel } from "/src/lib/auth/roles.ts";
import { getNavSectionsForRole } from "/src/lib/navigation.ts?t=1768359362759";
import { useTheme } from "/src/components/providers/theme-provider.tsx";
import { cn } from "/src/lib/utils.ts";
function MobileAccordion({ section, isOpen, onToggle, pathname, onNavigate }) {
  const SectionIcon = section.icon;
  const hasActiveItem = section.items.some((item) => pathname.startsWith(item.href));
  return /* @__PURE__ */ jsxDEV("div", { className: "border-b border-border/40 last:border-b-0", children: [
    /* @__PURE__ */ jsxDEV(
      "button",
      {
        type: "button",
        onClick: onToggle,
        className: cn(
          "w-full flex items-center gap-3 px-4 py-3.5 text-sm font-medium transition-colors",
          "active:bg-muted/50",
          hasActiveItem && "text-primary",
          isOpen && "bg-muted/30"
        ),
        children: [
          SectionIcon && /* @__PURE__ */ jsxDEV(
            SectionIcon,
            {
              className: cn(
                "h-5 w-5 shrink-0",
                hasActiveItem ? "text-primary" : "text-muted-foreground"
              )
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 63,
              columnNumber: 9
            },
            this
          ),
          /* @__PURE__ */ jsxDEV("span", { className: "flex-1 text-left", children: section.title }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 70,
            columnNumber: 9
          }, this),
          /* @__PURE__ */ jsxDEV(
            ChevronDown,
            {
              className: cn(
                "h-5 w-5 text-muted-foreground transition-transform duration-200",
                isOpen && "rotate-180"
              )
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 71,
              columnNumber: 9
            },
            this
          )
        ]
      },
      void 0,
      true,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
        lineNumber: 52,
        columnNumber: 7
      },
      this
    ),
    /* @__PURE__ */ jsxDEV(
      "div",
      {
        className: cn(
          "overflow-hidden transition-all duration-200 ease-out",
          isOpen ? "max-h-[1000px] opacity-100" : "max-h-0 opacity-0"
        ),
        children: /* @__PURE__ */ jsxDEV("ul", { className: "py-1 px-2 space-y-0.5 bg-muted/20", children: section.items.filter((item) => item.status !== "future").map(
          (item) => /* @__PURE__ */ jsxDEV(
            MobileNavItem,
            {
              item,
              isActive: pathname.startsWith(item.href),
              onNavigate
            },
            item.href,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 90,
              columnNumber: 11
            },
            this
          )
        ) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 86,
          columnNumber: 9
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
        lineNumber: 80,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
    lineNumber: 50,
    columnNumber: 5
  }, this);
}
_c = MobileAccordion;
function MobileNavItem({ item, isActive, onNavigate }) {
  const ItemIcon = item.icon;
  return /* @__PURE__ */ jsxDEV("li", { children: /* @__PURE__ */ jsxDEV(
    Link,
    {
      to: item.href,
      className: cn(
        "flex items-center gap-3 rounded-lg px-4 py-2.5 text-sm font-medium transition-colors",
        "active:bg-muted/60",
        isActive ? "bg-primary/10 text-primary" : "text-foreground/80 hover:bg-muted/40"
      ),
      onClick: onNavigate,
      children: [
        ItemIcon && /* @__PURE__ */ jsxDEV(
          ItemIcon,
          {
            className: cn(
              "h-4 w-4 shrink-0",
              isActive ? "text-primary" : "text-muted-foreground"
            )
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 126,
            columnNumber: 9
          },
          this
        ),
        /* @__PURE__ */ jsxDEV("span", { className: "flex-1 truncate", children: item.title }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 133,
          columnNumber: 9
        }, this),
        item.badge && /* @__PURE__ */ jsxDEV(
          "span",
          {
            className: cn(
              "px-2 py-0.5 text-xs font-medium rounded-full shrink-0",
              item.badge === "New" && "bg-green-500/10 text-green-500",
              item.badge === "Demo" && "bg-blue-500/10 text-blue-500",
              item.badge === "Broken" && "bg-red-500/10 text-red-500",
              !["New", "Demo", "Broken"].includes(item.badge) && "bg-primary/10 text-primary"
            ),
            children: item.badge
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 135,
            columnNumber: 9
          },
          this
        ),
        item.status === "beta" && /* @__PURE__ */ jsxDEV("span", { className: "px-2 py-0.5 text-xs font-medium rounded-full bg-amber-500/10 text-amber-500 shrink-0", children: "Beta" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 149,
          columnNumber: 9
        }, this)
      ]
    },
    void 0,
    true,
    {
      fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
      lineNumber: 114,
      columnNumber: 7
    },
    this
  ) }, void 0, false, {
    fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
    lineNumber: 113,
    columnNumber: 5
  }, this);
}
_c2 = MobileNavItem;
export function MobileNav({ role, userEmail }) {
  _s();
  const [open, setOpen] = useState(false);
  const [openSections, setOpenSections] = useState(/* @__PURE__ */ new Set());
  const pathname = useLocation().pathname;
  const sections = useMemo(() => getNavSectionsForRole(role), [role]);
  const { theme, toggleTheme } = useTheme();
  useEffect(() => {
    const activeSection = sections.find(
      (section) => section.items.some((item) => pathname.startsWith(item.href))
    );
    if (activeSection) {
      setOpenSections(/* @__PURE__ */ new Set([activeSection.title]));
    }
  }, [pathname, sections]);
  useEffect(() => {
    if (open) {
      document.body.style.overflow = "hidden";
    } else {
      document.body.style.overflow = "";
    }
    return () => {
      document.body.style.overflow = "";
    };
  }, [open]);
  const handleToggleSection = useCallback((sectionTitle) => {
    setOpenSections((prev) => {
      const next = new Set(prev);
      if (next.has(sectionTitle)) {
        next.delete(sectionTitle);
      } else {
        next.add(sectionTitle);
      }
      return next;
    });
  }, []);
  const handleClose = useCallback(() => {
    setOpen(false);
  }, []);
  return /* @__PURE__ */ jsxDEV("div", { className: "lg:hidden", children: [
    /* @__PURE__ */ jsxDEV(
      "button",
      {
        type: "button",
        className: "inline-flex items-center gap-2 rounded-lg border border-border bg-card px-3 py-2 text-sm font-medium shadow-sm transition-colors active:bg-muted",
        onClick: () => setOpen(true),
        "aria-label": "Open navigation menu",
        children: [
          /* @__PURE__ */ jsxDEV(Menu, { className: "h-5 w-5" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 212,
            columnNumber: 9
          }, this),
          /* @__PURE__ */ jsxDEV("span", { children: "Menu" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 213,
            columnNumber: 9
          }, this)
        ]
      },
      void 0,
      true,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
        lineNumber: 206,
        columnNumber: 7
      },
      this
    ),
    open && /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 z-50 flex", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "w-80 max-w-[85vw] bg-card shadow-xl flex flex-col animate-in slide-in-from-left duration-200", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between border-b border-border px-4 py-4 shrink-0", children: [
          /* @__PURE__ */ jsxDEV("div", { className: "text-base font-semibold", children: "Performance Dashboard" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 223,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            "button",
            {
              type: "button",
              className: "rounded-lg p-2 hover:bg-muted active:bg-muted/80 transition-colors",
              onClick: handleClose,
              "aria-label": "Close navigation menu",
              children: /* @__PURE__ */ jsxDEV(X, { className: "h-5 w-5" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
                lineNumber: 230,
                columnNumber: 17
              }, this)
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 224,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 222,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("nav", { className: "flex-1 overflow-y-auto", children: sections.map(
          (section) => /* @__PURE__ */ jsxDEV(
            MobileAccordion,
            {
              section,
              isOpen: openSections.has(section.title),
              onToggle: () => handleToggleSection(section.title),
              pathname,
              onNavigate: handleClose
            },
            section.title,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 237,
              columnNumber: 13
            },
            this
          )
        ) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 235,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "border-t border-border p-4 shrink-0 bg-muted/20", children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3", children: [
          /* @__PURE__ */ jsxDEV(
            "button",
            {
              onClick: toggleTheme,
              className: "flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary hover:bg-primary/20 active:bg-primary/30 transition-colors",
              title: theme === "dark" ? "Switch to Light Mode" : "Switch to Dark Mode",
              "aria-label": theme === "dark" ? "Switch to Light Mode" : "Switch to Dark Mode",
              children: theme === "dark" ? /* @__PURE__ */ jsxDEV(Sun, { className: "h-5 w-5" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
                lineNumber: 258,
                columnNumber: 17
              }, this) : /* @__PURE__ */ jsxDEV(Moon, { className: "h-5 w-5" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
                lineNumber: 260,
                columnNumber: 17
              }, this)
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 251,
              columnNumber: 17
            },
            this
          ),
          /* @__PURE__ */ jsxDEV("div", { className: "flex-1 min-w-0", children: [
            /* @__PURE__ */ jsxDEV("p", { className: "text-sm font-medium text-foreground truncate", children: userEmail }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 264,
              columnNumber: 19
            }, this),
            /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-muted-foreground", children: getRoleLabel(role) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
              lineNumber: 267,
              columnNumber: 19
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
            lineNumber: 263,
            columnNumber: 17
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 250,
          columnNumber: 15
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 249,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
        lineNumber: 220,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV(
        "div",
        {
          className: "flex-1 bg-black/50 animate-in fade-in duration-200",
          onClick: handleClose,
          "aria-hidden": "true"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
          lineNumber: 274,
          columnNumber: 11
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
      lineNumber: 218,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx",
    lineNumber: 204,
    columnNumber: 5
  }, this);
}
_s(MobileNav, "Kid/UkZGkA6KFONOMiy3GkmJEUQ=", false, function() {
  return [useLocation, useTheme];
});
_c3 = MobileNav;
var _c, _c2, _c3;
$RefreshReg$(_c, "MobileAccordion");
$RefreshReg$(_c2, "MobileNavItem");
$RefreshReg$(_c3, "MobileNav");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/components/layout/mobile-nav.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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LFNBM0R0QjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBNkRBO0FBQUEsT0EzRUo7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQTZFQTtBQUVKO0FBQUNsRSxHQTdIZTBDLFdBQVM7QUFBQSxVQUdObkMsYUFFY1EsUUFBUTtBQUFBO0FBQUFvRCxNQUx6QnpCO0FBQVMsSUFBQVAsSUFBQU0sS0FBQTBCO0FBQUFDLGFBQUFqQyxJQUFBO0FBQUFpQyxhQUFBM0IsS0FBQTtBQUFBMkIsYUFBQUQsS0FBQSIsIm5hbWVzIjpbIl9zIiwiJFJlZnJlc2hTaWckIiwidXNlU3RhdGUiLCJ1c2VNZW1vIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJMaW5rIiwidXNlTG9jYXRpb24iLCJDaGV2cm9uRG93biIsIk1lbnUiLCJYIiwiU3VuIiwiTW9vbiIsImdldFJvbGVMYWJlbCIsImdldE5hdlNlY3Rpb25zRm9yUm9sZSIsInVzZVRoZW1lIiwiY24iLCJNb2JpbGVBY2NvcmRpb24iLCJzZWN0aW9uIiwiaXNPcGVuIiwib25Ub2dnbGUiLCJwYXRobmFtZSIsIm9uTmF2aWdhdGUiLCJTZWN0aW9uSWNvbiIsImljb24iLCJoYXNBY3RpdmVJdGVtIiwiaXRlbXMiLCJzb21lIiwiaXRlbSIsInN0YXJ0c1dpdGgiLCJocmVmIiwidGl0bGUiLCJmaWx0ZXIiLCJzdGF0dXMiLCJtYXAiLCJfYyIsIk1vYmlsZU5hdkl0ZW0iLCJpc0FjdGl2ZSIsIkl0ZW1JY29uIiwiYmFkZ2UiLCJpbmNsdWRlcyIsIl9jMiIsIk1vYmlsZU5hdiIsInJvbGUiLCJ1c2VyRW1haWwiLCJvcGVuIiwic2V0T3BlbiIsIm9wZW5TZWN0aW9ucyIsInNldE9wZW5TZWN0aW9ucyIsIlNldCIsInNlY3Rpb25zIiwidGhlbWUiLCJ0b2dnbGVUaGVtZSIsImFjdGl2ZVNlY3Rpb24iLCJmaW5kIiwiZG9jdW1lbnQiLCJib2R5Iiwic3R5bGUiLCJvdmVyZmxvdyIsImhhbmRsZVRvZ2dsZVNlY3Rpb24iLCJzZWN0aW9uVGl0bGUiLCJwcmV2IiwibmV4dCIsImhhcyIsImRlbGV0ZSIsImFkZCIsImhhbmRsZUNsb3NlIiwiX2MzIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIm1vYmlsZS1uYXYudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcclxuaW1wb3J0IHsgTGluaywgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xyXG5pbXBvcnQgeyBDaGV2cm9uRG93biwgTWVudSwgWCwgU3VuLCBNb29uIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5cclxuaW1wb3J0IHR5cGUgeyBSb2xlIH0gZnJvbSBcIkAvbGliL2F1dGgvcm9sZXNcIjtcclxuaW1wb3J0IHsgZ2V0Um9sZUxhYmVsIH0gZnJvbSBcIkAvbGliL2F1dGgvcm9sZXNcIjtcclxuaW1wb3J0IHsgZ2V0TmF2U2VjdGlvbnNGb3JSb2xlLCBOYXZTZWN0aW9uLCBOYXZJdGVtIH0gZnJvbSBcIkAvbGliL25hdmlnYXRpb25cIjtcclxuaW1wb3J0IHsgdXNlVGhlbWUgfSBmcm9tIFwiQC9jb21wb25lbnRzL3Byb3ZpZGVycy90aGVtZS1wcm92aWRlclwiO1xyXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xyXG5cclxudHlwZSBNb2JpbGVOYXZQcm9wcyA9IHtcclxuICByb2xlOiBSb2xlO1xyXG4gIHVzZXJFbWFpbDogc3RyaW5nO1xyXG59O1xyXG5cclxudHlwZSBNb2JpbGVBY2NvcmRpb25Qcm9wcyA9IHtcclxuICBzZWN0aW9uOiBOYXZTZWN0aW9uO1xyXG4gIGlzT3BlbjogYm9vbGVhbjtcclxuICBvblRvZ2dsZTogKCkgPT4gdm9pZDtcclxuICBwYXRobmFtZTogc3RyaW5nO1xyXG4gIG9uTmF2aWdhdGU6ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBNb2JpbGVBY2NvcmRpb24oeyBzZWN0aW9uLCBpc09wZW4sIG9uVG9nZ2xlLCBwYXRobmFtZSwgb25OYXZpZ2F0ZSB9OiBNb2JpbGVBY2NvcmRpb25Qcm9wcykge1xyXG4gIGNvbnN0IFNlY3Rpb25JY29uID0gc2VjdGlvbi5pY29uO1xyXG4gIGNvbnN0IGhhc0FjdGl2ZUl0ZW0gPSBzZWN0aW9uLml0ZW1zLnNvbWUoKGl0ZW0pID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci1iIGJvcmRlci1ib3JkZXIvNDAgbGFzdDpib3JkZXItYi0wXCI+XHJcbiAgICAgIHsvKiBBY2NvcmRpb24gSGVhZGVyICovfVxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgb25DbGljaz17b25Ub2dnbGV9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgIFwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGdhcC0zIHB4LTQgcHktMy41IHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcIixcclxuICAgICAgICAgIFwiYWN0aXZlOmJnLW11dGVkLzUwXCIsXHJcbiAgICAgICAgICBoYXNBY3RpdmVJdGVtICYmIFwidGV4dC1wcmltYXJ5XCIsXHJcbiAgICAgICAgICBpc09wZW4gJiYgXCJiZy1tdXRlZC8zMFwiXHJcbiAgICAgICAgKX1cclxuICAgICAgPlxyXG4gICAgICAgIHtTZWN0aW9uSWNvbiAmJiAoXHJcbiAgICAgICAgICA8U2VjdGlvbkljb25cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICBcImgtNSB3LTUgc2hyaW5rLTBcIixcclxuICAgICAgICAgICAgICBoYXNBY3RpdmVJdGVtID8gXCJ0ZXh0LXByaW1hcnlcIiA6IFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdGV4dC1sZWZ0XCI+e3NlY3Rpb24udGl0bGV9PC9zcGFuPlxyXG4gICAgICAgIDxDaGV2cm9uRG93blxyXG4gICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgXCJoLTUgdy01IHRleHQtbXV0ZWQtZm9yZWdyb3VuZCB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDBcIixcclxuICAgICAgICAgICAgaXNPcGVuICYmIFwicm90YXRlLTE4MFwiXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgey8qIEFjY29yZGlvbiBDb250ZW50ICovfVxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgIFwib3ZlcmZsb3ctaGlkZGVuIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBlYXNlLW91dFwiLFxyXG4gICAgICAgICAgaXNPcGVuID8gXCJtYXgtaC1bMTAwMHB4XSBvcGFjaXR5LTEwMFwiIDogXCJtYXgtaC0wIG9wYWNpdHktMFwiXHJcbiAgICAgICAgKX1cclxuICAgICAgPlxyXG4gICAgICAgIDx1bCBjbGFzc05hbWU9XCJweS0xIHB4LTIgc3BhY2UteS0wLjUgYmctbXV0ZWQvMjBcIj5cclxuICAgICAgICAgIHtzZWN0aW9uLml0ZW1zXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uc3RhdHVzICE9PSBcImZ1dHVyZVwiKVxyXG4gICAgICAgICAgICAubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgPE1vYmlsZU5hdkl0ZW1cclxuICAgICAgICAgICAgICAgIGtleT17aXRlbS5ocmVmfVxyXG4gICAgICAgICAgICAgICAgaXRlbT17aXRlbX1cclxuICAgICAgICAgICAgICAgIGlzQWN0aXZlPXtwYXRobmFtZS5zdGFydHNXaXRoKGl0ZW0uaHJlZil9XHJcbiAgICAgICAgICAgICAgICBvbk5hdmlnYXRlPXtvbk5hdmlnYXRlfVxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgIDwvdWw+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxudHlwZSBNb2JpbGVOYXZJdGVtUHJvcHMgPSB7XHJcbiAgaXRlbTogTmF2SXRlbTtcclxuICBpc0FjdGl2ZTogYm9vbGVhbjtcclxuICBvbk5hdmlnYXRlOiAoKSA9PiB2b2lkO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gTW9iaWxlTmF2SXRlbSh7IGl0ZW0sIGlzQWN0aXZlLCBvbk5hdmlnYXRlIH06IE1vYmlsZU5hdkl0ZW1Qcm9wcykge1xyXG4gIGNvbnN0IEl0ZW1JY29uID0gaXRlbS5pY29uO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGxpPlxyXG4gICAgICA8TGlua1xyXG4gICAgICAgIHRvPXtpdGVtLmhyZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgIFwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgcm91bmRlZC1sZyBweC00IHB5LTIuNSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzXCIsXHJcbiAgICAgICAgICBcImFjdGl2ZTpiZy1tdXRlZC82MFwiLFxyXG4gICAgICAgICAgaXNBY3RpdmVcclxuICAgICAgICAgICAgPyBcImJnLXByaW1hcnkvMTAgdGV4dC1wcmltYXJ5XCJcclxuICAgICAgICAgICAgOiBcInRleHQtZm9yZWdyb3VuZC84MCBob3ZlcjpiZy1tdXRlZC80MFwiXHJcbiAgICAgICAgKX1cclxuICAgICAgICBvbkNsaWNrPXtvbk5hdmlnYXRlfVxyXG4gICAgICA+XHJcbiAgICAgICAge0l0ZW1JY29uICYmIChcclxuICAgICAgICAgIDxJdGVtSWNvblxyXG4gICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgIFwiaC00IHctNCBzaHJpbmstMFwiLFxyXG4gICAgICAgICAgICAgIGlzQWN0aXZlID8gXCJ0ZXh0LXByaW1hcnlcIiA6IFwidGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCJcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4LTEgdHJ1bmNhdGVcIj57aXRlbS50aXRsZX08L3NwYW4+XHJcbiAgICAgICAge2l0ZW0uYmFkZ2UgJiYgKFxyXG4gICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICBcInB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIHNocmluay0wXCIsXHJcbiAgICAgICAgICAgICAgaXRlbS5iYWRnZSA9PT0gXCJOZXdcIiAmJiBcImJnLWdyZWVuLTUwMC8xMCB0ZXh0LWdyZWVuLTUwMFwiLFxyXG4gICAgICAgICAgICAgIGl0ZW0uYmFkZ2UgPT09IFwiRGVtb1wiICYmIFwiYmctYmx1ZS01MDAvMTAgdGV4dC1ibHVlLTUwMFwiLFxyXG4gICAgICAgICAgICAgIGl0ZW0uYmFkZ2UgPT09IFwiQnJva2VuXCIgJiYgXCJiZy1yZWQtNTAwLzEwIHRleHQtcmVkLTUwMFwiLFxyXG4gICAgICAgICAgICAgICFbXCJOZXdcIiwgXCJEZW1vXCIsIFwiQnJva2VuXCJdLmluY2x1ZGVzKGl0ZW0uYmFkZ2UpICYmXHJcbiAgICAgICAgICAgICAgICBcImJnLXByaW1hcnkvMTAgdGV4dC1wcmltYXJ5XCJcclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAge2l0ZW0uYmFkZ2V9XHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKX1cclxuICAgICAgICB7aXRlbS5zdGF0dXMgPT09IFwiYmV0YVwiICYmIChcclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLWFtYmVyLTUwMC8xMCB0ZXh0LWFtYmVyLTUwMCBzaHJpbmstMFwiPlxyXG4gICAgICAgICAgICBCZXRhXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9MaW5rPlxyXG4gICAgPC9saT5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTW9iaWxlTmF2KHsgcm9sZSwgdXNlckVtYWlsIH06IE1vYmlsZU5hdlByb3BzKSB7XHJcbiAgY29uc3QgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtvcGVuU2VjdGlvbnMsIHNldE9wZW5TZWN0aW9uc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcclxuICBjb25zdCBwYXRobmFtZSA9IHVzZUxvY2F0aW9uKCkucGF0aG5hbWU7XHJcbiAgY29uc3Qgc2VjdGlvbnMgPSB1c2VNZW1vKCgpID0+IGdldE5hdlNlY3Rpb25zRm9yUm9sZShyb2xlKSwgW3JvbGVdKTtcclxuICBjb25zdCB7IHRoZW1lLCB0b2dnbGVUaGVtZSB9ID0gdXNlVGhlbWUoKTtcclxuXHJcbiAgLy8gQXV0by1vcGVuIHNlY3Rpb24gdGhhdCBjb250YWlucyB0aGUgYWN0aXZlIHJvdXRlXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGNvbnN0IGFjdGl2ZVNlY3Rpb24gPSBzZWN0aW9ucy5maW5kKChzZWN0aW9uKSA9PlxyXG4gICAgICBzZWN0aW9uLml0ZW1zLnNvbWUoKGl0ZW0pID0+IHBhdGhuYW1lLnN0YXJ0c1dpdGgoaXRlbS5ocmVmKSlcclxuICAgICk7XHJcbiAgICBpZiAoYWN0aXZlU2VjdGlvbikge1xyXG4gICAgICBzZXRPcGVuU2VjdGlvbnMobmV3IFNldChbYWN0aXZlU2VjdGlvbi50aXRsZV0pKTtcclxuICAgIH1cclxuICB9LCBbcGF0aG5hbWUsIHNlY3Rpb25zXSk7XHJcblxyXG4gIC8vIFByZXZlbnQgYm9keSBzY3JvbGwgd2hlbiBtZW51IGlzIG9wZW5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKG9wZW4pIHtcclxuICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgIH1cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcIlwiO1xyXG4gICAgfTtcclxuICB9LCBbb3Blbl0pO1xyXG5cclxuICBjb25zdCBoYW5kbGVUb2dnbGVTZWN0aW9uID0gdXNlQ2FsbGJhY2soKHNlY3Rpb25UaXRsZTogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRPcGVuU2VjdGlvbnMoKHByZXYpID0+IHtcclxuICAgICAgY29uc3QgbmV4dCA9IG5ldyBTZXQocHJldik7XHJcbiAgICAgIGlmIChuZXh0LmhhcyhzZWN0aW9uVGl0bGUpKSB7XHJcbiAgICAgICAgbmV4dC5kZWxldGUoc2VjdGlvblRpdGxlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuZXh0LmFkZChzZWN0aW9uVGl0bGUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVDbG9zZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldE9wZW4oZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwibGc6aGlkZGVuXCI+XHJcbiAgICAgIHsvKiBNZW51IFRvZ2dsZSBCdXR0b24gKi99XHJcbiAgICAgIDxidXR0b25cclxuICAgICAgICB0eXBlPVwiYnV0dG9uXCJcclxuICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkIHB4LTMgcHktMiB0ZXh0LXNtIGZvbnQtbWVkaXVtIHNoYWRvdy1zbSB0cmFuc2l0aW9uLWNvbG9ycyBhY3RpdmU6YmctbXV0ZWRcIlxyXG4gICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE9wZW4odHJ1ZSl9XHJcbiAgICAgICAgYXJpYS1sYWJlbD1cIk9wZW4gbmF2aWdhdGlvbiBtZW51XCJcclxuICAgICAgPlxyXG4gICAgICAgIDxNZW51IGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxyXG4gICAgICAgIDxzcGFuPk1lbnU8L3NwYW4+XHJcbiAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgey8qIFNsaWRlLW91dCBQYW5lbCAqL31cclxuICAgICAge29wZW4gJiYgKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCB6LTUwIGZsZXhcIj5cclxuICAgICAgICAgIHsvKiBQYW5lbCAqL31cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBtYXgtdy1bODV2d10gYmctY2FyZCBzaGFkb3cteGwgZmxleCBmbGV4LWNvbCBhbmltYXRlLWluIHNsaWRlLWluLWZyb20tbGVmdCBkdXJhdGlvbi0yMDBcIj5cclxuICAgICAgICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gYm9yZGVyLWIgYm9yZGVyLWJvcmRlciBweC00IHB5LTQgc2hyaW5rLTBcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtYmFzZSBmb250LXNlbWlib2xkXCI+UGVyZm9ybWFuY2UgRGFzaGJvYXJkPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWxnIHAtMiBob3ZlcjpiZy1tdXRlZCBhY3RpdmU6YmctbXV0ZWQvODAgdHJhbnNpdGlvbi1jb2xvcnNcIlxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ2xvc2UgbmF2aWdhdGlvbiBtZW51XCJcclxuICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogTmF2aWdhdGlvbiBTZWN0aW9ucyAqL31cclxuICAgICAgICAgICAgPG5hdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvXCI+XHJcbiAgICAgICAgICAgICAge3NlY3Rpb25zLm1hcCgoc2VjdGlvbikgPT4gKFxyXG4gICAgICAgICAgICAgICAgPE1vYmlsZUFjY29yZGlvblxyXG4gICAgICAgICAgICAgICAgICBrZXk9e3NlY3Rpb24udGl0bGV9XHJcbiAgICAgICAgICAgICAgICAgIHNlY3Rpb249e3NlY3Rpb259XHJcbiAgICAgICAgICAgICAgICAgIGlzT3Blbj17b3BlblNlY3Rpb25zLmhhcyhzZWN0aW9uLnRpdGxlKX1cclxuICAgICAgICAgICAgICAgICAgb25Ub2dnbGU9eygpID0+IGhhbmRsZVRvZ2dsZVNlY3Rpb24oc2VjdGlvbi50aXRsZSl9XHJcbiAgICAgICAgICAgICAgICAgIHBhdGhuYW1lPXtwYXRobmFtZX1cclxuICAgICAgICAgICAgICAgICAgb25OYXZpZ2F0ZT17aGFuZGxlQ2xvc2V9XHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L25hdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBGb290ZXI6IFRoZW1lIFRvZ2dsZSAmIFVzZXIgSW5mbyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItYm9yZGVyIHAtNCBzaHJpbmstMCBiZy1tdXRlZC8yMFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTNcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlVGhlbWV9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaC0xMCB3LTEwIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS8xMCB0ZXh0LXByaW1hcnkgaG92ZXI6YmctcHJpbWFyeS8yMCBhY3RpdmU6YmctcHJpbWFyeS8zMCB0cmFuc2l0aW9uLWNvbG9yc1wiXHJcbiAgICAgICAgICAgICAgICAgIHRpdGxlPXt0aGVtZSA9PT0gXCJkYXJrXCIgPyBcIlN3aXRjaCB0byBMaWdodCBNb2RlXCIgOiBcIlN3aXRjaCB0byBEYXJrIE1vZGVcIn1cclxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD17dGhlbWUgPT09IFwiZGFya1wiID8gXCJTd2l0Y2ggdG8gTGlnaHQgTW9kZVwiIDogXCJTd2l0Y2ggdG8gRGFyayBNb2RlXCJ9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHt0aGVtZSA9PT0gXCJkYXJrXCIgPyAoXHJcbiAgICAgICAgICAgICAgICAgICAgPFN1biBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgICA8TW9vbiBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZm9yZWdyb3VuZCB0cnVuY2F0ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHt1c2VyRW1haWx9XHJcbiAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57Z2V0Um9sZUxhYmVsKHJvbGUpfTwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBCYWNrZHJvcCAqL31cclxuICAgICAgICAgIDxkaXZcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZmxleC0xIGJnLWJsYWNrLzUwIGFuaW1hdGUtaW4gZmFkZS1pbiBkdXJhdGlvbi0yMDBcIlxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVDbG9zZX1cclxuICAgICAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJmaWxlIjoiQzovUHJvamVjdHMvU291cmNlIDQgSW5kdXN0cmllcy9zcmMvY29tcG9uZW50cy9sYXlvdXQvbW9iaWxlLW5hdi50c3gifQ==