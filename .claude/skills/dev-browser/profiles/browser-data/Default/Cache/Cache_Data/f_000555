import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/blog/keyword-opportunity-panel.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9303f522"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9303f522"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from "/src/components/ui/card.tsx";
import { Table, TableHeader, TableBody, TableRow, TableHeadCell, TableCell } from "/src/components/ui/table.tsx";
import { Skeleton } from "/src/components/ui/skeleton.tsx";
import { Input } from "/src/components/ui/input.tsx";
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from "/src/components/ui/select.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { ArrowUpDown, TrendingUp, MousePointerClick, Eye, Percent, Filter, DollarSign } from "/node_modules/.vite/deps/lucide-react.js?v=9303f522";
import { cn } from "/src/lib/utils.ts";
export function KeywordOpportunityPanel({
  onKeywordClick,
  className
}) {
  _s();
  const [keywords, setKeywords] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  const [sortField, setSortField] = useState("impressions");
  const [sortOrder, setSortOrder] = useState("desc");
  const [positionRange, setPositionRange] = useState("all");
  const [minImpressions, setMinImpressions] = useState("");
  const [highRevenueProducts, setHighRevenueProducts] = useState([]);
  useEffect(() => {
    async function fetchKeywords() {
      setIsLoading(true);
      setError(null);
      try {
        const response = await fetch("/api/marketing/blog/keyword-opportunities");
        const result = await response.json();
        if (!response.ok || !result.success) {
          throw new Error(result.error || "Failed to fetch keyword opportunities");
        }
        setKeywords(result.data.keywords || []);
      } catch (err) {
        console.error("[KeywordOpportunityPanel] Error:", err);
        setError(err.message || "Failed to load keyword opportunities");
      } finally {
        setIsLoading(false);
      }
    }
    fetchKeywords();
  }, []);
  useEffect(() => {
    async function fetchHighRevenueProducts() {
      try {
        const response = await fetch("/api/marketing/blog/high-revenue-products");
        const result = await response.json();
        if (response.ok && result.success) {
          setHighRevenueProducts(result.data.products || []);
        }
      } catch (err) {
        console.error("[KeywordOpportunityPanel] Error fetching high-revenue products:", err);
      }
    }
    fetchHighRevenueProducts();
  }, []);
  const matchesHighRevenueProduct = useMemo(() => {
    const productWordsSet = /* @__PURE__ */ new Set();
    for (const product of highRevenueProducts) {
      const words = product.product_title_lowercase.split(/\s+/);
      for (const word of words) {
        if (word.length >= 4) {
          productWordsSet.add(word);
        }
      }
      productWordsSet.add(product.product_title_lowercase);
    }
    return (keyword) => {
      const keywordLower = keyword.toLowerCase();
      for (const product of highRevenueProducts) {
        if (product.product_title_lowercase.includes(keywordLower) || keywordLower.includes(product.product_title_lowercase)) {
          return true;
        }
      }
      const keywordWords = keywordLower.split(/\s+/);
      for (const word of keywordWords) {
        if (word.length >= 4 && productWordsSet.has(word)) {
          return true;
        }
      }
      return false;
    };
  }, [highRevenueProducts]);
  const filteredAndSortedKeywords = useMemo(() => {
    let filtered = [...keywords];
    if (positionRange !== "all") {
      const [minPos, maxPos] = positionRange.split("-").map(Number);
      filtered = filtered.filter(
        (kw) => kw.position >= minPos && kw.position <= maxPos
      );
    }
    const minImpressionsNum = parseInt(minImpressions, 10);
    if (!isNaN(minImpressionsNum) && minImpressionsNum > 0) {
      filtered = filtered.filter((kw) => kw.impressions >= minImpressionsNum);
    }
    return filtered.sort((a, b) => {
      let comparison = 0;
      switch (sortField) {
        case "keyword":
          comparison = a.keyword.localeCompare(b.keyword);
          break;
        case "position":
          comparison = a.position - b.position;
          break;
        case "impressions":
          comparison = a.impressions - b.impressions;
          break;
        case "clicks":
          comparison = a.clicks - b.clicks;
          break;
        case "ctr":
          comparison = a.ctr - b.ctr;
          break;
      }
      return sortOrder === "asc" ? comparison : -comparison;
    });
  }, [keywords, sortField, sortOrder, positionRange, minImpressions]);
  const handleSort = (field) => {
    if (sortField === field) {
      setSortOrder(sortOrder === "asc" ? "desc" : "asc");
    } else {
      setSortField(field);
      setSortOrder(field === "keyword" ? "asc" : "desc");
    }
  };
  const formatNumber = (num) => {
    if (num >= 1e6) return `${(num / 1e6).toFixed(1)}M`;
    if (num >= 1e3) return `${(num / 1e3).toFixed(1)}K`;
    return num.toLocaleString();
  };
  const SortableHeader = ({
    field,
    children,
    className: headerClassName
  }) => /* @__PURE__ */ jsxDEV(
    TableHeadCell,
    {
      className: cn("cursor-pointer select-none hover:bg-muted/80 transition-colors", headerClassName),
      onClick: () => handleSort(field),
      children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-1", children: [
        children,
        /* @__PURE__ */ jsxDEV(
          ArrowUpDown,
          {
            className: cn(
              "h-3 w-3 transition-opacity",
              sortField === field ? "opacity-100" : "opacity-40"
            )
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 243,
            columnNumber: 9
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
        lineNumber: 241,
        columnNumber: 7
      }, this)
    },
    void 0,
    false,
    {
      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
      lineNumber: 237,
      columnNumber: 3
    },
    this
  );
  return /* @__PURE__ */ jsxDEV(Card, { className: cn("h-full", className), children: [
    /* @__PURE__ */ jsxDEV(CardHeader, { className: "pb-3", children: [
      /* @__PURE__ */ jsxDEV(CardTitle, { className: "flex items-center gap-2", children: [
        /* @__PURE__ */ jsxDEV(TrendingUp, { className: "h-5 w-5 text-primary" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 257,
          columnNumber: 11
        }, this),
        "Keyword Opportunities"
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
        lineNumber: 256,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV(CardDescription, { children: "Keywords ranking in positions 3-20 with high impressions (last 30 days)" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
        lineNumber: 260,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col sm:flex-row gap-3 pt-3", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2 flex-1", children: [
          /* @__PURE__ */ jsxDEV(Filter, { className: "h-4 w-4 text-muted-foreground" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 267,
            columnNumber: 13
          }, this),
          /* @__PURE__ */ jsxDEV(
            Select,
            {
              value: positionRange,
              onValueChange: (value) => setPositionRange(value),
              children: [
                /* @__PURE__ */ jsxDEV(SelectTrigger, { className: "w-[130px] h-8 text-xs", children: /* @__PURE__ */ jsxDEV(SelectValue, { placeholder: "Position" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                  lineNumber: 273,
                  columnNumber: 17
                }, this) }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                  lineNumber: 272,
                  columnNumber: 15
                }, this),
                /* @__PURE__ */ jsxDEV(SelectContent, { children: [
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: "all", children: "All Positions" }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 276,
                    columnNumber: 17
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: "3-10", children: "3-10" }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 277,
                    columnNumber: 17
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: "11-15", children: "11-15" }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 278,
                    columnNumber: 17
                  }, this),
                  /* @__PURE__ */ jsxDEV(SelectItem, { value: "16-20", children: "16-20" }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 279,
                    columnNumber: 17
                  }, this)
                ] }, void 0, true, {
                  fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                  lineNumber: 275,
                  columnNumber: 15
                }, this)
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 268,
              columnNumber: 13
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 266,
          columnNumber: 11
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2 flex-1", children: /* @__PURE__ */ jsxDEV(
          Input,
          {
            type: "number",
            placeholder: "Min impressions",
            value: minImpressions,
            onChange: (e) => setMinImpressions(e.target.value),
            className: "h-8 text-xs w-[130px]",
            min: 0
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 284,
            columnNumber: 13
          },
          this
        ) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 283,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
        lineNumber: 265,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
      lineNumber: 255,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(CardContent, { className: "pt-0", children: [
      isLoading ? (
        // Loading skeleton
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-3", children: [
          /* @__PURE__ */ jsxDEV(Skeleton, { className: "h-8 w-full" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 299,
            columnNumber: 13
          }, this),
          [1, 2, 3, 4, 5, 6, 7, 8].map(
            (i) => /* @__PURE__ */ jsxDEV(Skeleton, { className: "h-10 w-full" }, i, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 301,
              columnNumber: 11
            }, this)
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 298,
          columnNumber: 9
        }, this)
      ) : error ? (
        // Error state
        /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col items-center justify-center py-8 text-center", children: [
          /* @__PURE__ */ jsxDEV("p", { className: "text-destructive mb-2", children: "Error loading keywords" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 307,
            columnNumber: 13
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground", children: error }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 308,
            columnNumber: 13
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 306,
          columnNumber: 9
        }, this)
      ) : filteredAndSortedKeywords.length === 0 ? (
        // Empty state
        /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col items-center justify-center py-8 text-center", children: [
          /* @__PURE__ */ jsxDEV(TrendingUp, { className: "h-10 w-10 text-muted-foreground mb-2" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 313,
            columnNumber: 13
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-muted-foreground", children: "No keyword opportunities found" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 314,
            columnNumber: 13
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground mt-1", children: keywords.length > 0 ? "Try adjusting your filters" : "Keywords ranking 3-20 with 100+ impressions will appear here" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 315,
            columnNumber: 13
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 312,
          columnNumber: 9
        }, this)
      ) : (
        // Keywords table
        /* @__PURE__ */ jsxDEV("div", { className: "max-h-[500px] overflow-auto", children: /* @__PURE__ */ jsxDEV(Table, { children: [
          /* @__PURE__ */ jsxDEV(TableHeader, { children: /* @__PURE__ */ jsxDEV(TableRow, { children: [
            /* @__PURE__ */ jsxDEV(SortableHeader, { field: "keyword", children: "Keyword" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 327,
              columnNumber: 19
            }, this),
            /* @__PURE__ */ jsxDEV(SortableHeader, { field: "position", className: "text-center", children: [
              /* @__PURE__ */ jsxDEV("span", { className: "hidden sm:inline", children: "Position" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 329,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "sm:hidden", children: "Pos" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 330,
                columnNumber: 21
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 328,
              columnNumber: 19
            }, this),
            /* @__PURE__ */ jsxDEV(SortableHeader, { field: "impressions", className: "text-right", children: [
              /* @__PURE__ */ jsxDEV(Eye, { className: "h-3 w-3 mr-1" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 333,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "hidden sm:inline", children: "Impressions" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 334,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "sm:hidden", children: "Impr" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 335,
                columnNumber: 21
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 332,
              columnNumber: 19
            }, this),
            /* @__PURE__ */ jsxDEV(SortableHeader, { field: "clicks", className: "text-right", children: [
              /* @__PURE__ */ jsxDEV(MousePointerClick, { className: "h-3 w-3 mr-1" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 338,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "hidden sm:inline", children: "Clicks" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 339,
                columnNumber: 21
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "sm:hidden", children: "Clk" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 340,
                columnNumber: 21
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 337,
              columnNumber: 19
            }, this),
            /* @__PURE__ */ jsxDEV(SortableHeader, { field: "ctr", className: "text-right", children: [
              /* @__PURE__ */ jsxDEV(Percent, { className: "h-3 w-3 mr-1" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 343,
                columnNumber: 21
              }, this),
              "CTR"
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
              lineNumber: 342,
              columnNumber: 19
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 326,
            columnNumber: 17
          }, this) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 325,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(TableBody, { children: filteredAndSortedKeywords.map((kw, index) => {
            const isHighRevenue = matchesHighRevenueProduct(kw.keyword);
            return /* @__PURE__ */ jsxDEV(
              TableRow,
              {
                className: cn(
                  onKeywordClick && "cursor-pointer hover:bg-primary/5",
                  isHighRevenue && "bg-success/5"
                ),
                onClick: () => onKeywordClick?.(kw.keyword),
                children: [
                  /* @__PURE__ */ jsxDEV(TableCell, { className: "font-medium max-w-[200px]", title: kw.keyword, children: /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
                    /* @__PURE__ */ jsxDEV("span", { className: "truncate", children: kw.keyword }, void 0, false, {
                      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                      lineNumber: 362,
                      columnNumber: 25
                    }, this),
                    isHighRevenue && /* @__PURE__ */ jsxDEV(Badge, { variant: "success", className: "shrink-0 text-[10px] px-1.5 py-0", children: [
                      /* @__PURE__ */ jsxDEV(DollarSign, { className: "h-3 w-3 mr-0.5" }, void 0, false, {
                        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                        lineNumber: 365,
                        columnNumber: 29
                      }, this),
                      "Revenue"
                    ] }, void 0, true, {
                      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                      lineNumber: 364,
                      columnNumber: 25
                    }, this)
                  ] }, void 0, true, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 361,
                    columnNumber: 23
                  }, this) }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 360,
                    columnNumber: 21
                  }, this),
                  /* @__PURE__ */ jsxDEV(TableCell, { className: "text-center", children: /* @__PURE__ */ jsxDEV(
                    "span",
                    {
                      className: cn(
                        "inline-flex items-center justify-center px-2 py-0.5 rounded text-xs font-medium",
                        kw.position <= 10 ? "bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400" : kw.position <= 15 ? "bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400" : "bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400"
                      ),
                      children: kw.position.toFixed(1)
                    },
                    void 0,
                    false,
                    {
                      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                      lineNumber: 372,
                      columnNumber: 23
                    },
                    this
                  ) }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 371,
                    columnNumber: 21
                  }, this),
                  /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right tabular-nums", children: formatNumber(kw.impressions) }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 385,
                    columnNumber: 21
                  }, this),
                  /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right tabular-nums", children: formatNumber(kw.clicks) }, void 0, false, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 388,
                    columnNumber: 21
                  }, this),
                  /* @__PURE__ */ jsxDEV(TableCell, { className: "text-right tabular-nums", children: [
                    kw.ctr.toFixed(2),
                    "%"
                  ] }, void 0, true, {
                    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                    lineNumber: 391,
                    columnNumber: 21
                  }, this)
                ]
              },
              `${kw.keyword}-${index}`,
              true,
              {
                fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
                lineNumber: 352,
                columnNumber: 19
              },
              this
            );
          }) }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
            lineNumber: 348,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 324,
          columnNumber: 13
        }, this) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
          lineNumber: 323,
          columnNumber: 9
        }, this)
      ),
      !isLoading && !error && filteredAndSortedKeywords.length > 0 && /* @__PURE__ */ jsxDEV("div", { className: "mt-3 text-xs text-muted-foreground text-center", children: [
        "Showing ",
        filteredAndSortedKeywords.length,
        " of ",
        keywords.length,
        " keyword opportunities"
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
        lineNumber: 404,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
      lineNumber: 295,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx",
    lineNumber: 254,
    columnNumber: 5
  }, this);
}
_s(KeywordOpportunityPanel, "twrIHtkBqckjMjUaP5IpwuZ5WX4=");
_c = KeywordOpportunityPanel;
var _c;
$RefreshReg$(_c, "KeywordOpportunityPanel");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/components/blog/keyword-opportunity-panel.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VNZW1vIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZEhlYWRlciIsIkNhcmRUaXRsZSIsIkNhcmREZXNjcmlwdGlvbiIsIlRhYmxlIiwiVGFibGVIZWFkZXIiLCJUYWJsZUJvZHkiLCJUYWJsZVJvdyIsIlRhYmxlSGVhZENlbGwiLCJUYWJsZUNlbGwiLCJTa2VsZXRvbiIsIklucHV0IiwiU2VsZWN0IiwiU2VsZWN0Q29udGVudCIsIlNlbGVjdEl0ZW0iLCJTZWxlY3RUcmlnZ2VyIiwiU2VsZWN0VmFsdWUiLCJCYWRnZSIsIkFycm93VXBEb3duIiwiVHJlbmRpbmdVcCIsIk1vdXNlUG9pbnRlckNsaWNrIiwiRXllIiwiUGVyY2VudCIsIkZpbHRlciIsIkRvbGxhclNpZ24iLCJjbiIsIktleXdvcmRPcHBvcnR1bml0eVBhbmVsIiwib25LZXl3b3JkQ2xpY2siLCJjbGFzc05hbWUiLCJrZXl3b3JkcyIsInNldEtleXdvcmRzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInNvcnRGaWVsZCIsInNldFNvcnRGaWVsZCIsInNvcnRPcmRlciIsInNldFNvcnRPcmRlciIsInBvc2l0aW9uUmFuZ2UiLCJzZXRQb3NpdGlvblJhbmdlIiwibWluSW1wcmVzc2lvbnMiLCJzZXRNaW5JbXByZXNzaW9ucyIsImhpZ2hSZXZlbnVlUHJvZHVjdHMiLCJzZXRIaWdoUmV2ZW51ZVByb2R1Y3RzIiwiZmV0Y2hLZXl3b3JkcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJyZXN1bHQiLCJqc29uIiwib2siLCJzdWNjZXNzIiwiRXJyb3IiLCJkYXRhIiwiZXJyIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJmZXRjaEhpZ2hSZXZlbnVlUHJvZHVjdHMiLCJwcm9kdWN0cyIsIm1hdGNoZXNIaWdoUmV2ZW51ZVByb2R1Y3QiLCJwcm9kdWN0V29yZHNTZXQiLCJTZXQiLCJwcm9kdWN0Iiwid29yZHMiLCJwcm9kdWN0X3RpdGxlX2xvd2VyY2FzZSIsInNwbGl0Iiwid29yZCIsImxlbmd0aCIsImFkZCIsImtleXdvcmQiLCJrZXl3b3JkTG93ZXIiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwia2V5d29yZFdvcmRzIiwiaGFzIiwiZmlsdGVyZWRBbmRTb3J0ZWRLZXl3b3JkcyIsImZpbHRlcmVkIiwibWluUG9zIiwibWF4UG9zIiwibWFwIiwiTnVtYmVyIiwiZmlsdGVyIiwia3ciLCJwb3NpdGlvbiIsIm1pbkltcHJlc3Npb25zTnVtIiwicGFyc2VJbnQiLCJpc05hTiIsImltcHJlc3Npb25zIiwic29ydCIsImEiLCJiIiwiY29tcGFyaXNvbiIsImxvY2FsZUNvbXBhcmUiLCJjbGlja3MiLCJjdHIiLCJoYW5kbGVTb3J0IiwiZmllbGQiLCJmb3JtYXROdW1iZXIiLCJudW0iLCJ0b0ZpeGVkIiwidG9Mb2NhbGVTdHJpbmciLCJTb3J0YWJsZUhlYWRlciIsImNoaWxkcmVuIiwiaGVhZGVyQ2xhc3NOYW1lIiwidmFsdWUiLCJlIiwidGFyZ2V0IiwiaSIsImluZGV4IiwiaXNIaWdoUmV2ZW51ZSIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbImtleXdvcmQtb3Bwb3J0dW5pdHktcGFuZWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xyXG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlLCBDYXJkRGVzY3JpcHRpb24gfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2NhcmRcIjtcclxuaW1wb3J0IHsgVGFibGUsIFRhYmxlSGVhZGVyLCBUYWJsZUJvZHksIFRhYmxlUm93LCBUYWJsZUhlYWRDZWxsLCBUYWJsZUNlbGwgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RhYmxlXCI7XHJcbmltcG9ydCB7IFNrZWxldG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9za2VsZXRvblwiO1xyXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcclxuaW1wb3J0IHsgU2VsZWN0LCBTZWxlY3RDb250ZW50LCBTZWxlY3RJdGVtLCBTZWxlY3RUcmlnZ2VyLCBTZWxlY3RWYWx1ZSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvc2VsZWN0XCI7XHJcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xyXG5pbXBvcnQgeyBBcnJvd1VwRG93biwgVHJlbmRpbmdVcCwgTW91c2VQb2ludGVyQ2xpY2ssIEV5ZSwgUGVyY2VudCwgRmlsdGVyLCBEb2xsYXJTaWduIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5pbXBvcnQgeyBjbiB9IGZyb20gXCJAL2xpYi91dGlsc1wiO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gVHlwZXNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmludGVyZmFjZSBLZXl3b3JkT3Bwb3J0dW5pdHkge1xyXG4gIGtleXdvcmQ6IHN0cmluZztcclxuICBwb3NpdGlvbjogbnVtYmVyO1xyXG4gIGltcHJlc3Npb25zOiBudW1iZXI7XHJcbiAgY2xpY2tzOiBudW1iZXI7XHJcbiAgY3RyOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBIaWdoUmV2ZW51ZVByb2R1Y3Qge1xyXG4gIHByb2R1Y3RfdGl0bGU6IHN0cmluZztcclxuICBwcm9kdWN0X3RpdGxlX2xvd2VyY2FzZTogc3RyaW5nO1xyXG4gIHRvdGFsX3NhbGVzOiBudW1iZXI7XHJcbiAgc2t1OiBzdHJpbmcgfCBudWxsO1xyXG59XHJcblxyXG50eXBlIFNvcnRGaWVsZCA9IFwia2V5d29yZFwiIHwgXCJwb3NpdGlvblwiIHwgXCJpbXByZXNzaW9uc1wiIHwgXCJjbGlja3NcIiB8IFwiY3RyXCI7XHJcbnR5cGUgU29ydE9yZGVyID0gXCJhc2NcIiB8IFwiZGVzY1wiO1xyXG50eXBlIFBvc2l0aW9uUmFuZ2UgPSBcImFsbFwiIHwgXCIzLTEwXCIgfCBcIjExLTE1XCIgfCBcIjE2LTIwXCI7XHJcblxyXG5pbnRlcmZhY2UgS2V5d29yZE9wcG9ydHVuaXR5UGFuZWxQcm9wcyB7XHJcbiAgb25LZXl3b3JkQ2xpY2s/OiAoa2V5d29yZDogc3RyaW5nKSA9PiB2b2lkO1xyXG4gIGNsYXNzTmFtZT86IHN0cmluZztcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ29tcG9uZW50XHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gS2V5d29yZE9wcG9ydHVuaXR5UGFuZWwoe1xyXG4gIG9uS2V5d29yZENsaWNrLFxyXG4gIGNsYXNzTmFtZSxcclxufTogS2V5d29yZE9wcG9ydHVuaXR5UGFuZWxQcm9wcykge1xyXG4gIGNvbnN0IFtrZXl3b3Jkcywgc2V0S2V5d29yZHNdID0gdXNlU3RhdGU8S2V5d29yZE9wcG9ydHVuaXR5W10+KFtdKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbc29ydEZpZWxkLCBzZXRTb3J0RmllbGRdID0gdXNlU3RhdGU8U29ydEZpZWxkPihcImltcHJlc3Npb25zXCIpO1xyXG4gIGNvbnN0IFtzb3J0T3JkZXIsIHNldFNvcnRPcmRlcl0gPSB1c2VTdGF0ZTxTb3J0T3JkZXI+KFwiZGVzY1wiKTtcclxuXHJcbiAgLy8gRmlsdGVyIHN0YXRlXHJcbiAgY29uc3QgW3Bvc2l0aW9uUmFuZ2UsIHNldFBvc2l0aW9uUmFuZ2VdID0gdXNlU3RhdGU8UG9zaXRpb25SYW5nZT4oXCJhbGxcIik7XHJcbiAgY29uc3QgW21pbkltcHJlc3Npb25zLCBzZXRNaW5JbXByZXNzaW9uc10gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpO1xyXG5cclxuICAvLyBIaWdoLXJldmVudWUgcHJvZHVjdHMgZm9yIGtleXdvcmQgbWF0Y2hpbmdcclxuICBjb25zdCBbaGlnaFJldmVudWVQcm9kdWN0cywgc2V0SGlnaFJldmVudWVQcm9kdWN0c10gPSB1c2VTdGF0ZTxIaWdoUmV2ZW51ZVByb2R1Y3RbXT4oW10pO1xyXG5cclxuICAvLyBGZXRjaCBrZXl3b3JkIG9wcG9ydHVuaXRpZXMgb24gbW91bnRcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hLZXl3b3JkcygpIHtcclxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgICBzZXRFcnJvcihudWxsKTtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcIi9hcGkvbWFya2V0aW5nL2Jsb2cva2V5d29yZC1vcHBvcnR1bml0aWVzXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vayB8fCAhcmVzdWx0LnN1Y2Nlc3MpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gZmV0Y2gga2V5d29yZCBvcHBvcnR1bml0aWVzXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0S2V5d29yZHMocmVzdWx0LmRhdGEua2V5d29yZHMgfHwgW10pO1xyXG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbS2V5d29yZE9wcG9ydHVuaXR5UGFuZWxdIEVycm9yOlwiLCBlcnIpO1xyXG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiRmFpbGVkIHRvIGxvYWQga2V5d29yZCBvcHBvcnR1bml0aWVzXCIpO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmZXRjaEtleXdvcmRzKCk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBGZXRjaCBoaWdoLXJldmVudWUgcHJvZHVjdHMgZm9yIGtleXdvcmQgbWF0Y2hpbmdcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hIaWdoUmV2ZW51ZVByb2R1Y3RzKCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL21hcmtldGluZy9ibG9nL2hpZ2gtcmV2ZW51ZS1wcm9kdWN0c1wiKTtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgIGlmIChyZXNwb25zZS5vayAmJiByZXN1bHQuc3VjY2Vzcykge1xyXG4gICAgICAgICAgc2V0SGlnaFJldmVudWVQcm9kdWN0cyhyZXN1bHQuZGF0YS5wcm9kdWN0cyB8fCBbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiW0tleXdvcmRPcHBvcnR1bml0eVBhbmVsXSBFcnJvciBmZXRjaGluZyBoaWdoLXJldmVudWUgcHJvZHVjdHM6XCIsIGVycik7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmZXRjaEhpZ2hSZXZlbnVlUHJvZHVjdHMoKTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIENoZWNrIGlmIGtleXdvcmQgbWF0Y2hlcyBhbnkgaGlnaC1yZXZlbnVlIHByb2R1Y3RcclxuICBjb25zdCBtYXRjaGVzSGlnaFJldmVudWVQcm9kdWN0ID0gdXNlTWVtbygoKSA9PiB7XHJcbiAgICBjb25zdCBwcm9kdWN0V29yZHNTZXQgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuXHJcbiAgICAvLyBFeHRyYWN0IGluZGl2aWR1YWwgd29yZHMgZnJvbSBwcm9kdWN0IHRpdGxlcyAobWluIDQgY2hhcnMgdG8gYXZvaWQgY29tbW9uIHdvcmRzKVxyXG4gICAgZm9yIChjb25zdCBwcm9kdWN0IG9mIGhpZ2hSZXZlbnVlUHJvZHVjdHMpIHtcclxuICAgICAgY29uc3Qgd29yZHMgPSBwcm9kdWN0LnByb2R1Y3RfdGl0bGVfbG93ZXJjYXNlLnNwbGl0KC9cXHMrLyk7XHJcbiAgICAgIGZvciAoY29uc3Qgd29yZCBvZiB3b3Jkcykge1xyXG4gICAgICAgIGlmICh3b3JkLmxlbmd0aCA+PSA0KSB7XHJcbiAgICAgICAgICBwcm9kdWN0V29yZHNTZXQuYWRkKHdvcmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBBbHNvIGFkZCBmdWxsIHByb2R1Y3QgdGl0bGVzIChsb3dlcmNhc2UpXHJcbiAgICAgIHByb2R1Y3RXb3Jkc1NldC5hZGQocHJvZHVjdC5wcm9kdWN0X3RpdGxlX2xvd2VyY2FzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIChrZXl3b3JkOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgICAgY29uc3Qga2V5d29yZExvd2VyID0ga2V5d29yZC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAvLyBDaGVjayBpZiBrZXl3b3JkIGlzIGNvbnRhaW5lZCBpbiBhbnkgcHJvZHVjdCB0aXRsZSBvciB2aWNlIHZlcnNhXHJcbiAgICAgIGZvciAoY29uc3QgcHJvZHVjdCBvZiBoaWdoUmV2ZW51ZVByb2R1Y3RzKSB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgcHJvZHVjdC5wcm9kdWN0X3RpdGxlX2xvd2VyY2FzZS5pbmNsdWRlcyhrZXl3b3JkTG93ZXIpIHx8XHJcbiAgICAgICAgICBrZXl3b3JkTG93ZXIuaW5jbHVkZXMocHJvZHVjdC5wcm9kdWN0X3RpdGxlX2xvd2VyY2FzZSlcclxuICAgICAgICApIHtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBDaGVjayBpZiBhbnkgcHJvZHVjdCB3b3JkIGFwcGVhcnMgaW4gdGhlIGtleXdvcmRcclxuICAgICAgY29uc3Qga2V5d29yZFdvcmRzID0ga2V5d29yZExvd2VyLnNwbGl0KC9cXHMrLyk7XHJcbiAgICAgIGZvciAoY29uc3Qgd29yZCBvZiBrZXl3b3JkV29yZHMpIHtcclxuICAgICAgICBpZiAod29yZC5sZW5ndGggPj0gNCAmJiBwcm9kdWN0V29yZHNTZXQuaGFzKHdvcmQpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICB9LCBbaGlnaFJldmVudWVQcm9kdWN0c10pO1xyXG5cclxuICAvLyBGaWx0ZXIgYW5kIHNvcnQga2V5d29yZHMgYmFzZWQgb24gY3VycmVudCBmaWx0ZXJzIGFuZCBzb3J0IHNldHRpbmdzXHJcbiAgY29uc3QgZmlsdGVyZWRBbmRTb3J0ZWRLZXl3b3JkcyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgLy8gQXBwbHkgZmlsdGVyc1xyXG4gICAgbGV0IGZpbHRlcmVkID0gWy4uLmtleXdvcmRzXTtcclxuXHJcbiAgICAvLyBQb3NpdGlvbiByYW5nZSBmaWx0ZXJcclxuICAgIGlmIChwb3NpdGlvblJhbmdlICE9PSBcImFsbFwiKSB7XHJcbiAgICAgIGNvbnN0IFttaW5Qb3MsIG1heFBvc10gPSBwb3NpdGlvblJhbmdlLnNwbGl0KFwiLVwiKS5tYXAoTnVtYmVyKTtcclxuICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoXHJcbiAgICAgICAgKGt3KSA9PiBrdy5wb3NpdGlvbiA+PSBtaW5Qb3MgJiYga3cucG9zaXRpb24gPD0gbWF4UG9zXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWluaW11bSBpbXByZXNzaW9ucyBmaWx0ZXJcclxuICAgIGNvbnN0IG1pbkltcHJlc3Npb25zTnVtID0gcGFyc2VJbnQobWluSW1wcmVzc2lvbnMsIDEwKTtcclxuICAgIGlmICghaXNOYU4obWluSW1wcmVzc2lvbnNOdW0pICYmIG1pbkltcHJlc3Npb25zTnVtID4gMCkge1xyXG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcigoa3cpID0+IGt3LmltcHJlc3Npb25zID49IG1pbkltcHJlc3Npb25zTnVtKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTb3J0XHJcbiAgICByZXR1cm4gZmlsdGVyZWQuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICBsZXQgY29tcGFyaXNvbiA9IDA7XHJcblxyXG4gICAgICBzd2l0Y2ggKHNvcnRGaWVsZCkge1xyXG4gICAgICAgIGNhc2UgXCJrZXl3b3JkXCI6XHJcbiAgICAgICAgICBjb21wYXJpc29uID0gYS5rZXl3b3JkLmxvY2FsZUNvbXBhcmUoYi5rZXl3b3JkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJwb3NpdGlvblwiOlxyXG4gICAgICAgICAgY29tcGFyaXNvbiA9IGEucG9zaXRpb24gLSBiLnBvc2l0aW9uO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcImltcHJlc3Npb25zXCI6XHJcbiAgICAgICAgICBjb21wYXJpc29uID0gYS5pbXByZXNzaW9ucyAtIGIuaW1wcmVzc2lvbnM7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwiY2xpY2tzXCI6XHJcbiAgICAgICAgICBjb21wYXJpc29uID0gYS5jbGlja3MgLSBiLmNsaWNrcztcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJjdHJcIjpcclxuICAgICAgICAgIGNvbXBhcmlzb24gPSBhLmN0ciAtIGIuY3RyO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzb3J0T3JkZXIgPT09IFwiYXNjXCIgPyBjb21wYXJpc29uIDogLWNvbXBhcmlzb247XHJcbiAgICB9KTtcclxuICB9LCBba2V5d29yZHMsIHNvcnRGaWVsZCwgc29ydE9yZGVyLCBwb3NpdGlvblJhbmdlLCBtaW5JbXByZXNzaW9uc10pO1xyXG5cclxuICAvLyBIYW5kbGUgY29sdW1uIGhlYWRlciBjbGljayBmb3Igc29ydGluZ1xyXG4gIGNvbnN0IGhhbmRsZVNvcnQgPSAoZmllbGQ6IFNvcnRGaWVsZCkgPT4ge1xyXG4gICAgaWYgKHNvcnRGaWVsZCA9PT0gZmllbGQpIHtcclxuICAgICAgLy8gVG9nZ2xlIHNvcnQgb3JkZXIgaWYgY2xpY2tpbmcgc2FtZSBmaWVsZFxyXG4gICAgICBzZXRTb3J0T3JkZXIoc29ydE9yZGVyID09PSBcImFzY1wiID8gXCJkZXNjXCIgOiBcImFzY1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNldCBuZXcgZmllbGQgd2l0aCBkZWZhdWx0IGRlc2NlbmRpbmcgb3JkZXIgKGV4Y2VwdCBmb3Iga2V5d29yZCB3aGljaCBkZWZhdWx0cyB0byBhc2MpXHJcbiAgICAgIHNldFNvcnRGaWVsZChmaWVsZCk7XHJcbiAgICAgIHNldFNvcnRPcmRlcihmaWVsZCA9PT0gXCJrZXl3b3JkXCIgPyBcImFzY1wiIDogXCJkZXNjXCIpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEZvcm1hdCBsYXJnZSBudW1iZXJzXHJcbiAgY29uc3QgZm9ybWF0TnVtYmVyID0gKG51bTogbnVtYmVyKSA9PiB7XHJcbiAgICBpZiAobnVtID49IDEwMDAwMDApIHJldHVybiBgJHsobnVtIC8gMTAwMDAwMCkudG9GaXhlZCgxKX1NYDtcclxuICAgIGlmIChudW0gPj0gMTAwMCkgcmV0dXJuIGAkeyhudW0gLyAxMDAwKS50b0ZpeGVkKDEpfUtgO1xyXG4gICAgcmV0dXJuIG51bS50b0xvY2FsZVN0cmluZygpO1xyXG4gIH07XHJcblxyXG4gIC8vIFJlbmRlciBzb3J0YWJsZSBjb2x1bW4gaGVhZGVyXHJcbiAgY29uc3QgU29ydGFibGVIZWFkZXIgPSAoe1xyXG4gICAgZmllbGQsXHJcbiAgICBjaGlsZHJlbixcclxuICAgIGNsYXNzTmFtZTogaGVhZGVyQ2xhc3NOYW1lLFxyXG4gIH06IHtcclxuICAgIGZpZWxkOiBTb3J0RmllbGQ7XHJcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xyXG4gICAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIH0pID0+IChcclxuICAgIDxUYWJsZUhlYWRDZWxsXHJcbiAgICAgIGNsYXNzTmFtZT17Y24oXCJjdXJzb3ItcG9pbnRlciBzZWxlY3Qtbm9uZSBob3ZlcjpiZy1tdXRlZC84MCB0cmFuc2l0aW9uLWNvbG9yc1wiLCBoZWFkZXJDbGFzc05hbWUpfVxyXG4gICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KGZpZWxkKX1cclxuICAgID5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxyXG4gICAgICAgIHtjaGlsZHJlbn1cclxuICAgICAgICA8QXJyb3dVcERvd25cclxuICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgIFwiaC0zIHctMyB0cmFuc2l0aW9uLW9wYWNpdHlcIixcclxuICAgICAgICAgICAgc29ydEZpZWxkID09PSBmaWVsZCA/IFwib3BhY2l0eS0xMDBcIiA6IFwib3BhY2l0eS00MFwiXHJcbiAgICAgICAgICApfVxyXG4gICAgICAgIC8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9UYWJsZUhlYWRDZWxsPlxyXG4gICk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8Q2FyZCBjbGFzc05hbWU9e2NuKFwiaC1mdWxsXCIsIGNsYXNzTmFtZSl9PlxyXG4gICAgICA8Q2FyZEhlYWRlciBjbGFzc05hbWU9XCJwYi0zXCI+XHJcbiAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgPFRyZW5kaW5nVXAgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXByaW1hcnlcIiAvPlxyXG4gICAgICAgICAgS2V5d29yZCBPcHBvcnR1bml0aWVzXHJcbiAgICAgICAgPC9DYXJkVGl0bGU+XHJcbiAgICAgICAgPENhcmREZXNjcmlwdGlvbj5cclxuICAgICAgICAgIEtleXdvcmRzIHJhbmtpbmcgaW4gcG9zaXRpb25zIDMtMjAgd2l0aCBoaWdoIGltcHJlc3Npb25zIChsYXN0IDMwIGRheXMpXHJcbiAgICAgICAgPC9DYXJkRGVzY3JpcHRpb24+XHJcblxyXG4gICAgICAgIHsvKiBGaWx0ZXJzICovfVxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtMyBwdC0zXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIGZsZXgtMVwiPlxyXG4gICAgICAgICAgICA8RmlsdGVyIGNsYXNzTmFtZT1cImgtNCB3LTQgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCIgLz5cclxuICAgICAgICAgICAgPFNlbGVjdFxyXG4gICAgICAgICAgICAgIHZhbHVlPXtwb3NpdGlvblJhbmdlfVxyXG4gICAgICAgICAgICAgIG9uVmFsdWVDaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0UG9zaXRpb25SYW5nZSh2YWx1ZSBhcyBQb3NpdGlvblJhbmdlKX1cclxuICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgIDxTZWxlY3RUcmlnZ2VyIGNsYXNzTmFtZT1cInctWzEzMHB4XSBoLTggdGV4dC14c1wiPlxyXG4gICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiUG9zaXRpb25cIiAvPlxyXG4gICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cclxuICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cclxuICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiYWxsXCI+QWxsIFBvc2l0aW9uczwvU2VsZWN0SXRlbT5cclxuICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiMy0xMFwiPjMtMTA8L1NlbGVjdEl0ZW0+XHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cIjExLTE1XCI+MTEtMTU8L1NlbGVjdEl0ZW0+XHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cIjE2LTIwXCI+MTYtMjA8L1NlbGVjdEl0ZW0+XHJcbiAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxyXG4gICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBmbGV4LTFcIj5cclxuICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNaW4gaW1wcmVzc2lvbnNcIlxyXG4gICAgICAgICAgICAgIHZhbHVlPXttaW5JbXByZXNzaW9uc31cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE1pbkltcHJlc3Npb25zKGUudGFyZ2V0LnZhbHVlKX1cclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTggdGV4dC14cyB3LVsxMzBweF1cIlxyXG4gICAgICAgICAgICAgIG1pbj17MH1cclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L0NhcmRIZWFkZXI+XHJcbiAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwdC0wXCI+XHJcbiAgICAgICAge2lzTG9hZGluZyA/IChcclxuICAgICAgICAgIC8vIExvYWRpbmcgc2tlbGV0b25cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XHJcbiAgICAgICAgICAgIDxTa2VsZXRvbiBjbGFzc05hbWU9XCJoLTggdy1mdWxsXCIgLz5cclxuICAgICAgICAgICAge1sxLCAyLCAzLCA0LCA1LCA2LCA3LCA4XS5tYXAoKGkpID0+IChcclxuICAgICAgICAgICAgICA8U2tlbGV0b24ga2V5PXtpfSBjbGFzc05hbWU9XCJoLTEwIHctZnVsbFwiIC8+XHJcbiAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKSA6IGVycm9yID8gKFxyXG4gICAgICAgICAgLy8gRXJyb3Igc3RhdGVcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktOCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWRlc3RydWN0aXZlIG1iLTJcIj5FcnJvciBsb2FkaW5nIGtleXdvcmRzPC9wPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPntlcnJvcn08L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogZmlsdGVyZWRBbmRTb3J0ZWRLZXl3b3Jkcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAvLyBFbXB0eSBzdGF0ZVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS04IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgIDxUcmVuZGluZ1VwIGNsYXNzTmFtZT1cImgtMTAgdy0xMCB0ZXh0LW11dGVkLWZvcmVncm91bmQgbWItMlwiIC8+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPk5vIGtleXdvcmQgb3Bwb3J0dW5pdGllcyBmb3VuZDwvcD5cclxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmQgbXQtMVwiPlxyXG4gICAgICAgICAgICAgIHtrZXl3b3Jkcy5sZW5ndGggPiAwXHJcbiAgICAgICAgICAgICAgICA/IFwiVHJ5IGFkanVzdGluZyB5b3VyIGZpbHRlcnNcIlxyXG4gICAgICAgICAgICAgICAgOiBcIktleXdvcmRzIHJhbmtpbmcgMy0yMCB3aXRoIDEwMCsgaW1wcmVzc2lvbnMgd2lsbCBhcHBlYXIgaGVyZVwifVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgLy8gS2V5d29yZHMgdGFibGVcclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LWgtWzUwMHB4XSBvdmVyZmxvdy1hdXRvXCI+XHJcbiAgICAgICAgICAgIDxUYWJsZT5cclxuICAgICAgICAgICAgICA8VGFibGVIZWFkZXI+XHJcbiAgICAgICAgICAgICAgICA8VGFibGVSb3c+XHJcbiAgICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBmaWVsZD1cImtleXdvcmRcIj5LZXl3b3JkPC9Tb3J0YWJsZUhlYWRlcj5cclxuICAgICAgICAgICAgICAgICAgPFNvcnRhYmxlSGVhZGVyIGZpZWxkPVwicG9zaXRpb25cIiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5Qb3NpdGlvbjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzbTpoaWRkZW5cIj5Qb3M8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIDwvU29ydGFibGVIZWFkZXI+XHJcbiAgICAgICAgICAgICAgICAgIDxTb3J0YWJsZUhlYWRlciBmaWVsZD1cImltcHJlc3Npb25zXCIgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoaWRkZW4gc206aW5saW5lXCI+SW1wcmVzc2lvbnM8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic206aGlkZGVuXCI+SW1wcjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9Tb3J0YWJsZUhlYWRlcj5cclxuICAgICAgICAgICAgICAgICAgPFNvcnRhYmxlSGVhZGVyIGZpZWxkPVwiY2xpY2tzXCIgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxNb3VzZVBvaW50ZXJDbGljayBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTFcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhpZGRlbiBzbTppbmxpbmVcIj5DbGlja3M8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic206aGlkZGVuXCI+Q2xrPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICA8L1NvcnRhYmxlSGVhZGVyPlxyXG4gICAgICAgICAgICAgICAgICA8U29ydGFibGVIZWFkZXIgZmllbGQ9XCJjdHJcIiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPFBlcmNlbnQgY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICBDVFJcclxuICAgICAgICAgICAgICAgICAgPC9Tb3J0YWJsZUhlYWRlcj5cclxuICAgICAgICAgICAgICAgIDwvVGFibGVSb3c+XHJcbiAgICAgICAgICAgICAgPC9UYWJsZUhlYWRlcj5cclxuICAgICAgICAgICAgICA8VGFibGVCb2R5PlxyXG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkQW5kU29ydGVkS2V5d29yZHMubWFwKChrdywgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgaXNIaWdoUmV2ZW51ZSA9IG1hdGNoZXNIaWdoUmV2ZW51ZVByb2R1Y3Qoa3cua2V5d29yZCk7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICAgIDxUYWJsZVJvd1xyXG4gICAgICAgICAgICAgICAgICAgIGtleT17YCR7a3cua2V5d29yZH0tJHtpbmRleH1gfVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgICBvbktleXdvcmRDbGljayAmJiBcImN1cnNvci1wb2ludGVyIGhvdmVyOmJnLXByaW1hcnkvNVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNIaWdoUmV2ZW51ZSAmJiBcImJnLXN1Y2Nlc3MvNVwiXHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBvbktleXdvcmRDbGljaz8uKGt3LmtleXdvcmQpfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSBtYXgtdy1bMjAwcHhdXCIgdGl0bGU9e2t3LmtleXdvcmR9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0cnVuY2F0ZVwiPntrdy5rZXl3b3JkfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2lzSGlnaFJldmVudWUgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwic3VjY2Vzc1wiIGNsYXNzTmFtZT1cInNocmluay0wIHRleHQtWzEwcHhdIHB4LTEuNSBweS0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RG9sbGFyU2lnbiBjbGFzc05hbWU9XCJoLTMgdy0zIG1yLTAuNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSZXZlbnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvVGFibGVDZWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUNlbGwgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHgtMiBweS0wLjUgcm91bmRlZCB0ZXh0LXhzIGZvbnQtbWVkaXVtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga3cucG9zaXRpb24gPD0gMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmVlbi0xMDAgdGV4dC1ncmVlbi04MDAgZGFyazpiZy1ncmVlbi05MDAvMzAgZGFyazp0ZXh0LWdyZWVuLTQwMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGt3LnBvc2l0aW9uIDw9IDE1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmcteWVsbG93LTEwMCB0ZXh0LXllbGxvdy04MDAgZGFyazpiZy15ZWxsb3ctOTAwLzMwIGRhcms6dGV4dC15ZWxsb3ctNDAwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1vcmFuZ2UtMTAwIHRleHQtb3JhbmdlLTgwMCBkYXJrOmJnLW9yYW5nZS05MDAvMzAgZGFyazp0ZXh0LW9yYW5nZS00MDBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7a3cucG9zaXRpb24udG9GaXhlZCgxKX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHQgdGFidWxhci1udW1zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TnVtYmVyKGt3LmltcHJlc3Npb25zKX1cclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgICA8VGFibGVDZWxsIGNsYXNzTmFtZT1cInRleHQtcmlnaHQgdGFidWxhci1udW1zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TnVtYmVyKGt3LmNsaWNrcyl9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9UYWJsZUNlbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQ2VsbCBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0IHRhYnVsYXItbnVtc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAge2t3LmN0ci50b0ZpeGVkKDIpfSVcclxuICAgICAgICAgICAgICAgICAgICA8L1RhYmxlQ2VsbD5cclxuICAgICAgICAgICAgICAgICAgPC9UYWJsZVJvdz5cclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICAgIDwvVGFibGVCb2R5PlxyXG4gICAgICAgICAgICA8L1RhYmxlPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIFJlc3VsdHMgY291bnQgKi99XHJcbiAgICAgICAgeyFpc0xvYWRpbmcgJiYgIWVycm9yICYmIGZpbHRlcmVkQW5kU29ydGVkS2V5d29yZHMubGVuZ3RoID4gMCAmJiAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTMgdGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmQgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgU2hvd2luZyB7ZmlsdGVyZWRBbmRTb3J0ZWRLZXl3b3Jkcy5sZW5ndGh9IG9mIHtrZXl3b3Jkcy5sZW5ndGh9IGtleXdvcmQgb3Bwb3J0dW5pdGllc1xyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKX1cclxuICAgICAgPC9DYXJkQ29udGVudD5cclxuICAgIDwvQ2FyZD5cclxuICApO1xyXG59XHJcbiJdLCJmaWxlIjoiQzovUHJvamVjdHMvU291cmNlIDQgSW5kdXN0cmllcy9zcmMvY29tcG9uZW50cy9ibG9nL2tleXdvcmQtb3Bwb3J0dW5pdHktcGFuZWwudHN4In0=