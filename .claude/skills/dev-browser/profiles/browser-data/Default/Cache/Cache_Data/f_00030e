import __vite__cjsImport0_react from "/node_modules/.vite/deps/react.js?v=aadb9797"; const useState = __vite__cjsImport0_react["useState"]; const useEffect = __vite__cjsImport0_react["useEffect"];
import { supabase } from "/src/lib/supabase.ts";
function transformLenderFromDB(db) {
  return {
    id: db.id,
    companyName: db.company_name,
    website: db.website,
    companyType: db.company_type,
    headquartersLocation: db.headquarters_location,
    geographicCoverage: db.geographic_coverage || [],
    licenseNumbers: db.license_numbers,
    status: db.status,
    rating: db.rating,
    notes: db.notes,
    createdAt: db.created_at,
    updatedAt: db.updated_at,
    createdBy: db.created_by,
    lastSynced: db.last_synced
  };
}
function transformLenderToDB(lender) {
  return {
    company_name: lender.companyName,
    website: lender.website,
    company_type: lender.companyType,
    headquarters_location: lender.headquartersLocation,
    geographic_coverage: lender.geographicCoverage || [],
    status: lender.status,
    rating: lender.rating,
    notes: lender.notes
  };
}
function transformProgramFromDB(db) {
  return {
    id: db.id,
    lenderId: db.lender_id,
    programName: db.program_name,
    loanTypes: db.loan_types || [],
    minLoanAmount: db.min_loan_amount,
    maxLoanAmount: db.max_loan_amount,
    minCreditScore: db.min_credit_score,
    minDscr: db.min_dscr,
    maxLtv: db.max_ltv,
    propertyTypes: db.property_types || [],
    interestRateMin: db.interest_rate_min,
    interestRateMax: db.interest_rate_max,
    rateType: db.rate_type,
    termMonths: db.term_months,
    closingDays: db.closing_days,
    requirements: db.requirements,
    specialFeatures: db.special_features || [],
    status: db.status,
    effectiveDate: db.effective_date,
    expirationDate: db.expiration_date,
    createdAt: db.created_at,
    updatedAt: db.updated_at
  };
}
function transformProgramToDB(program) {
  return {
    program_name: program.programName,
    loan_types: program.loanTypes || [],
    min_loan_amount: program.minLoanAmount,
    max_loan_amount: program.maxLoanAmount,
    min_credit_score: program.minCreditScore,
    min_dscr: program.minDscr,
    max_ltv: program.maxLtv,
    property_types: program.propertyTypes || [],
    interest_rate_min: program.interestRateMin,
    interest_rate_max: program.interestRateMax,
    rate_type: program.rateType,
    term_months: program.termMonths,
    closing_days: program.closingDays,
    requirements: program.requirements,
    special_features: program.specialFeatures || [],
    status: program.status,
    effective_date: program.effectiveDate,
    expiration_date: program.expirationDate
  };
}
function transformContactFromDB(db) {
  return {
    id: db.id,
    lenderId: db.lender_id,
    firstName: db.first_name,
    lastName: db.last_name,
    title: db.title,
    department: db.department,
    email: db.email,
    phone: db.phone,
    mobile: db.mobile,
    preferredContactMethod: db.preferred_contact_method,
    isPrimary: db.is_primary,
    status: db.status,
    notes: db.notes,
    createdAt: db.created_at,
    updatedAt: db.updated_at
  };
}
function transformContactToDB(contact) {
  return {
    first_name: contact.firstName,
    last_name: contact.lastName,
    title: contact.title,
    department: contact.department,
    email: contact.email,
    phone: contact.phone,
    mobile: contact.mobile,
    preferred_contact_method: contact.preferredContactMethod,
    is_primary: contact.isPrimary,
    notes: contact.notes
  };
}
function transformCommunicationFromDB(db) {
  return {
    id: db.id,
    lenderId: db.lender_id,
    contactId: db.contact_id,
    communicationType: db.communication_type,
    subject: db.subject,
    summary: db.summary,
    date: db.date,
    direction: db.direction,
    outcome: db.outcome,
    followUpRequired: db.follow_up_required,
    followUpDate: db.follow_up_date,
    createdBy: db.created_by,
    createdAt: db.created_at
  };
}
function transformPerformanceFromDB(db) {
  return {
    id: db.id,
    lenderId: db.lender_id,
    totalDealsSubmitted: db.total_deals_submitted,
    totalDealsApproved: db.total_deals_approved,
    totalDealsFunded: db.total_deals_funded,
    approvalRate: db.approval_rate,
    averageApprovalDays: db.average_approval_days,
    averageClosingDays: db.average_closing_days,
    totalFundedAmount: db.total_funded_amount,
    lastDealDate: db.last_deal_date,
    lastUpdated: db.last_updated
  };
}
export function useLenders(filters) {
  const [lenders, setLenders] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const fetchLenders = async () => {
    try {
      setLoading(true);
      setError(null);
      let query = supabase.from("lenders").select("*");
      if (filters) {
        if (filters.search) {
          query = query.or(`company_name.ilike.%${filters.search}%,notes.ilike.%${filters.search}%`);
        }
        if (filters.companyTypes && filters.companyTypes.length > 0) {
          query = query.in("company_type", filters.companyTypes);
        }
        if (filters.status) {
          query = query.eq("status", filters.status);
        }
        if (filters.minRating) {
          query = query.gte("rating", filters.minRating);
        }
        if (filters.geographicCoverage && filters.geographicCoverage.length > 0) {
          query = query.overlaps("geographic_coverage", filters.geographicCoverage);
        }
      }
      query = query.order("company_name", { ascending: true });
      const { data, error: queryError } = await query;
      if (queryError) throw queryError;
      const transformedLenders = data.map(transformLenderFromDB);
      setLenders(transformedLenders);
    } catch (err) {
      console.error("Error fetching lenders:", err);
      setError(err instanceof Error ? err.message : "Failed to fetch lenders");
    } finally {
      setLoading(false);
    }
  };
  useEffect(() => {
    fetchLenders();
  }, [JSON.stringify(filters)]);
  return {
    lenders,
    loading,
    error,
    refetch: fetchLenders
  };
}
export function useLenderDetails(lenderId) {
  const [lender, setLender] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);
  const fetchLenderDetails = async () => {
    if (!lenderId) {
      setLender(null);
      setLoading(false);
      return;
    }
    try {
      setLoading(true);
      setError(null);
      const { data: lenderData, error: lenderError } = await supabase.from("lenders").select("*").eq("id", lenderId).single();
      if (lenderError) throw lenderError;
      const { data: programsData, error: programsError } = await supabase.from("lender_programs").select("*").eq("lender_id", lenderId);
      if (programsError) throw programsError;
      const { data: contactsData, error: contactsError } = await supabase.from("lender_contacts").select("*").eq("lender_id", lenderId);
      if (contactsError) throw contactsError;
      const { data: performanceData, error: performanceError } = await supabase.from("lender_performance").select("*").eq("lender_id", lenderId).maybeSingle();
      if (performanceError) throw performanceError;
      const { data: communicationsData, error: communicationsError } = await supabase.from("lender_communications").select("*").eq("lender_id", lenderId).order("date", { ascending: false });
      if (communicationsError) throw communicationsError;
      const lenderWithDetails = {
        ...transformLenderFromDB(lenderData),
        programs: programsData.map(transformProgramFromDB),
        contacts: contactsData.map(transformContactFromDB),
        performance: performanceData ? transformPerformanceFromDB(performanceData) : void 0,
        communicationCount: communicationsData?.length || 0,
        lastCommunication: communicationsData?.[0] ? transformCommunicationFromDB(communicationsData[0]) : void 0
      };
      setLender(lenderWithDetails);
    } catch (err) {
      console.error("Error fetching lender details:", err);
      setError(err instanceof Error ? err.message : "Failed to fetch lender details");
    } finally {
      setLoading(false);
    }
  };
  useEffect(() => {
    fetchLenderDetails();
  }, [lenderId]);
  return {
    lender,
    loading,
    error,
    refetch: fetchLenderDetails
  };
}
export async function createLender(data) {
  const { data: lenderData, error } = await supabase.from("lenders").insert([transformLenderToDB(data)]).select().single();
  if (error) throw error;
  return transformLenderFromDB(lenderData);
}
export async function updateLender(id, data) {
  const { data: lenderData, error } = await supabase.from("lenders").update(transformLenderToDB(data)).eq("id", id).select().single();
  if (error) throw error;
  return transformLenderFromDB(lenderData);
}
export async function deleteLender(id) {
  const { error } = await supabase.from("lenders").delete().eq("id", id);
  if (error) throw error;
}
export async function createProgram(lenderId, data) {
  const { data: programData, error } = await supabase.from("lender_programs").insert([{ ...transformProgramToDB(data), lender_id: lenderId }]).select().single();
  if (error) throw error;
  return transformProgramFromDB(programData);
}
export async function updateProgram(id, data) {
  const { data: programData, error } = await supabase.from("lender_programs").update(transformProgramToDB(data)).eq("id", id).select().single();
  if (error) throw error;
  return transformProgramFromDB(programData);
}
export async function deleteProgram(id) {
  const { error } = await supabase.from("lender_programs").delete().eq("id", id);
  if (error) throw error;
}
export async function createContact(lenderId, data) {
  const { data: contactData, error } = await supabase.from("lender_contacts").insert([{ ...transformContactToDB(data), lender_id: lenderId }]).select().single();
  if (error) throw error;
  return transformContactFromDB(contactData);
}
export async function updateContact(id, data) {
  const { data: contactData, error } = await supabase.from("lender_contacts").update(transformContactToDB(data)).eq("id", id).select().single();
  if (error) throw error;
  return transformContactFromDB(contactData);
}
export async function deleteContact(id) {
  const { error } = await supabase.from("lender_contacts").delete().eq("id", id);
  if (error) throw error;
}
export async function createCommunication(lenderId, data) {
  const { data: commData, error } = await supabase.from("lender_communications").insert([{
    lender_id: lenderId,
    contact_id: data.contactId,
    communication_type: data.communicationType,
    subject: data.subject,
    summary: data.summary,
    date: data.date,
    direction: data.direction,
    outcome: data.outcome,
    follow_up_required: data.followUpRequired,
    follow_up_date: data.followUpDate
  }]).select().single();
  if (error) throw error;
  return transformCommunicationFromDB(commData);
}
export async function bulkDeleteLenders(ids) {
  const { error } = await supabase.from("lenders").delete().in("id", ids);
  if (error) throw error;
}
export async function bulkUpdateLenderStatus(ids, status) {
  const { error } = await supabase.from("lenders").update({ status }).in("id", ids);
  if (error) throw error;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZUxlbmRlcnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gdXNlTGVuZGVycyBIb29rXHJcbi8vIEVwaWMgMjogTGVuZGVycyBEYXNoYm9hcmQgKExELTAwMSlcclxuLy8gQ3VzdG9tIGhvb2sgZm9yIG1hbmFnaW5nIGxlbmRlciBkYXRhIHdpdGggU3VwYWJhc2VcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi4vbGliL3N1cGFiYXNlJztcclxuaW1wb3J0IHR5cGUge1xyXG4gIExlbmRlcixcclxuICBMZW5kZXJXaXRoRGV0YWlscyxcclxuICBMZW5kZXJQcm9ncmFtLFxyXG4gIExlbmRlckNvbnRhY3QsXHJcbiAgTGVuZGVyQ29tbXVuaWNhdGlvbixcclxuICBMZW5kZXJQZXJmb3JtYW5jZSxcclxuICBMZW5kZXJGaWx0ZXJzLFxyXG4gIExlbmRlckRCLFxyXG4gIExlbmRlclByb2dyYW1EQixcclxuICBMZW5kZXJDb250YWN0REIsXHJcbiAgTGVuZGVyQ29tbXVuaWNhdGlvbkRCLFxyXG4gIExlbmRlclBlcmZvcm1hbmNlREIsXHJcbiAgTGVuZGVyRm9ybURhdGEsXHJcbiAgUHJvZ3JhbUZvcm1EYXRhLFxyXG4gIENvbnRhY3RGb3JtRGF0YSxcclxuICBDb21tdW5pY2F0aW9uRm9ybURhdGEsXHJcbn0gZnJvbSAnLi4vdHlwZXMvbGVuZGVyJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFRSQU5TRk9STSBGVU5DVElPTlMgKERCIOKGlCBBUFApXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5mdW5jdGlvbiB0cmFuc2Zvcm1MZW5kZXJGcm9tREIoZGI6IExlbmRlckRCKTogTGVuZGVyIHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IGRiLmlkLFxyXG4gICAgY29tcGFueU5hbWU6IGRiLmNvbXBhbnlfbmFtZSxcclxuICAgIHdlYnNpdGU6IGRiLndlYnNpdGUsXHJcbiAgICBjb21wYW55VHlwZTogZGIuY29tcGFueV90eXBlLFxyXG4gICAgaGVhZHF1YXJ0ZXJzTG9jYXRpb246IGRiLmhlYWRxdWFydGVyc19sb2NhdGlvbixcclxuICAgIGdlb2dyYXBoaWNDb3ZlcmFnZTogZGIuZ2VvZ3JhcGhpY19jb3ZlcmFnZSB8fCBbXSxcclxuICAgIGxpY2Vuc2VOdW1iZXJzOiBkYi5saWNlbnNlX251bWJlcnMsXHJcbiAgICBzdGF0dXM6IGRiLnN0YXR1cyxcclxuICAgIHJhdGluZzogZGIucmF0aW5nLFxyXG4gICAgbm90ZXM6IGRiLm5vdGVzLFxyXG4gICAgY3JlYXRlZEF0OiBkYi5jcmVhdGVkX2F0LFxyXG4gICAgdXBkYXRlZEF0OiBkYi51cGRhdGVkX2F0LFxyXG4gICAgY3JlYXRlZEJ5OiBkYi5jcmVhdGVkX2J5LFxyXG4gICAgbGFzdFN5bmNlZDogZGIubGFzdF9zeW5jZWQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtTGVuZGVyVG9EQihsZW5kZXI6IFBhcnRpYWw8TGVuZGVyRm9ybURhdGE+KTogUGFydGlhbDxMZW5kZXJEQj4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBjb21wYW55X25hbWU6IGxlbmRlci5jb21wYW55TmFtZSEsXHJcbiAgICB3ZWJzaXRlOiBsZW5kZXIud2Vic2l0ZSxcclxuICAgIGNvbXBhbnlfdHlwZTogbGVuZGVyLmNvbXBhbnlUeXBlISxcclxuICAgIGhlYWRxdWFydGVyc19sb2NhdGlvbjogbGVuZGVyLmhlYWRxdWFydGVyc0xvY2F0aW9uLFxyXG4gICAgZ2VvZ3JhcGhpY19jb3ZlcmFnZTogbGVuZGVyLmdlb2dyYXBoaWNDb3ZlcmFnZSB8fCBbXSxcclxuICAgIHN0YXR1czogbGVuZGVyLnN0YXR1cyEsXHJcbiAgICByYXRpbmc6IGxlbmRlci5yYXRpbmcsXHJcbiAgICBub3RlczogbGVuZGVyLm5vdGVzLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybVByb2dyYW1Gcm9tREIoZGI6IExlbmRlclByb2dyYW1EQik6IExlbmRlclByb2dyYW0ge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZGIuaWQsXHJcbiAgICBsZW5kZXJJZDogZGIubGVuZGVyX2lkLFxyXG4gICAgcHJvZ3JhbU5hbWU6IGRiLnByb2dyYW1fbmFtZSxcclxuICAgIGxvYW5UeXBlczogZGIubG9hbl90eXBlcyB8fCBbXSxcclxuICAgIG1pbkxvYW5BbW91bnQ6IGRiLm1pbl9sb2FuX2Ftb3VudCxcclxuICAgIG1heExvYW5BbW91bnQ6IGRiLm1heF9sb2FuX2Ftb3VudCxcclxuICAgIG1pbkNyZWRpdFNjb3JlOiBkYi5taW5fY3JlZGl0X3Njb3JlLFxyXG4gICAgbWluRHNjcjogZGIubWluX2RzY3IsXHJcbiAgICBtYXhMdHY6IGRiLm1heF9sdHYsXHJcbiAgICBwcm9wZXJ0eVR5cGVzOiBkYi5wcm9wZXJ0eV90eXBlcyB8fCBbXSxcclxuICAgIGludGVyZXN0UmF0ZU1pbjogZGIuaW50ZXJlc3RfcmF0ZV9taW4sXHJcbiAgICBpbnRlcmVzdFJhdGVNYXg6IGRiLmludGVyZXN0X3JhdGVfbWF4LFxyXG4gICAgcmF0ZVR5cGU6IGRiLnJhdGVfdHlwZSxcclxuICAgIHRlcm1Nb250aHM6IGRiLnRlcm1fbW9udGhzLFxyXG4gICAgY2xvc2luZ0RheXM6IGRiLmNsb3NpbmdfZGF5cyxcclxuICAgIHJlcXVpcmVtZW50czogZGIucmVxdWlyZW1lbnRzLFxyXG4gICAgc3BlY2lhbEZlYXR1cmVzOiBkYi5zcGVjaWFsX2ZlYXR1cmVzIHx8IFtdLFxyXG4gICAgc3RhdHVzOiBkYi5zdGF0dXMsXHJcbiAgICBlZmZlY3RpdmVEYXRlOiBkYi5lZmZlY3RpdmVfZGF0ZSxcclxuICAgIGV4cGlyYXRpb25EYXRlOiBkYi5leHBpcmF0aW9uX2RhdGUsXHJcbiAgICBjcmVhdGVkQXQ6IGRiLmNyZWF0ZWRfYXQsXHJcbiAgICB1cGRhdGVkQXQ6IGRiLnVwZGF0ZWRfYXQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtUHJvZ3JhbVRvREIocHJvZ3JhbTogUGFydGlhbDxQcm9ncmFtRm9ybURhdGE+KTogUGFydGlhbDxMZW5kZXJQcm9ncmFtREI+IHtcclxuICByZXR1cm4ge1xyXG4gICAgcHJvZ3JhbV9uYW1lOiBwcm9ncmFtLnByb2dyYW1OYW1lISxcclxuICAgIGxvYW5fdHlwZXM6IHByb2dyYW0ubG9hblR5cGVzIHx8IFtdLFxyXG4gICAgbWluX2xvYW5fYW1vdW50OiBwcm9ncmFtLm1pbkxvYW5BbW91bnQsXHJcbiAgICBtYXhfbG9hbl9hbW91bnQ6IHByb2dyYW0ubWF4TG9hbkFtb3VudCxcclxuICAgIG1pbl9jcmVkaXRfc2NvcmU6IHByb2dyYW0ubWluQ3JlZGl0U2NvcmUsXHJcbiAgICBtaW5fZHNjcjogcHJvZ3JhbS5taW5Ec2NyLFxyXG4gICAgbWF4X2x0djogcHJvZ3JhbS5tYXhMdHYsXHJcbiAgICBwcm9wZXJ0eV90eXBlczogcHJvZ3JhbS5wcm9wZXJ0eVR5cGVzIHx8IFtdLFxyXG4gICAgaW50ZXJlc3RfcmF0ZV9taW46IHByb2dyYW0uaW50ZXJlc3RSYXRlTWluLFxyXG4gICAgaW50ZXJlc3RfcmF0ZV9tYXg6IHByb2dyYW0uaW50ZXJlc3RSYXRlTWF4LFxyXG4gICAgcmF0ZV90eXBlOiBwcm9ncmFtLnJhdGVUeXBlISxcclxuICAgIHRlcm1fbW9udGhzOiBwcm9ncmFtLnRlcm1Nb250aHMsXHJcbiAgICBjbG9zaW5nX2RheXM6IHByb2dyYW0uY2xvc2luZ0RheXMsXHJcbiAgICByZXF1aXJlbWVudHM6IHByb2dyYW0ucmVxdWlyZW1lbnRzLFxyXG4gICAgc3BlY2lhbF9mZWF0dXJlczogcHJvZ3JhbS5zcGVjaWFsRmVhdHVyZXMgfHwgW10sXHJcbiAgICBzdGF0dXM6IHByb2dyYW0uc3RhdHVzISxcclxuICAgIGVmZmVjdGl2ZV9kYXRlOiBwcm9ncmFtLmVmZmVjdGl2ZURhdGUsXHJcbiAgICBleHBpcmF0aW9uX2RhdGU6IHByb2dyYW0uZXhwaXJhdGlvbkRhdGUsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtQ29udGFjdEZyb21EQihkYjogTGVuZGVyQ29udGFjdERCKTogTGVuZGVyQ29udGFjdCB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiBkYi5pZCxcclxuICAgIGxlbmRlcklkOiBkYi5sZW5kZXJfaWQsXHJcbiAgICBmaXJzdE5hbWU6IGRiLmZpcnN0X25hbWUsXHJcbiAgICBsYXN0TmFtZTogZGIubGFzdF9uYW1lLFxyXG4gICAgdGl0bGU6IGRiLnRpdGxlLFxyXG4gICAgZGVwYXJ0bWVudDogZGIuZGVwYXJ0bWVudCxcclxuICAgIGVtYWlsOiBkYi5lbWFpbCxcclxuICAgIHBob25lOiBkYi5waG9uZSxcclxuICAgIG1vYmlsZTogZGIubW9iaWxlLFxyXG4gICAgcHJlZmVycmVkQ29udGFjdE1ldGhvZDogZGIucHJlZmVycmVkX2NvbnRhY3RfbWV0aG9kLFxyXG4gICAgaXNQcmltYXJ5OiBkYi5pc19wcmltYXJ5LFxyXG4gICAgc3RhdHVzOiBkYi5zdGF0dXMsXHJcbiAgICBub3RlczogZGIubm90ZXMsXHJcbiAgICBjcmVhdGVkQXQ6IGRiLmNyZWF0ZWRfYXQsXHJcbiAgICB1cGRhdGVkQXQ6IGRiLnVwZGF0ZWRfYXQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtQ29udGFjdFRvREIoY29udGFjdDogUGFydGlhbDxDb250YWN0Rm9ybURhdGE+KTogUGFydGlhbDxMZW5kZXJDb250YWN0REI+IHtcclxuICByZXR1cm4ge1xyXG4gICAgZmlyc3RfbmFtZTogY29udGFjdC5maXJzdE5hbWUhLFxyXG4gICAgbGFzdF9uYW1lOiBjb250YWN0Lmxhc3ROYW1lISxcclxuICAgIHRpdGxlOiBjb250YWN0LnRpdGxlLFxyXG4gICAgZGVwYXJ0bWVudDogY29udGFjdC5kZXBhcnRtZW50LFxyXG4gICAgZW1haWw6IGNvbnRhY3QuZW1haWwsXHJcbiAgICBwaG9uZTogY29udGFjdC5waG9uZSxcclxuICAgIG1vYmlsZTogY29udGFjdC5tb2JpbGUsXHJcbiAgICBwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6IGNvbnRhY3QucHJlZmVycmVkQ29udGFjdE1ldGhvZCxcclxuICAgIGlzX3ByaW1hcnk6IGNvbnRhY3QuaXNQcmltYXJ5ISxcclxuICAgIG5vdGVzOiBjb250YWN0Lm5vdGVzLFxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyYW5zZm9ybUNvbW11bmljYXRpb25Gcm9tREIoZGI6IExlbmRlckNvbW11bmljYXRpb25EQik6IExlbmRlckNvbW11bmljYXRpb24ge1xyXG4gIHJldHVybiB7XHJcbiAgICBpZDogZGIuaWQsXHJcbiAgICBsZW5kZXJJZDogZGIubGVuZGVyX2lkLFxyXG4gICAgY29udGFjdElkOiBkYi5jb250YWN0X2lkLFxyXG4gICAgY29tbXVuaWNhdGlvblR5cGU6IGRiLmNvbW11bmljYXRpb25fdHlwZSxcclxuICAgIHN1YmplY3Q6IGRiLnN1YmplY3QsXHJcbiAgICBzdW1tYXJ5OiBkYi5zdW1tYXJ5LFxyXG4gICAgZGF0ZTogZGIuZGF0ZSxcclxuICAgIGRpcmVjdGlvbjogZGIuZGlyZWN0aW9uLFxyXG4gICAgb3V0Y29tZTogZGIub3V0Y29tZSxcclxuICAgIGZvbGxvd1VwUmVxdWlyZWQ6IGRiLmZvbGxvd191cF9yZXF1aXJlZCxcclxuICAgIGZvbGxvd1VwRGF0ZTogZGIuZm9sbG93X3VwX2RhdGUsXHJcbiAgICBjcmVhdGVkQnk6IGRiLmNyZWF0ZWRfYnksXHJcbiAgICBjcmVhdGVkQXQ6IGRiLmNyZWF0ZWRfYXQsXHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJhbnNmb3JtUGVyZm9ybWFuY2VGcm9tREIoZGI6IExlbmRlclBlcmZvcm1hbmNlREIpOiBMZW5kZXJQZXJmb3JtYW5jZSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiBkYi5pZCxcclxuICAgIGxlbmRlcklkOiBkYi5sZW5kZXJfaWQsXHJcbiAgICB0b3RhbERlYWxzU3VibWl0dGVkOiBkYi50b3RhbF9kZWFsc19zdWJtaXR0ZWQsXHJcbiAgICB0b3RhbERlYWxzQXBwcm92ZWQ6IGRiLnRvdGFsX2RlYWxzX2FwcHJvdmVkLFxyXG4gICAgdG90YWxEZWFsc0Z1bmRlZDogZGIudG90YWxfZGVhbHNfZnVuZGVkLFxyXG4gICAgYXBwcm92YWxSYXRlOiBkYi5hcHByb3ZhbF9yYXRlLFxyXG4gICAgYXZlcmFnZUFwcHJvdmFsRGF5czogZGIuYXZlcmFnZV9hcHByb3ZhbF9kYXlzLFxyXG4gICAgYXZlcmFnZUNsb3NpbmdEYXlzOiBkYi5hdmVyYWdlX2Nsb3NpbmdfZGF5cyxcclxuICAgIHRvdGFsRnVuZGVkQW1vdW50OiBkYi50b3RhbF9mdW5kZWRfYW1vdW50LFxyXG4gICAgbGFzdERlYWxEYXRlOiBkYi5sYXN0X2RlYWxfZGF0ZSxcclxuICAgIGxhc3RVcGRhdGVkOiBkYi5sYXN0X3VwZGF0ZWQsXHJcbiAgfTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTUFJTiBIT09LXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXNlTGVuZGVycyhmaWx0ZXJzPzogTGVuZGVyRmlsdGVycykge1xyXG4gIGNvbnN0IFtsZW5kZXJzLCBzZXRMZW5kZXJzXSA9IHVzZVN0YXRlPExlbmRlcltdPihbXSk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hMZW5kZXJzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZS5mcm9tKCdsZW5kZXJzJykuc2VsZWN0KCcqJyk7XHJcblxyXG4gICAgICAvLyBBcHBseSBmaWx0ZXJzXHJcbiAgICAgIGlmIChmaWx0ZXJzKSB7XHJcbiAgICAgICAgaWYgKGZpbHRlcnMuc2VhcmNoKSB7XHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBjb21wYW55X25hbWUuaWxpa2UuJSR7ZmlsdGVycy5zZWFyY2h9JSxub3Rlcy5pbGlrZS4lJHtmaWx0ZXJzLnNlYXJjaH0lYCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZmlsdGVycy5jb21wYW55VHlwZXMgJiYgZmlsdGVycy5jb21wYW55VHlwZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5pbignY29tcGFueV90eXBlJywgZmlsdGVycy5jb21wYW55VHlwZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpbHRlcnMuc3RhdHVzKSB7XHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdzdGF0dXMnLCBmaWx0ZXJzLnN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZmlsdGVycy5taW5SYXRpbmcpIHtcclxuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCdyYXRpbmcnLCBmaWx0ZXJzLm1pblJhdGluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZmlsdGVycy5nZW9ncmFwaGljQ292ZXJhZ2UgJiYgZmlsdGVycy5nZW9ncmFwaGljQ292ZXJhZ2UubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5vdmVybGFwcygnZ2VvZ3JhcGhpY19jb3ZlcmFnZScsIGZpbHRlcnMuZ2VvZ3JhcGhpY0NvdmVyYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoJ2NvbXBhbnlfbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogcXVlcnlFcnJvciB9ID0gYXdhaXQgcXVlcnk7XHJcblxyXG4gICAgICBpZiAocXVlcnlFcnJvcikgdGhyb3cgcXVlcnlFcnJvcjtcclxuXHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkTGVuZGVycyA9IChkYXRhIGFzIExlbmRlckRCW10pLm1hcCh0cmFuc2Zvcm1MZW5kZXJGcm9tREIpO1xyXG4gICAgICBzZXRMZW5kZXJzKHRyYW5zZm9ybWVkTGVuZGVycyk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgbGVuZGVyczonLCBlcnIpO1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCBsZW5kZXJzJyk7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgZmV0Y2hMZW5kZXJzKCk7XHJcbiAgfSwgW0pTT04uc3RyaW5naWZ5KGZpbHRlcnMpXSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBsZW5kZXJzLFxyXG4gICAgbG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgcmVmZXRjaDogZmV0Y2hMZW5kZXJzLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFNJTkdMRSBMRU5ERVIgV0lUSCBERVRBSUxTIEhPT0tcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiB1c2VMZW5kZXJEZXRhaWxzKGxlbmRlcklkOiBzdHJpbmcgfCBudWxsKSB7XHJcbiAgY29uc3QgW2xlbmRlciwgc2V0TGVuZGVyXSA9IHVzZVN0YXRlPExlbmRlcldpdGhEZXRhaWxzIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuXHJcbiAgY29uc3QgZmV0Y2hMZW5kZXJEZXRhaWxzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFsZW5kZXJJZCkge1xyXG4gICAgICBzZXRMZW5kZXIobnVsbCk7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgICAvLyBGZXRjaCBsZW5kZXJcclxuICAgICAgY29uc3QgeyBkYXRhOiBsZW5kZXJEYXRhLCBlcnJvcjogbGVuZGVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlbmRlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnaWQnLCBsZW5kZXJJZClcclxuICAgICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgICBpZiAobGVuZGVyRXJyb3IpIHRocm93IGxlbmRlckVycm9yO1xyXG5cclxuICAgICAgLy8gRmV0Y2ggcHJvZ3JhbXNcclxuICAgICAgY29uc3QgeyBkYXRhOiBwcm9ncmFtc0RhdGEsIGVycm9yOiBwcm9ncmFtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdsZW5kZXJfcHJvZ3JhbXMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnbGVuZGVyX2lkJywgbGVuZGVySWQpO1xyXG5cclxuICAgICAgaWYgKHByb2dyYW1zRXJyb3IpIHRocm93IHByb2dyYW1zRXJyb3I7XHJcblxyXG4gICAgICAvLyBGZXRjaCBjb250YWN0c1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGNvbnRhY3RzRGF0YSwgZXJyb3I6IGNvbnRhY3RzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlbmRlcl9jb250YWN0cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmVxKCdsZW5kZXJfaWQnLCBsZW5kZXJJZCk7XHJcblxyXG4gICAgICBpZiAoY29udGFjdHNFcnJvcikgdGhyb3cgY29udGFjdHNFcnJvcjtcclxuXHJcbiAgICAgIC8vIEZldGNoIHBlcmZvcm1hbmNlXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogcGVyZm9ybWFuY2VEYXRhLCBlcnJvcjogcGVyZm9ybWFuY2VFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbGVuZGVyX3BlcmZvcm1hbmNlJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAuZXEoJ2xlbmRlcl9pZCcsIGxlbmRlcklkKVxyXG4gICAgICAgIC5tYXliZVNpbmdsZSgpO1xyXG5cclxuICAgICAgaWYgKHBlcmZvcm1hbmNlRXJyb3IpIHRocm93IHBlcmZvcm1hbmNlRXJyb3I7XHJcblxyXG4gICAgICAvLyBGZXRjaCBjb21tdW5pY2F0aW9uc1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGNvbW11bmljYXRpb25zRGF0YSwgZXJyb3I6IGNvbW11bmljYXRpb25zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xlbmRlcl9jb21tdW5pY2F0aW9ucycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmVxKCdsZW5kZXJfaWQnLCBsZW5kZXJJZClcclxuICAgICAgICAub3JkZXIoJ2RhdGUnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XHJcblxyXG4gICAgICBpZiAoY29tbXVuaWNhdGlvbnNFcnJvcikgdGhyb3cgY29tbXVuaWNhdGlvbnNFcnJvcjtcclxuXHJcbiAgICAgIC8vIFRyYW5zZm9ybSBhbmQgY29tYmluZVxyXG4gICAgICBjb25zdCBsZW5kZXJXaXRoRGV0YWlsczogTGVuZGVyV2l0aERldGFpbHMgPSB7XHJcbiAgICAgICAgLi4udHJhbnNmb3JtTGVuZGVyRnJvbURCKGxlbmRlckRhdGEgYXMgTGVuZGVyREIpLFxyXG4gICAgICAgIHByb2dyYW1zOiAocHJvZ3JhbXNEYXRhIGFzIExlbmRlclByb2dyYW1EQltdKS5tYXAodHJhbnNmb3JtUHJvZ3JhbUZyb21EQiksXHJcbiAgICAgICAgY29udGFjdHM6IChjb250YWN0c0RhdGEgYXMgTGVuZGVyQ29udGFjdERCW10pLm1hcCh0cmFuc2Zvcm1Db250YWN0RnJvbURCKSxcclxuICAgICAgICBwZXJmb3JtYW5jZTogcGVyZm9ybWFuY2VEYXRhID8gdHJhbnNmb3JtUGVyZm9ybWFuY2VGcm9tREIocGVyZm9ybWFuY2VEYXRhIGFzIExlbmRlclBlcmZvcm1hbmNlREIpIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGNvbW11bmljYXRpb25Db3VudDogY29tbXVuaWNhdGlvbnNEYXRhPy5sZW5ndGggfHwgMCxcclxuICAgICAgICBsYXN0Q29tbXVuaWNhdGlvbjogY29tbXVuaWNhdGlvbnNEYXRhPy5bMF0gPyB0cmFuc2Zvcm1Db21tdW5pY2F0aW9uRnJvbURCKGNvbW11bmljYXRpb25zRGF0YVswXSBhcyBMZW5kZXJDb21tdW5pY2F0aW9uREIpIDogdW5kZWZpbmVkLFxyXG4gICAgICB9O1xyXG5cclxuICAgICAgc2V0TGVuZGVyKGxlbmRlcldpdGhEZXRhaWxzKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBsZW5kZXIgZGV0YWlsczonLCBlcnIpO1xyXG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBmZXRjaCBsZW5kZXIgZGV0YWlscycpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGZldGNoTGVuZGVyRGV0YWlscygpO1xyXG4gIH0sIFtsZW5kZXJJZF0pO1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgbGVuZGVyLFxyXG4gICAgbG9hZGluZyxcclxuICAgIGVycm9yLFxyXG4gICAgcmVmZXRjaDogZmV0Y2hMZW5kZXJEZXRhaWxzLFxyXG4gIH07XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENSVUQgT1BFUkFUSU9OU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUxlbmRlcihkYXRhOiBMZW5kZXJGb3JtRGF0YSk6IFByb21pc2U8TGVuZGVyPiB7XHJcbiAgY29uc3QgeyBkYXRhOiBsZW5kZXJEYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdsZW5kZXJzJylcclxuICAgIC5pbnNlcnQoW3RyYW5zZm9ybUxlbmRlclRvREIoZGF0YSldKVxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcblxyXG4gIHJldHVybiB0cmFuc2Zvcm1MZW5kZXJGcm9tREIobGVuZGVyRGF0YSBhcyBMZW5kZXJEQik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVMZW5kZXIoaWQ6IHN0cmluZywgZGF0YTogUGFydGlhbDxMZW5kZXJGb3JtRGF0YT4pOiBQcm9taXNlPExlbmRlcj4ge1xyXG4gIGNvbnN0IHsgZGF0YTogbGVuZGVyRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGVuZGVycycpXHJcbiAgICAudXBkYXRlKHRyYW5zZm9ybUxlbmRlclRvREIoZGF0YSkpXHJcbiAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgcmV0dXJuIHRyYW5zZm9ybUxlbmRlckZyb21EQihsZW5kZXJEYXRhIGFzIExlbmRlckRCKTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUxlbmRlcihpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdsZW5kZXJzJylcclxuICAgIC5kZWxldGUoKVxyXG4gICAgLmVxKCdpZCcsIGlkKTtcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gUFJPR1JBTSBPUEVSQVRJT05TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbShsZW5kZXJJZDogc3RyaW5nLCBkYXRhOiBQcm9ncmFtRm9ybURhdGEpOiBQcm9taXNlPExlbmRlclByb2dyYW0+IHtcclxuICBjb25zdCB7IGRhdGE6IHByb2dyYW1EYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdsZW5kZXJfcHJvZ3JhbXMnKVxyXG4gICAgLmluc2VydChbeyAuLi50cmFuc2Zvcm1Qcm9ncmFtVG9EQihkYXRhKSwgbGVuZGVyX2lkOiBsZW5kZXJJZCB9XSlcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICByZXR1cm4gdHJhbnNmb3JtUHJvZ3JhbUZyb21EQihwcm9ncmFtRGF0YSBhcyBMZW5kZXJQcm9ncmFtREIpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvZ3JhbShpZDogc3RyaW5nLCBkYXRhOiBQYXJ0aWFsPFByb2dyYW1Gb3JtRGF0YT4pOiBQcm9taXNlPExlbmRlclByb2dyYW0+IHtcclxuICBjb25zdCB7IGRhdGE6IHByb2dyYW1EYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdsZW5kZXJfcHJvZ3JhbXMnKVxyXG4gICAgLnVwZGF0ZSh0cmFuc2Zvcm1Qcm9ncmFtVG9EQihkYXRhKSlcclxuICAgIC5lcSgnaWQnLCBpZClcclxuICAgIC5zZWxlY3QoKVxyXG4gICAgLnNpbmdsZSgpO1xyXG5cclxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG5cclxuICByZXR1cm4gdHJhbnNmb3JtUHJvZ3JhbUZyb21EQihwcm9ncmFtRGF0YSBhcyBMZW5kZXJQcm9ncmFtREIpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlUHJvZ3JhbShpZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgIC5mcm9tKCdsZW5kZXJfcHJvZ3JhbXMnKVxyXG4gICAgLmRlbGV0ZSgpXHJcbiAgICAuZXEoJ2lkJywgaWQpO1xyXG5cclxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDT05UQUNUIE9QRVJBVElPTlNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb250YWN0KGxlbmRlcklkOiBzdHJpbmcsIGRhdGE6IENvbnRhY3RGb3JtRGF0YSk6IFByb21pc2U8TGVuZGVyQ29udGFjdD4ge1xyXG4gIGNvbnN0IHsgZGF0YTogY29udGFjdERhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ2xlbmRlcl9jb250YWN0cycpXHJcbiAgICAuaW5zZXJ0KFt7IC4uLnRyYW5zZm9ybUNvbnRhY3RUb0RCKGRhdGEpLCBsZW5kZXJfaWQ6IGxlbmRlcklkIH1dKVxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcblxyXG4gIHJldHVybiB0cmFuc2Zvcm1Db250YWN0RnJvbURCKGNvbnRhY3REYXRhIGFzIExlbmRlckNvbnRhY3REQik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDb250YWN0KGlkOiBzdHJpbmcsIGRhdGE6IFBhcnRpYWw8Q29udGFjdEZvcm1EYXRhPik6IFByb21pc2U8TGVuZGVyQ29udGFjdD4ge1xyXG4gIGNvbnN0IHsgZGF0YTogY29udGFjdERhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ2xlbmRlcl9jb250YWN0cycpXHJcbiAgICAudXBkYXRlKHRyYW5zZm9ybUNvbnRhY3RUb0RCKGRhdGEpKVxyXG4gICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgLnNlbGVjdCgpXHJcbiAgICAuc2luZ2xlKCk7XHJcblxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcblxyXG4gIHJldHVybiB0cmFuc2Zvcm1Db250YWN0RnJvbURCKGNvbnRhY3REYXRhIGFzIExlbmRlckNvbnRhY3REQik7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDb250YWN0KGlkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgLmZyb20oJ2xlbmRlcl9jb250YWN0cycpXHJcbiAgICAuZGVsZXRlKClcclxuICAgIC5lcSgnaWQnLCBpZCk7XHJcblxyXG4gIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIENPTU1VTklDQVRJT04gT1BFUkFUSU9OU1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZUNvbW11bmljYXRpb24obGVuZGVySWQ6IHN0cmluZywgZGF0YTogQ29tbXVuaWNhdGlvbkZvcm1EYXRhKTogUHJvbWlzZTxMZW5kZXJDb21tdW5pY2F0aW9uPiB7XHJcbiAgY29uc3QgeyBkYXRhOiBjb21tRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGVuZGVyX2NvbW11bmljYXRpb25zJylcclxuICAgIC5pbnNlcnQoW3tcclxuICAgICAgbGVuZGVyX2lkOiBsZW5kZXJJZCxcclxuICAgICAgY29udGFjdF9pZDogZGF0YS5jb250YWN0SWQsXHJcbiAgICAgIGNvbW11bmljYXRpb25fdHlwZTogZGF0YS5jb21tdW5pY2F0aW9uVHlwZSxcclxuICAgICAgc3ViamVjdDogZGF0YS5zdWJqZWN0LFxyXG4gICAgICBzdW1tYXJ5OiBkYXRhLnN1bW1hcnksXHJcbiAgICAgIGRhdGU6IGRhdGEuZGF0ZSxcclxuICAgICAgZGlyZWN0aW9uOiBkYXRhLmRpcmVjdGlvbixcclxuICAgICAgb3V0Y29tZTogZGF0YS5vdXRjb21lLFxyXG4gICAgICBmb2xsb3dfdXBfcmVxdWlyZWQ6IGRhdGEuZm9sbG93VXBSZXF1aXJlZCxcclxuICAgICAgZm9sbG93X3VwX2RhdGU6IGRhdGEuZm9sbG93VXBEYXRlLFxyXG4gICAgfV0pXHJcbiAgICAuc2VsZWN0KClcclxuICAgIC5zaW5nbGUoKTtcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxuXHJcbiAgcmV0dXJuIHRyYW5zZm9ybUNvbW11bmljYXRpb25Gcm9tREIoY29tbURhdGEgYXMgTGVuZGVyQ29tbXVuaWNhdGlvbkRCKTtcclxufVxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQlVMSyBPUEVSQVRJT05TXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVsa0RlbGV0ZUxlbmRlcnMoaWRzOiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGVuZGVycycpXHJcbiAgICAuZGVsZXRlKClcclxuICAgIC5pbignaWQnLCBpZHMpO1xyXG5cclxuICBpZiAoZXJyb3IpIHRocm93IGVycm9yO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVsa1VwZGF0ZUxlbmRlclN0YXR1cyhpZHM6IHN0cmluZ1tdLCBzdGF0dXM6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAuZnJvbSgnbGVuZGVycycpXHJcbiAgICAudXBkYXRlKHsgc3RhdHVzIH0pXHJcbiAgICAuaW4oJ2lkJywgaWRzKTtcclxuXHJcbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcclxufVxyXG4iXSwibWFwcGluZ3MiOiJBQUlBLFNBQVMs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