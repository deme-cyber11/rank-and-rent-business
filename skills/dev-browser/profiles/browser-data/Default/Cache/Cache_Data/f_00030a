import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/cold-email/ConversationThread.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=aadb9797"; const Fragment = __vite__cjsImport0_react_jsxDevRuntime["Fragment"]; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
var _s = $RefreshSig$();
import __vite__cjsImport1_react from "/node_modules/.vite/deps/react.js?v=aadb9797"; const useState = __vite__cjsImport1_react["useState"];
import {
  X,
  Mail,
  Building,
  Bot,
  User,
  Clock,
  CheckCircle,
  AlertCircle,
  Send,
  Loader2,
  ChevronDown,
  XCircle,
  Zap
} from "/node_modules/.vite/deps/lucide-react.js?v=aadb9797";
import { useEmailThread } from "/src/hooks/useEmailThread.ts";
const CONVERSATION_STATUSES = [
  { value: "new", label: "New", color: "bg-gray-500/20 text-gray-300 border-gray-500/30" },
  { value: "ai_engaged", label: "AI Engaged", color: "bg-purple-500/20 text-purple-300 border-purple-500/30" },
  { value: "qualifying", label: "Qualifying", color: "bg-blue-500/20 text-blue-300 border-blue-500/30" },
  { value: "handoff_pending", label: "Handoff Pending", color: "bg-yellow-500/20 text-yellow-300 border-yellow-500/30" },
  { value: "broker_engaged", label: "Broker Engaged", color: "bg-cyan-500/20 text-cyan-300 border-cyan-500/30" },
  { value: "closed", label: "Closed", color: "bg-gray-500/20 text-gray-400 border-gray-500/30" }
];
export function ConversationThread({ leadId, isOpen, onClose }) {
  _s();
  const { messages, leadDetails, loading, error, updateConversationStatus } = useEmailThread(isOpen ? leadId : null);
  const [statusDropdownOpen, setStatusDropdownOpen] = useState(false);
  const [replyText, setReplyText] = useState("");
  const [updatingStatus, setUpdatingStatus] = useState(false);
  const formatTime = (dateString) => {
    const date = new Date(dateString);
    return date.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      hour: "numeric",
      minute: "2-digit"
    });
  };
  const getResponseTypeBadge = (type) => {
    switch (type) {
      case "ai":
        return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-purple-500/20 text-purple-300 border border-purple-500/30", children: [
          /* @__PURE__ */ jsxDEV(Bot, { className: "w-3 h-3" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 69,
            columnNumber: 13
          }, this),
          "AI"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 68,
          columnNumber: 11
        }, this);
      case "human":
        return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-blue-500/20 text-blue-300 border border-blue-500/30", children: [
          /* @__PURE__ */ jsxDEV(User, { className: "w-3 h-3" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 76,
            columnNumber: 13
          }, this),
          "Broker"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 75,
          columnNumber: 11
        }, this);
      case "hybrid":
        return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-cyan-500/20 text-cyan-300 border border-cyan-500/30", children: [
          /* @__PURE__ */ jsxDEV(Zap, { className: "w-3 h-3" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 83,
            columnNumber: 13
          }, this),
          "Hybrid"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 82,
          columnNumber: 11
        }, this);
      case "lead_reply":
        return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full bg-green-500/20 text-green-300 border border-green-500/30", children: [
          /* @__PURE__ */ jsxDEV(Mail, { className: "w-3 h-3" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 90,
            columnNumber: 13
          }, this),
          "Reply"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 89,
          columnNumber: 11
        }, this);
      default:
        return null;
    }
  };
  const getQualificationBadge = () => {
    if (!leadDetails) return null;
    if (leadDetails.qualified) {
      return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-green-500/20 text-green-300 border border-green-500/30", children: [
        /* @__PURE__ */ jsxDEV(CheckCircle, { className: "w-3 h-3" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 106,
          columnNumber: 11
        }, this),
        "Qualified",
        leadDetails.qualification_score !== null && /* @__PURE__ */ jsxDEV("span", { className: "ml-1", children: [
          "(",
          leadDetails.qualification_score,
          ")"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 109,
          columnNumber: 11
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 105,
        columnNumber: 9
      }, this);
    }
    if (leadDetails.qualification_score !== null) {
      const score = leadDetails.qualification_score;
      if (score >= 50) {
        return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-yellow-500/20 text-yellow-300 border border-yellow-500/30", children: [
          /* @__PURE__ */ jsxDEV(AlertCircle, { className: "w-3 h-3" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 120,
            columnNumber: 13
          }, this),
          "Maybe (",
          score,
          ")"
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 119,
          columnNumber: 11
        }, this);
      }
      return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-red-500/20 text-red-300 border border-red-500/30", children: [
        /* @__PURE__ */ jsxDEV(XCircle, { className: "w-3 h-3" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 127,
          columnNumber: 11
        }, this),
        "Disqualified (",
        score,
        ")"
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 126,
        columnNumber: 9
      }, this);
    }
    return /* @__PURE__ */ jsxDEV("span", { className: "inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full bg-gray-500/20 text-gray-400 border border-gray-500/30", children: [
      /* @__PURE__ */ jsxDEV(AlertCircle, { className: "w-3 h-3" }, void 0, false, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 135,
        columnNumber: 9
      }, this),
      "Not Scored"
    ] }, void 0, true, {
      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
      lineNumber: 134,
      columnNumber: 7
    }, this);
  };
  const handleStatusChange = async (newStatus) => {
    setUpdatingStatus(true);
    await updateConversationStatus(newStatus);
    setUpdatingStatus(false);
    setStatusDropdownOpen(false);
  };
  const getCurrentStatus = () => {
    return CONVERSATION_STATUSES.find((s) => s.value === leadDetails?.conversation_status) || CONVERSATION_STATUSES[0];
  };
  if (!isOpen) return null;
  return /* @__PURE__ */ jsxDEV("div", { className: "fixed inset-0 z-50 flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm", children: /* @__PURE__ */ jsxDEV("div", { className: "bg-gray-900 border border-gray-700 rounded-xl w-full max-w-2xl max-h-[90vh] flex flex-col shadow-2xl", children: [
    /* @__PURE__ */ jsxDEV("div", { className: "p-5 border-b border-gray-700 bg-gray-800/50 rounded-t-xl", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-start justify-between", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex-1", children: loading && !leadDetails ? /* @__PURE__ */ jsxDEV("div", { className: "animate-pulse", children: [
          /* @__PURE__ */ jsxDEV("div", { className: "h-6 w-48 bg-gray-700 rounded mb-2" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 165,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("div", { className: "h-4 w-64 bg-gray-700 rounded" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 166,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 164,
          columnNumber: 15
        }, this) : leadDetails ? /* @__PURE__ */ jsxDEV(Fragment, { children: [
          /* @__PURE__ */ jsxDEV("h2", { className: "text-xl font-semibold text-white flex items-center gap-3", children: [
            /* @__PURE__ */ jsxDEV(Mail, { className: "w-5 h-5 text-indigo-400" }, void 0, false, {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 171,
              columnNumber: 21
            }, this),
            leadDetails.first_name || leadDetails.last_name ? `${leadDetails.first_name || ""} ${leadDetails.last_name || ""}`.trim() : "Unknown Lead"
          ] }, void 0, true, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 170,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-3 mt-2 text-sm text-gray-400", children: [
            /* @__PURE__ */ jsxDEV("span", { className: "flex items-center gap-1", children: [
              /* @__PURE__ */ jsxDEV(Mail, { className: "w-4 h-4" }, void 0, false, {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 178,
                columnNumber: 23
              }, this),
              leadDetails.email
            ] }, void 0, true, {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 177,
              columnNumber: 21
            }, this),
            leadDetails.company && /* @__PURE__ */ jsxDEV("span", { className: "flex items-center gap-1", children: [
              /* @__PURE__ */ jsxDEV(Building, { className: "w-4 h-4" }, void 0, false, {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 183,
                columnNumber: 25
              }, this),
              leadDetails.company
            ] }, void 0, true, {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 182,
              columnNumber: 19
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 176,
            columnNumber: 19
          }, this),
          /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2 mt-3", children: [
            getQualificationBadge(),
            leadDetails.category && /* @__PURE__ */ jsxDEV(
              "span",
              {
                className: `px-2 py-1 text-xs font-medium rounded-full border ${leadDetails.category === "interested" ? "bg-green-500/20 text-green-300 border-green-500/30" : leadDetails.category === "question" ? "bg-yellow-500/20 text-yellow-300 border-yellow-500/30" : "bg-gray-500/20 text-gray-400 border-gray-500/30"}`,
                children: leadDetails.category.replace(/_/g, " ")
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 191,
                columnNumber: 19
              },
              this
            )
          ] }, void 0, true, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 188,
            columnNumber: 19
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 169,
          columnNumber: 15
        }, this) : null }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 162,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: onClose,
            className: "text-gray-400 hover:text-white transition-colors p-2 hover:bg-gray-700/50 rounded-lg",
            children: /* @__PURE__ */ jsxDEV(X, { className: "w-5 h-5" }, void 0, false, {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 211,
              columnNumber: 15
            }, this)
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 207,
            columnNumber: 13
          },
          this
        )
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 161,
        columnNumber: 11
      }, this),
      leadDetails && /* @__PURE__ */ jsxDEV("div", { className: "mt-4 relative", children: [
        /* @__PURE__ */ jsxDEV(
          "button",
          {
            onClick: () => setStatusDropdownOpen(!statusDropdownOpen),
            disabled: updatingStatus,
            className: `flex items-center gap-2 px-3 py-2 rounded-lg border transition-colors ${getCurrentStatus().color} hover:opacity-80`,
            children: [
              updatingStatus ? /* @__PURE__ */ jsxDEV(Loader2, { className: "w-4 h-4 animate-spin" }, void 0, false, {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 224,
                columnNumber: 15
              }, this) : /* @__PURE__ */ jsxDEV(ChevronDown, { className: `w-4 h-4 transition-transform ${statusDropdownOpen ? "rotate-180" : ""}` }, void 0, false, {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 226,
                columnNumber: 15
              }, this),
              /* @__PURE__ */ jsxDEV("span", { className: "text-sm font-medium", children: getCurrentStatus().label }, void 0, false, {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 228,
                columnNumber: 17
              }, this)
            ]
          },
          void 0,
          true,
          {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 218,
            columnNumber: 15
          },
          this
        ),
        statusDropdownOpen && /* @__PURE__ */ jsxDEV("div", { className: "absolute top-full left-0 mt-2 w-48 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-10 overflow-hidden", children: CONVERSATION_STATUSES.map(
          (status) => /* @__PURE__ */ jsxDEV(
            "button",
            {
              onClick: () => handleStatusChange(status.value),
              className: `w-full px-4 py-2 text-left text-sm hover:bg-gray-700/50 transition-colors ${leadDetails.conversation_status === status.value ? "bg-gray-700/30 text-white" : "text-gray-300"}`,
              children: status.label
            },
            status.value,
            false,
            {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 234,
              columnNumber: 15
            },
            this
          )
        ) }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 232,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 217,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
      lineNumber: 160,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "flex-1 overflow-y-auto p-5 space-y-4 min-h-[300px]", children: [
      loading && /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-center py-12", children: /* @__PURE__ */ jsxDEV(Loader2, { className: "w-8 h-8 text-indigo-400 animate-spin" }, void 0, false, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 257,
        columnNumber: 15
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 256,
        columnNumber: 11
      }, this),
      error && /* @__PURE__ */ jsxDEV("div", { className: "bg-red-500/20 border border-red-500/30 rounded-lg p-4 flex items-start gap-3", children: [
        /* @__PURE__ */ jsxDEV(AlertCircle, { className: "w-5 h-5 text-red-400 mt-0.5 flex-shrink-0" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 264,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("h3", { className: "text-red-400 font-medium", children: "Error" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 266,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-red-300/80 text-sm", children: error }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 267,
            columnNumber: 17
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 265,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 263,
        columnNumber: 11
      }, this),
      !loading && !error && messages.length === 0 && /* @__PURE__ */ jsxDEV("div", { className: "text-center py-12", children: [
        /* @__PURE__ */ jsxDEV(Mail, { className: "w-12 h-12 text-gray-600 mx-auto mb-3" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 275,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-medium text-gray-400 mb-1", children: "No messages yet" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 276,
          columnNumber: 15
        }, this),
        /* @__PURE__ */ jsxDEV("p", { className: "text-gray-500 text-sm max-w-md mx-auto", children: "When the lead replies or AI/broker responds, messages will appear here." }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 277,
          columnNumber: 15
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 274,
        columnNumber: 11
      }, this),
      !loading && !error && messages.map(
        (message) => /* @__PURE__ */ jsxDEV(
          "div",
          {
            className: `flex ${message.direction === "outbound" ? "justify-end" : "justify-start"}`,
            children: /* @__PURE__ */ jsxDEV(
              "div",
              {
                className: `max-w-[80%] ${message.direction === "outbound" ? "bg-indigo-600/20 border-indigo-500/30" : "bg-gray-800/50 border-gray-700/50"} border rounded-lg p-4`,
                children: [
                  /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between gap-3 mb-2", children: [
                    /* @__PURE__ */ jsxDEV("span", { className: "text-sm font-medium text-white", children: message.sender_name }, void 0, false, {
                      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                      lineNumber: 300,
                      columnNumber: 21
                    }, this),
                    getResponseTypeBadge(message.response_type)
                  ] }, void 0, true, {
                    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                    lineNumber: 299,
                    columnNumber: 19
                  }, this),
                  message.subject && /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-gray-400 mb-2", children: [
                    /* @__PURE__ */ jsxDEV("span", { className: "font-medium", children: "Subject:" }, void 0, false, {
                      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                      lineNumber: 307,
                      columnNumber: 23
                    }, this),
                    " ",
                    message.subject
                  ] }, void 0, true, {
                    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                    lineNumber: 306,
                    columnNumber: 15
                  }, this),
                  /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-gray-300 whitespace-pre-wrap", children: message.content }, void 0, false, {
                    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                    lineNumber: 312,
                    columnNumber: 19
                  }, this),
                  /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between mt-3 pt-2 border-t border-gray-700/30", children: [
                    /* @__PURE__ */ jsxDEV("span", { className: "text-xs text-gray-500 flex items-center gap-1", children: [
                      /* @__PURE__ */ jsxDEV(Clock, { className: "w-3 h-3" }, void 0, false, {
                        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                        lineNumber: 317,
                        columnNumber: 23
                      }, this),
                      formatTime(message.sent_at)
                    ] }, void 0, true, {
                      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                      lineNumber: 316,
                      columnNumber: 21
                    }, this),
                    message.direction === "outbound" && message.instantly_send_status && /* @__PURE__ */ jsxDEV(
                      "span",
                      {
                        className: `text-xs px-2 py-0.5 rounded ${message.instantly_send_status === "sent" ? "bg-green-500/20 text-green-400" : message.instantly_send_status === "pending" ? "bg-yellow-500/20 text-yellow-400" : message.instantly_send_status === "failed" ? "bg-red-500/20 text-red-400" : "bg-gray-500/20 text-gray-400"}`,
                        children: message.instantly_send_status
                      },
                      void 0,
                      false,
                      {
                        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                        lineNumber: 321,
                        columnNumber: 17
                      },
                      this
                    )
                  ] }, void 0, true, {
                    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                    lineNumber: 315,
                    columnNumber: 19
                  }, this)
                ]
              },
              void 0,
              true,
              {
                fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                lineNumber: 291,
                columnNumber: 17
              },
              this
            )
          },
          message.id,
          false,
          {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 287,
            columnNumber: 11
          },
          this
        )
      )
    ] }, void 0, true, {
      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
      lineNumber: 253,
      columnNumber: 9
    }, this),
    /* @__PURE__ */ jsxDEV("div", { className: "p-4 border-t border-gray-700 bg-gray-800/30 rounded-b-xl", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex gap-3", children: [
        /* @__PURE__ */ jsxDEV(
          "textarea",
          {
            value: replyText,
            onChange: (e) => setReplyText(e.target.value),
            placeholder: "Type your reply...",
            className: "flex-1 px-4 py-3 bg-gray-900/50 border border-gray-700 rounded-lg text-white placeholder-gray-500 resize-none focus:outline-none focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500/50",
            rows: 2,
            disabled: true
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 344,
            columnNumber: 13
          },
          this
        ),
        /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col gap-2", children: [
          /* @__PURE__ */ jsxDEV(
            "button",
            {
              disabled: true,
              className: "px-4 py-2 bg-gray-600 text-gray-400 rounded-lg cursor-not-allowed flex items-center gap-2 opacity-50",
              title: "Email integration coming soon",
              children: [
                /* @__PURE__ */ jsxDEV(Send, { className: "w-4 h-4" }, void 0, false, {
                  fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
                  lineNumber: 358,
                  columnNumber: 17
                }, this),
                "Send"
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
              lineNumber: 353,
              columnNumber: 15
            },
            this
          ),
          /* @__PURE__ */ jsxDEV("span", { className: "text-xs text-gray-500 text-center", children: "Coming soon" }, void 0, false, {
            fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
            lineNumber: 361,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 352,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 343,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("p", { className: "text-xs text-gray-500 mt-2 flex items-center gap-1", children: [
        /* @__PURE__ */ jsxDEV(AlertCircle, { className: "w-3 h-3" }, void 0, false, {
          fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
          lineNumber: 365,
          columnNumber: 13
        }, this),
        "Email sending will be enabled once Instantly.ai integration is complete"
      ] }, void 0, true, {
        fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
        lineNumber: 364,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
      lineNumber: 342,
      columnNumber: 9
    }, this)
  ] }, void 0, true, {
    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
    lineNumber: 158,
    columnNumber: 7
  }, this) }, void 0, false, {
    fileName: "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx",
    lineNumber: 157,
    columnNumber: 5
  }, this);
}
_s(ConversationThread, "MZtOMrSlOBSsOpl0c3pPvC6216A=", false, function() {
  return [useEmailThread];
});
_c = ConversationThread;
var _c;
$RefreshReg$(_c, "ConversationThread");
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}
function $RefreshReg$(type, id) {
  return RefreshRuntime.register(type, "C:/Projects/Huge Capital/huge-capital-mgmt/src/components/cold-email/ConversationThread.tsx " + id);
}
function $RefreshSig$() {
  return RefreshRuntime.createSignatureFunctionForTransform();
}

//# sourceMappingURL=data:application/json;base64,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QUFBQTtBQUFBLGFBR0E7QUFBQSxTQXpCRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBMEJBO0FBQUEsT0FsTkY7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQW1OQSxLQXBORjtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBcU5BO0FBRUo7QUFBQ08sR0F0VWVKLG9CQUFrQjtBQUFBLFVBQzRDTCxjQUFjO0FBQUE7QUFBQStELEtBRDVFMUQ7QUFBa0IsSUFBQTBEO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsIlgiLCJNYWlsIiwiQnVpbGRpbmciLCJCb3QiLCJVc2VyIiwiQ2xvY2siLCJDaGVja0NpcmNsZSIsIkFsZXJ0Q2lyY2xlIiwiU2VuZCIsIkxvYWRlcjIiLCJDaGV2cm9uRG93biIsIlhDaXJjbGUiLCJaYXAiLCJ1c2VFbWFpbFRocmVhZCIsIkNPTlZFUlNBVElPTl9TVEFUVVNFUyIsInZhbHVlIiwibGFiZWwiLCJjb2xvciIsIkNvbnZlcnNhdGlvblRocmVhZCIsImxlYWRJZCIsImlzT3BlbiIsIm9uQ2xvc2UiLCJfcyIsIm1lc3NhZ2VzIiwibGVhZERldGFpbHMiLCJsb2FkaW5nIiwiZXJyb3IiLCJ1cGRhdGVDb252ZXJzYXRpb25TdGF0dXMiLCJzdGF0dXNEcm9wZG93bk9wZW4iLCJzZXRTdGF0dXNEcm9wZG93bk9wZW4iLCJyZXBseVRleHQiLCJzZXRSZXBseVRleHQiLCJ1cGRhdGluZ1N0YXR1cyIsInNldFVwZGF0aW5nU3RhdHVzIiwiZm9ybWF0VGltZSIsImRhdGVTdHJpbmciLCJkYXRlIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImdldFJlc3BvbnNlVHlwZUJhZGdlIiwidHlwZSIsImdldFF1YWxpZmljYXRpb25CYWRnZSIsInF1YWxpZmllZCIsInF1YWxpZmljYXRpb25fc2NvcmUiLCJzY29yZSIsImhhbmRsZVN0YXR1c0NoYW5nZSIsIm5ld1N0YXR1cyIsImdldEN1cnJlbnRTdGF0dXMiLCJmaW5kIiwicyIsImNvbnZlcnNhdGlvbl9zdGF0dXMiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwidHJpbSIsImVtYWlsIiwiY29tcGFueSIsImNhdGVnb3J5IiwicmVwbGFjZSIsIm1hcCIsInN0YXR1cyIsImxlbmd0aCIsIm1lc3NhZ2UiLCJkaXJlY3Rpb24iLCJzZW5kZXJfbmFtZSIsInJlc3BvbnNlX3R5cGUiLCJzdWJqZWN0IiwiY29udGVudCIsInNlbnRfYXQiLCJpbnN0YW50bHlfc2VuZF9zdGF0dXMiLCJpZCIsImUiLCJ0YXJnZXQiLCJfYyIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJDb252ZXJzYXRpb25UaHJlYWQudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBDb252ZXJzYXRpb25UaHJlYWQgLSBNb2RhbC9TaGVldCBmb3Igdmlld2luZyBlbWFpbCBjb252ZXJzYXRpb24gaGlzdG9yeSB3aXRoIGEgbGVhZFxyXG4gKlxyXG4gKiBEaXNwbGF5czpcclxuICogLSBMZWFkIGhlYWRlciB3aXRoIG5hbWUsIGVtYWlsLCBjb21wYW55LCBxdWFsaWZpY2F0aW9uIGJhZGdlXHJcbiAqIC0gQ2hhdC1zdHlsZSB0aHJlYWQgZGlzcGxheSAoaW5ib3VuZCBvbiBsZWZ0LCBvdXRib3VuZCBvbiByaWdodClcclxuICogLSBSZXNwb25zZSB0eXBlIGJhZGdlcyAoQUksIGh1bWFuLCBoeWJyaWQpXHJcbiAqIC0gQ29udmVyc2F0aW9uIHN0YXR1cyBzZWxlY3RvclxyXG4gKiAtIFJlcGx5IGNvbXBvc2VyIChVSSBvbmx5LCBkaXNhYmxlZCB1bnRpbCBlbWFpbCBpbnRlZ3JhdGlvbilcclxuICovXHJcblxyXG5pbXBvcnQgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHtcclxuICBYLFxyXG4gIE1haWwsXHJcbiAgQnVpbGRpbmcsXHJcbiAgQm90LFxyXG4gIFVzZXIsXHJcbiAgQ2xvY2ssXHJcbiAgQ2hlY2tDaXJjbGUsXHJcbiAgQWxlcnRDaXJjbGUsXHJcbiAgU2VuZCxcclxuICBMb2FkZXIyLFxyXG4gIENoZXZyb25Eb3duLFxyXG4gIFhDaXJjbGUsXHJcbiAgWmFwLFxyXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCB7IHVzZUVtYWlsVGhyZWFkLCB0eXBlIEVtYWlsTWVzc2FnZSB9IGZyb20gJy4uLy4uL2hvb2tzL3VzZUVtYWlsVGhyZWFkJztcclxuXHJcbmludGVyZmFjZSBDb252ZXJzYXRpb25UaHJlYWRQcm9wcyB7XHJcbiAgbGVhZElkOiBzdHJpbmc7XHJcbiAgaXNPcGVuOiBib29sZWFuO1xyXG4gIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbi8vIENvbnZlcnNhdGlvbiBzdGF0dXMgb3B0aW9uc1xyXG5jb25zdCBDT05WRVJTQVRJT05fU1RBVFVTRVMgPSBbXHJcbiAgeyB2YWx1ZTogJ25ldycsIGxhYmVsOiAnTmV3JywgY29sb3I6ICdiZy1ncmF5LTUwMC8yMCB0ZXh0LWdyYXktMzAwIGJvcmRlci1ncmF5LTUwMC8zMCcgfSxcclxuICB7IHZhbHVlOiAnYWlfZW5nYWdlZCcsIGxhYmVsOiAnQUkgRW5nYWdlZCcsIGNvbG9yOiAnYmctcHVycGxlLTUwMC8yMCB0ZXh0LXB1cnBsZS0zMDAgYm9yZGVyLXB1cnBsZS01MDAvMzAnIH0sXHJcbiAgeyB2YWx1ZTogJ3F1YWxpZnlpbmcnLCBsYWJlbDogJ1F1YWxpZnlpbmcnLCBjb2xvcjogJ2JnLWJsdWUtNTAwLzIwIHRleHQtYmx1ZS0zMDAgYm9yZGVyLWJsdWUtNTAwLzMwJyB9LFxyXG4gIHsgdmFsdWU6ICdoYW5kb2ZmX3BlbmRpbmcnLCBsYWJlbDogJ0hhbmRvZmYgUGVuZGluZycsIGNvbG9yOiAnYmcteWVsbG93LTUwMC8yMCB0ZXh0LXllbGxvdy0zMDAgYm9yZGVyLXllbGxvdy01MDAvMzAnIH0sXHJcbiAgeyB2YWx1ZTogJ2Jyb2tlcl9lbmdhZ2VkJywgbGFiZWw6ICdCcm9rZXIgRW5nYWdlZCcsIGNvbG9yOiAnYmctY3lhbi01MDAvMjAgdGV4dC1jeWFuLTMwMCBib3JkZXItY3lhbi01MDAvMzAnIH0sXHJcbiAgeyB2YWx1ZTogJ2Nsb3NlZCcsIGxhYmVsOiAnQ2xvc2VkJywgY29sb3I6ICdiZy1ncmF5LTUwMC8yMCB0ZXh0LWdyYXktNDAwIGJvcmRlci1ncmF5LTUwMC8zMCcgfSxcclxuXSBhcyBjb25zdDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDb252ZXJzYXRpb25UaHJlYWQoeyBsZWFkSWQsIGlzT3Blbiwgb25DbG9zZSB9OiBDb252ZXJzYXRpb25UaHJlYWRQcm9wcykge1xyXG4gIGNvbnN0IHsgbWVzc2FnZXMsIGxlYWREZXRhaWxzLCBsb2FkaW5nLCBlcnJvciwgdXBkYXRlQ29udmVyc2F0aW9uU3RhdHVzIH0gPSB1c2VFbWFpbFRocmVhZChpc09wZW4gPyBsZWFkSWQgOiBudWxsKTtcclxuICBjb25zdCBbc3RhdHVzRHJvcGRvd25PcGVuLCBzZXRTdGF0dXNEcm9wZG93bk9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIGNvbnN0IFtyZXBseVRleHQsIHNldFJlcGx5VGV4dF0gPSB1c2VTdGF0ZSgnJyk7XHJcbiAgY29uc3QgW3VwZGF0aW5nU3RhdHVzLCBzZXRVcGRhdGluZ1N0YXR1c10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcblxyXG4gIC8vIEZvcm1hdCB0aW1lc3RhbXBcclxuICBjb25zdCBmb3JtYXRUaW1lID0gKGRhdGVTdHJpbmc6IHN0cmluZykgPT4ge1xyXG4gICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xyXG4gICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcclxuICAgICAgbW9udGg6ICdzaG9ydCcsXHJcbiAgICAgIGRheTogJ251bWVyaWMnLFxyXG4gICAgICBob3VyOiAnbnVtZXJpYycsXHJcbiAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgLy8gR2V0IHJlc3BvbnNlIHR5cGUgYmFkZ2VcclxuICBjb25zdCBnZXRSZXNwb25zZVR5cGVCYWRnZSA9ICh0eXBlOiBFbWFpbE1lc3NhZ2VbJ3Jlc3BvbnNlX3R5cGUnXSkgPT4ge1xyXG4gICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ2FpJzpcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLXB1cnBsZS01MDAvMjAgdGV4dC1wdXJwbGUtMzAwIGJvcmRlciBib3JkZXItcHVycGxlLTUwMC8zMFwiPlxyXG4gICAgICAgICAgICA8Qm90IGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxyXG4gICAgICAgICAgICBBSVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICk7XHJcbiAgICAgIGNhc2UgJ2h1bWFuJzpcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLWJsdWUtNTAwLzIwIHRleHQtYmx1ZS0zMDAgYm9yZGVyIGJvcmRlci1ibHVlLTUwMC8zMFwiPlxyXG4gICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cclxuICAgICAgICAgICAgQnJva2VyXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgKTtcclxuICAgICAgY2FzZSAnaHlicmlkJzpcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLWN5YW4tNTAwLzIwIHRleHQtY3lhbi0zMDAgYm9yZGVyIGJvcmRlci1jeWFuLTUwMC8zMFwiPlxyXG4gICAgICAgICAgICA8WmFwIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxyXG4gICAgICAgICAgICBIeWJyaWRcclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICApO1xyXG4gICAgICBjYXNlICdsZWFkX3JlcGx5JzpcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMC41IHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLWdyZWVuLTUwMC8yMCB0ZXh0LWdyZWVuLTMwMCBib3JkZXIgYm9yZGVyLWdyZWVuLTUwMC8zMFwiPlxyXG4gICAgICAgICAgICA8TWFpbCBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cclxuICAgICAgICAgICAgUmVwbHlcclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICApO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIEdldCBxdWFsaWZpY2F0aW9uIGJhZGdlXHJcbiAgY29uc3QgZ2V0UXVhbGlmaWNhdGlvbkJhZGdlID0gKCkgPT4ge1xyXG4gICAgaWYgKCFsZWFkRGV0YWlscykgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgaWYgKGxlYWREZXRhaWxzLnF1YWxpZmllZCkge1xyXG4gICAgICByZXR1cm4gKFxyXG4gICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMSBweC0yIHB5LTEgdGV4dC14cyBmb250LW1lZGl1bSByb3VuZGVkLWZ1bGwgYmctZ3JlZW4tNTAwLzIwIHRleHQtZ3JlZW4tMzAwIGJvcmRlciBib3JkZXItZ3JlZW4tNTAwLzMwXCI+XHJcbiAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XHJcbiAgICAgICAgICBRdWFsaWZpZWRcclxuICAgICAgICAgIHtsZWFkRGV0YWlscy5xdWFsaWZpY2F0aW9uX3Njb3JlICE9PSBudWxsICYmIChcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMVwiPih7bGVhZERldGFpbHMucXVhbGlmaWNhdGlvbl9zY29yZX0pPC9zcGFuPlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L3NwYW4+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGxlYWREZXRhaWxzLnF1YWxpZmljYXRpb25fc2NvcmUgIT09IG51bGwpIHtcclxuICAgICAgY29uc3Qgc2NvcmUgPSBsZWFkRGV0YWlscy5xdWFsaWZpY2F0aW9uX3Njb3JlO1xyXG4gICAgICBpZiAoc2NvcmUgPj0gNTApIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBiZy15ZWxsb3ctNTAwLzIwIHRleHQteWVsbG93LTMwMCBib3JkZXIgYm9yZGVyLXllbGxvdy01MDAvMzBcIj5cclxuICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxyXG4gICAgICAgICAgICBNYXliZSAoe3Njb3JlfSlcclxuICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICApO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiAoXHJcbiAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5saW5lLWZsZXggaXRlbXMtY2VudGVyIGdhcC0xIHB4LTIgcHktMSB0ZXh0LXhzIGZvbnQtbWVkaXVtIHJvdW5kZWQtZnVsbCBiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTMwMCBib3JkZXIgYm9yZGVyLXJlZC01MDAvMzBcIj5cclxuICAgICAgICAgIDxYQ2lyY2xlIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxyXG4gICAgICAgICAgRGlzcXVhbGlmaWVkICh7c2NvcmV9KVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTEgcHgtMiBweS0xIHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJnLWdyYXktNTAwLzIwIHRleHQtZ3JheS00MDAgYm9yZGVyIGJvcmRlci1ncmF5LTUwMC8zMFwiPlxyXG4gICAgICAgIDxBbGVydENpcmNsZSBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cclxuICAgICAgICBOb3QgU2NvcmVkXHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIHN0YXR1cyBjaGFuZ2VcclxuICBjb25zdCBoYW5kbGVTdGF0dXNDaGFuZ2UgPSBhc3luYyAobmV3U3RhdHVzOiBzdHJpbmcpID0+IHtcclxuICAgIHNldFVwZGF0aW5nU3RhdHVzKHRydWUpO1xyXG4gICAgYXdhaXQgdXBkYXRlQ29udmVyc2F0aW9uU3RhdHVzKG5ld1N0YXR1cyk7XHJcbiAgICBzZXRVcGRhdGluZ1N0YXR1cyhmYWxzZSk7XHJcbiAgICBzZXRTdGF0dXNEcm9wZG93bk9wZW4oZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIC8vIEdldCBjdXJyZW50IHN0YXR1cyBpbmZvXHJcbiAgY29uc3QgZ2V0Q3VycmVudFN0YXR1cyA9ICgpID0+IHtcclxuICAgIHJldHVybiBDT05WRVJTQVRJT05fU1RBVFVTRVMuZmluZCgocykgPT4gcy52YWx1ZSA9PT0gbGVhZERldGFpbHM/LmNvbnZlcnNhdGlvbl9zdGF0dXMpIHx8IENPTlZFUlNBVElPTl9TVEFUVVNFU1swXTtcclxuICB9O1xyXG5cclxuICBpZiAoIWlzT3BlbikgcmV0dXJuIG51bGw7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweC00IGJnLWJsYWNrLzgwIGJhY2tkcm9wLWJsdXItc21cIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQteGwgdy1mdWxsIG1heC13LTJ4bCBtYXgtaC1bOTB2aF0gZmxleCBmbGV4LWNvbCBzaGFkb3ctMnhsXCI+XHJcbiAgICAgICAgey8qIEhlYWRlciAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNSBib3JkZXItYiBib3JkZXItZ3JheS03MDAgYmctZ3JheS04MDAvNTAgcm91bmRlZC10LXhsXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XHJcbiAgICAgICAgICAgICAge2xvYWRpbmcgJiYgIWxlYWREZXRhaWxzID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC02IHctNDggYmctZ3JheS03MDAgcm91bmRlZCBtYi0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLTQgdy02NCBiZy1ncmF5LTcwMCByb3VuZGVkXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICkgOiBsZWFkRGV0YWlscyA/IChcclxuICAgICAgICAgICAgICAgIDw+XHJcbiAgICAgICAgICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC13aGl0ZSBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1pbmRpZ28tNDAwXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICB7bGVhZERldGFpbHMuZmlyc3RfbmFtZSB8fCBsZWFkRGV0YWlscy5sYXN0X25hbWVcclxuICAgICAgICAgICAgICAgICAgICAgID8gYCR7bGVhZERldGFpbHMuZmlyc3RfbmFtZSB8fCAnJ30gJHtsZWFkRGV0YWlscy5sYXN0X25hbWUgfHwgJyd9YC50cmltKClcclxuICAgICAgICAgICAgICAgICAgICAgIDogJ1Vua25vd24gTGVhZCd9XHJcbiAgICAgICAgICAgICAgICAgIDwvaDI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbXQtMiB0ZXh0LXNtIHRleHQtZ3JheS00MDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPE1haWwgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7bGVhZERldGFpbHMuZW1haWx9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIHtsZWFkRGV0YWlscy5jb21wYW55ICYmIChcclxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdWlsZGluZyBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAge2xlYWREZXRhaWxzLmNvbXBhbnl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgbXQtM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtnZXRRdWFsaWZpY2F0aW9uQmFkZ2UoKX1cclxuICAgICAgICAgICAgICAgICAgICB7bGVhZERldGFpbHMuY2F0ZWdvcnkgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtMiBweS0xIHRleHQteHMgZm9udC1tZWRpdW0gcm91bmRlZC1mdWxsIGJvcmRlciAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGxlYWREZXRhaWxzLmNhdGVnb3J5ID09PSAnaW50ZXJlc3RlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyZWVuLTUwMC8yMCB0ZXh0LWdyZWVuLTMwMCBib3JkZXItZ3JlZW4tNTAwLzMwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBsZWFkRGV0YWlscy5jYXRlZ29yeSA9PT0gJ3F1ZXN0aW9uJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmcteWVsbG93LTUwMC8yMCB0ZXh0LXllbGxvdy0zMDAgYm9yZGVyLXllbGxvdy01MDAvMzAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTUwMC8yMCB0ZXh0LWdyYXktNDAwIGJvcmRlci1ncmF5LTUwMC8zMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWB9XHJcbiAgICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtsZWFkRGV0YWlscy5jYXRlZ29yeS5yZXBsYWNlKC9fL2csICcgJyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICApIDogbnVsbH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICBvbkNsaWNrPXtvbkNsb3NlfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC13aGl0ZSB0cmFuc2l0aW9uLWNvbG9ycyBwLTIgaG92ZXI6YmctZ3JheS03MDAvNTAgcm91bmRlZC1sZ1wiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8WCBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICB7LyogQ29udmVyc2F0aW9uIFN0YXR1cyBTZWxlY3RvciAqL31cclxuICAgICAgICAgIHtsZWFkRGV0YWlscyAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCByZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFN0YXR1c0Ryb3Bkb3duT3Blbighc3RhdHVzRHJvcGRvd25PcGVuKX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXt1cGRhdGluZ1N0YXR1c31cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTMgcHktMiByb3VuZGVkLWxnIGJvcmRlciB0cmFuc2l0aW9uLWNvbG9ycyAke2dldEN1cnJlbnRTdGF0dXMoKS5jb2xvcn0gaG92ZXI6b3BhY2l0eS04MGB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAge3VwZGF0aW5nU3RhdHVzID8gKFxyXG4gICAgICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTQgaC00IGFuaW1hdGUtc3BpblwiIC8+XHJcbiAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICA8Q2hldnJvbkRvd24gY2xhc3NOYW1lPXtgdy00IGgtNCB0cmFuc2l0aW9uLXRyYW5zZm9ybSAke3N0YXR1c0Ryb3Bkb3duT3BlbiA/ICdyb3RhdGUtMTgwJyA6ICcnfWB9IC8+XHJcbiAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPntnZXRDdXJyZW50U3RhdHVzKCkubGFiZWx9PC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgICB7c3RhdHVzRHJvcGRvd25PcGVuICYmIChcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdG9wLWZ1bGwgbGVmdC0wIG10LTIgdy00OCBiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LXhsIHotMTAgb3ZlcmZsb3ctaGlkZGVuXCI+XHJcbiAgICAgICAgICAgICAgICAgIHtDT05WRVJTQVRJT05fU1RBVFVTRVMubWFwKChzdGF0dXMpID0+IChcclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3N0YXR1cy52YWx1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVN0YXR1c0NoYW5nZShzdGF0dXMudmFsdWUpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIHB4LTQgcHktMiB0ZXh0LWxlZnQgdGV4dC1zbSBob3ZlcjpiZy1ncmF5LTcwMC81MCB0cmFuc2l0aW9uLWNvbG9ycyAke1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWFkRGV0YWlscy5jb252ZXJzYXRpb25fc3RhdHVzID09PSBzdGF0dXMudmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTcwMC8zMCB0ZXh0LXdoaXRlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS0zMDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7c3RhdHVzLmxhYmVsfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIE1lc3NhZ2VzIEFyZWEgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNSBzcGFjZS15LTQgbWluLWgtWzMwMHB4XVwiPlxyXG4gICAgICAgICAgey8qIExvYWRpbmcgU3RhdGUgKi99XHJcbiAgICAgICAgICB7bG9hZGluZyAmJiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktMTJcIj5cclxuICAgICAgICAgICAgICA8TG9hZGVyMiBjbGFzc05hbWU9XCJ3LTggaC04IHRleHQtaW5kaWdvLTQwMCBhbmltYXRlLXNwaW5cIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgey8qIEVycm9yIFN0YXRlICovfVxyXG4gICAgICAgICAge2Vycm9yICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1yZWQtNTAwLzIwIGJvcmRlciBib3JkZXItcmVkLTUwMC8zMCByb3VuZGVkLWxnIHAtNCBmbGV4IGl0ZW1zLXN0YXJ0IGdhcC0zXCI+XHJcbiAgICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1yZWQtNDAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cclxuICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtcmVkLTQwMCBmb250LW1lZGl1bVwiPkVycm9yPC9oMz5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtcmVkLTMwMC84MCB0ZXh0LXNtXCI+e2Vycm9yfTwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHsvKiBFbXB0eSBTdGF0ZSAqL31cclxuICAgICAgICAgIHshbG9hZGluZyAmJiAhZXJyb3IgJiYgbWVzc2FnZXMubGVuZ3RoID09PSAwICYmIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS0xMlwiPlxyXG4gICAgICAgICAgICAgIDxNYWlsIGNsYXNzTmFtZT1cInctMTIgaC0xMiB0ZXh0LWdyYXktNjAwIG14LWF1dG8gbWItM1wiIC8+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTQwMCBtYi0xXCI+Tm8gbWVzc2FnZXMgeWV0PC9oMz5cclxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIHRleHQtc20gbWF4LXctbWQgbXgtYXV0b1wiPlxyXG4gICAgICAgICAgICAgICAgV2hlbiB0aGUgbGVhZCByZXBsaWVzIG9yIEFJL2Jyb2tlciByZXNwb25kcywgbWVzc2FnZXMgd2lsbCBhcHBlYXIgaGVyZS5cclxuICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgKX1cclxuXHJcbiAgICAgICAgICB7LyogTWVzc2FnZXMgVGhyZWFkICovfVxyXG4gICAgICAgICAgeyFsb2FkaW5nICYmXHJcbiAgICAgICAgICAgICFlcnJvciAmJlxyXG4gICAgICAgICAgICBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcclxuICAgICAgICAgICAgICA8ZGl2XHJcbiAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5kaXJlY3Rpb24gPT09ICdvdXRib3VuZCcgPyAnanVzdGlmeS1lbmQnIDogJ2p1c3RpZnktc3RhcnQnfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPGRpdlxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BtYXgtdy1bODAlXSAke1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UuZGlyZWN0aW9uID09PSAnb3V0Ym91bmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1pbmRpZ28tNjAwLzIwIGJvcmRlci1pbmRpZ28tNTAwLzMwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS04MDAvNTAgYm9yZGVyLWdyYXktNzAwLzUwJ1xyXG4gICAgICAgICAgICAgICAgICB9IGJvcmRlciByb3VuZGVkLWxnIHAtNGB9XHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIHsvKiBNZXNzYWdlIEhlYWRlciAqL31cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gZ2FwLTMgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC13aGl0ZVwiPnttZXNzYWdlLnNlbmRlcl9uYW1lfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7Z2V0UmVzcG9uc2VUeXBlQmFkZ2UobWVzc2FnZS5yZXNwb25zZV90eXBlKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogU3ViamVjdCBpZiBwcmVzZW50ICovfVxyXG4gICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zdWJqZWN0ICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS00MDAgbWItMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5TdWJqZWN0Ojwvc3Bhbj4ge21lc3NhZ2Uuc3ViamVjdH1cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcblxyXG4gICAgICAgICAgICAgICAgICB7LyogTWVzc2FnZSBDb250ZW50ICovfVxyXG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS0zMDAgd2hpdGVzcGFjZS1wcmUtd3JhcFwiPnttZXNzYWdlLmNvbnRlbnR9PC9wPlxyXG5cclxuICAgICAgICAgICAgICAgICAgey8qIFRpbWVzdGFtcCBhbmQgU3RhdHVzICovfVxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtdC0zIHB0LTIgYm9yZGVyLXQgYm9yZGVyLWdyYXktNzAwLzMwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGZsZXggaXRlbXMtY2VudGVyIGdhcC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0VGltZShtZXNzYWdlLnNlbnRfYXQpfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5kaXJlY3Rpb24gPT09ICdvdXRib3VuZCcgJiYgbWVzc2FnZS5pbnN0YW50bHlfc2VuZF9zdGF0dXMgJiYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyBweC0yIHB5LTAuNSByb3VuZGVkICR7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5pbnN0YW50bHlfc2VuZF9zdGF0dXMgPT09ICdzZW50J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tNTAwLzIwIHRleHQtZ3JlZW4tNDAwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBtZXNzYWdlLmluc3RhbnRseV9zZW5kX3N0YXR1cyA9PT0gJ3BlbmRpbmcnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy15ZWxsb3ctNTAwLzIwIHRleHQteWVsbG93LTQwMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogbWVzc2FnZS5pbnN0YW50bHlfc2VuZF9zdGF0dXMgPT09ICdmYWlsZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTQwMCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktNTAwLzIwIHRleHQtZ3JheS00MDAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pbnN0YW50bHlfc2VuZF9zdGF0dXN9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIHsvKiBSZXBseSBDb21wb3NlciAqL31cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBib3JkZXItdCBib3JkZXItZ3JheS03MDAgYmctZ3JheS04MDAvMzAgcm91bmRlZC1iLXhsXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTNcIj5cclxuICAgICAgICAgICAgPHRleHRhcmVhXHJcbiAgICAgICAgICAgICAgdmFsdWU9e3JlcGx5VGV4dH1cclxuICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFJlcGx5VGV4dChlLnRhcmdldC52YWx1ZSl9XHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIHlvdXIgcmVwbHkuLi5cIlxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBweC00IHB5LTMgYmctZ3JheS05MDAvNTAgYm9yZGVyIGJvcmRlci1ncmF5LTcwMCByb3VuZGVkLWxnIHRleHQtd2hpdGUgcGxhY2Vob2xkZXItZ3JheS01MDAgcmVzaXplLW5vbmUgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWluZGlnby01MDAvNTAgZm9jdXM6Ym9yZGVyLWluZGlnby01MDAvNTBcIlxyXG4gICAgICAgICAgICAgIHJvd3M9ezJ9XHJcbiAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiBiZy1ncmF5LTYwMCB0ZXh0LWdyYXktNDAwIHJvdW5kZWQtbGcgY3Vyc29yLW5vdC1hbGxvd2VkIGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIG9wYWNpdHktNTBcIlxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJFbWFpbCBpbnRlZ3JhdGlvbiBjb21pbmcgc29vblwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPFNlbmQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XHJcbiAgICAgICAgICAgICAgICBTZW5kXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIHRleHQtY2VudGVyXCI+Q29taW5nIHNvb248L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgbXQtMiBmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxyXG4gICAgICAgICAgICA8QWxlcnRDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XHJcbiAgICAgICAgICAgIEVtYWlsIHNlbmRpbmcgd2lsbCBiZSBlbmFibGVkIG9uY2UgSW5zdGFudGx5LmFpIGludGVncmF0aW9uIGlzIGNvbXBsZXRlXHJcbiAgICAgICAgICA8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwiZmlsZSI6IkM6L1Byb2plY3RzL0h1Z2UgQ2FwaXRhbC9odWdlLWNhcGl0YWwtbWdtdC9zcmMvY29tcG9uZW50cy9jb2xkLWVtYWlsL0NvbnZlcnNhdGlvblRocmVhZC50c3gifQ==