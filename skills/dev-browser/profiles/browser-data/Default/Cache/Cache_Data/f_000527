import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/uploads/review-generator.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=96fa1abf"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=96fa1abf"; const useMemo = __vite__cjsImport3_react["useMemo"]; const useState = __vite__cjsImport3_react["useState"];
import { Button } from "/src/components/ui/button.tsx";
import { InlineAlert } from "/src/components/ui/inline-alert.tsx?t=1768449300285";
const personas = [
  "Facilities Manager",
  "Operations Director",
  "Procurement Lead"
];
export function ReviewGenerator({ blueprints }) {
  _s();
  const [generated, setGenerated] = useState([]);
  const [status, setStatus] = useState("idle");
  const [notice, setNotice] = useState(null);
  const blueprintMap = useMemo(() => {
    const map = /* @__PURE__ */ new Map();
    blueprints.forEach((blueprint) => map.set(blueprint.productId, blueprint));
    return map;
  }, [blueprints]);
  const handleGenerate = async (productId) => {
    const blueprint = blueprintMap.get(productId);
    if (!blueprint) return;
    setStatus("generating");
    setNotice(null);
    await new Promise((resolve) => setTimeout(resolve, 800));
    const persona = blueprint.targetPersona ?? personas[Math.floor(Math.random() * personas.length)];
    const benefits = blueprint.keyBenefits.join(" and ");
    const content = `As a ${persona.toLowerCase()}, I needed a solution that delivered on ${benefits.toLowerCase()}. After installing the ${blueprint.productName}, our team immediately noticed the difference—reliable performance, effortless setup, and a noticeable boost in productivity. I recommend it to any organization looking for dependable results.`;
    setGenerated((prev) => [{ productId, persona, content }, ...prev]);
    setStatus("idle");
    setNotice("Review draft generated. Copy into your CMS or export as needed.");
  };
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    notice ? /* @__PURE__ */ jsxDEV(InlineAlert, { title: "Review ready", message: notice, variant: "success" }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
      lineNumber: 74,
      columnNumber: 17
    }, this) : null,
    /* @__PURE__ */ jsxDEV("div", { className: "grid gap-4 sm:grid-cols-2 xl:grid-cols-3", children: blueprints.map(
      (blueprint) => /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col gap-3 rounded-lg border border-border bg-card/80 p-4 shadow-subtle", children: [
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("div", { className: "text-sm font-semibold", children: blueprint.productName }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
            lineNumber: 79,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground", children: [
            "SKU ",
            blueprint.productId
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
            lineNumber: 80,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 78,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground", children: [
          "Voice: ",
          blueprint.tone,
          " • Persona: ",
          blueprint.targetPersona
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 82,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "text-xs text-muted-foreground", children: "Key benefits:" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 85,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("ul", { className: "list-disc pl-4 text-xs text-muted-foreground", children: blueprint.keyBenefits.map(
          (benefit) => /* @__PURE__ */ jsxDEV("li", { children: benefit }, benefit, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
            lineNumber: 88,
            columnNumber: 13
          }, this)
        ) }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 86,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV(Button, { variant: "secondary", size: "sm", onClick: () => handleGenerate(blueprint.productId), disabled: status === "generating", children: status === "generating" ? "Drafting..." : "Generate Review" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 91,
          columnNumber: 13
        }, this)
      ] }, blueprint.productId, true, {
        fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
        lineNumber: 77,
        columnNumber: 9
      }, this)
    ) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
      lineNumber: 75,
      columnNumber: 7
    }, this),
    generated.length ? /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
      /* @__PURE__ */ jsxDEV("h3", { className: "text-sm font-semibold uppercase tracking-wide text-muted-foreground", children: "Generated Reviews" }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
        lineNumber: 100,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: generated.map(
        (review) => /* @__PURE__ */ jsxDEV("div", { className: "rounded-lg border border-border/70 bg-card/70 p-4 text-sm shadow-subtle", children: [
          /* @__PURE__ */ jsxDEV("div", { className: "mb-2 text-xs font-semibold text-muted-foreground", children: [
            "SKU ",
            review.productId,
            " • Persona: ",
            review.persona
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
            lineNumber: 104,
            columnNumber: 17
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "leading-relaxed text-foreground", children: review.content }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
            lineNumber: 107,
            columnNumber: 17
          }, this)
        ] }, `${review.productId}-${review.content.slice(0, 12)}`, true, {
          fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
          lineNumber: 103,
          columnNumber: 11
        }, this)
      ) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
        lineNumber: 101,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
      lineNumber: 99,
      columnNumber: 7
    }, this) : null
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx",
    lineNumber: 73,
    columnNumber: 5
  }, this);
}
_s(ReviewGenerator, "jc8hg0UEOx0py/ypUOzy3oNvsOA=");
_c = ReviewGenerator;
var _c;
$RefreshReg$(_c, "ReviewGenerator");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/components/uploads/review-generator.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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QUFBZSxJQUFBcUM7QUFBQUMsYUFBQUQsSUFBQSIsIm5hbWVzIjpbIl9zIiwiJFJlZnJlc2hTaWckIiwidXNlTWVtbyIsInVzZVN0YXRlIiwiQnV0dG9uIiwiSW5saW5lQWxlcnQiLCJwZXJzb25hcyIsIlJldmlld0dlbmVyYXRvciIsImJsdWVwcmludHMiLCJnZW5lcmF0ZWQiLCJzZXRHZW5lcmF0ZWQiLCJzdGF0dXMiLCJzZXRTdGF0dXMiLCJub3RpY2UiLCJzZXROb3RpY2UiLCJibHVlcHJpbnRNYXAiLCJtYXAiLCJNYXAiLCJmb3JFYWNoIiwiYmx1ZXByaW50Iiwic2V0IiwicHJvZHVjdElkIiwiaGFuZGxlR2VuZXJhdGUiLCJnZXQiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJwZXJzb25hIiwidGFyZ2V0UGVyc29uYSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxlbmd0aCIsImJlbmVmaXRzIiwia2V5QmVuZWZpdHMiLCJqb2luIiwiY29udGVudCIsInRvTG93ZXJDYXNlIiwicHJvZHVjdE5hbWUiLCJwcmV2IiwidG9uZSIsImJlbmVmaXQiLCJyZXZpZXciLCJzbGljZSIsIl9jIiwiJFJlZnJlc2hSZWckIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbInJldmlldy1nZW5lcmF0b3IudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XHJcbmltcG9ydCB7IElubGluZUFsZXJ0IH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9pbmxpbmUtYWxlcnRcIjtcclxuaW1wb3J0IHsgUmV2aWV3c0JsdWVwcmludCB9IGZyb20gXCJAL2xpYi90eXBlc1wiO1xyXG5cclxudHlwZSBHZW5lcmF0ZWRSZXZpZXcgPSB7XHJcbiAgcHJvZHVjdElkOiBzdHJpbmc7XHJcbiAgcGVyc29uYTogc3RyaW5nO1xyXG4gIGNvbnRlbnQ6IHN0cmluZztcclxufTtcclxuXHJcbnR5cGUgUmV2aWV3R2VuZXJhdG9yUHJvcHMgPSB7XHJcbiAgYmx1ZXByaW50czogUmV2aWV3c0JsdWVwcmludFtdO1xyXG59O1xyXG5cclxuY29uc3QgcGVyc29uYXMgPSBbXHJcbiAgXCJGYWNpbGl0aWVzIE1hbmFnZXJcIixcclxuICBcIk9wZXJhdGlvbnMgRGlyZWN0b3JcIixcclxuICBcIlByb2N1cmVtZW50IExlYWRcIixcclxuXTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBSZXZpZXdHZW5lcmF0b3IoeyBibHVlcHJpbnRzIH06IFJldmlld0dlbmVyYXRvclByb3BzKSB7XHJcbiAgY29uc3QgW2dlbmVyYXRlZCwgc2V0R2VuZXJhdGVkXSA9IHVzZVN0YXRlPEdlbmVyYXRlZFJldmlld1tdPihbXSk7XHJcbiAgY29uc3QgW3N0YXR1cywgc2V0U3RhdHVzXSA9IHVzZVN0YXRlPFwiaWRsZVwiIHwgXCJnZW5lcmF0aW5nXCI+KFwiaWRsZVwiKTtcclxuICBjb25zdCBbbm90aWNlLCBzZXROb3RpY2VdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IGJsdWVwcmludE1hcCA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgY29uc3QgbWFwID0gbmV3IE1hcDxzdHJpbmcsIFJldmlld3NCbHVlcHJpbnQ+KCk7XHJcbiAgICBibHVlcHJpbnRzLmZvckVhY2goKGJsdWVwcmludCkgPT4gbWFwLnNldChibHVlcHJpbnQucHJvZHVjdElkLCBibHVlcHJpbnQpKTtcclxuICAgIHJldHVybiBtYXA7XHJcbiAgfSwgW2JsdWVwcmludHNdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlR2VuZXJhdGUgPSBhc3luYyAocHJvZHVjdElkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IGJsdWVwcmludCA9IGJsdWVwcmludE1hcC5nZXQocHJvZHVjdElkKTtcclxuICAgIGlmICghYmx1ZXByaW50KSByZXR1cm47XHJcbiAgICBzZXRTdGF0dXMoXCJnZW5lcmF0aW5nXCIpO1xyXG4gICAgc2V0Tm90aWNlKG51bGwpO1xyXG5cclxuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDgwMCkpO1xyXG5cclxuICAgIGNvbnN0IHBlcnNvbmEgPSBibHVlcHJpbnQudGFyZ2V0UGVyc29uYSA/PyBwZXJzb25hc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwZXJzb25hcy5sZW5ndGgpXTtcclxuICAgIGNvbnN0IGJlbmVmaXRzID0gYmx1ZXByaW50LmtleUJlbmVmaXRzLmpvaW4oXCIgYW5kIFwiKTtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBgQXMgYSAke3BlcnNvbmEudG9Mb3dlckNhc2UoKX0sIEkgbmVlZGVkIGEgc29sdXRpb24gdGhhdCBkZWxpdmVyZWQgb24gJHtiZW5lZml0cy50b0xvd2VyQ2FzZSgpfS4gQWZ0ZXIgaW5zdGFsbGluZyB0aGUgJHtibHVlcHJpbnQucHJvZHVjdE5hbWV9LCBvdXIgdGVhbSBpbW1lZGlhdGVseSBub3RpY2VkIHRoZSBkaWZmZXJlbmNl4oCUcmVsaWFibGUgcGVyZm9ybWFuY2UsIGVmZm9ydGxlc3Mgc2V0dXAsIGFuZCBhIG5vdGljZWFibGUgYm9vc3QgaW4gcHJvZHVjdGl2aXR5LiBJIHJlY29tbWVuZCBpdCB0byBhbnkgb3JnYW5pemF0aW9uIGxvb2tpbmcgZm9yIGRlcGVuZGFibGUgcmVzdWx0cy5gO1xyXG5cclxuICAgIHNldEdlbmVyYXRlZCgocHJldikgPT4gW3sgcHJvZHVjdElkLCBwZXJzb25hLCBjb250ZW50IH0sIC4uLnByZXZdKTtcclxuICAgIHNldFN0YXR1cyhcImlkbGVcIik7XHJcbiAgICBzZXROb3RpY2UoXCJSZXZpZXcgZHJhZnQgZ2VuZXJhdGVkLiBDb3B5IGludG8geW91ciBDTVMgb3IgZXhwb3J0IGFzIG5lZWRlZC5cIik7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgIHtub3RpY2UgPyA8SW5saW5lQWxlcnQgdGl0bGU9XCJSZXZpZXcgcmVhZHlcIiBtZXNzYWdlPXtub3RpY2V9IHZhcmlhbnQ9XCJzdWNjZXNzXCIgLz4gOiBudWxsfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ2FwLTQgc206Z3JpZC1jb2xzLTIgeGw6Z3JpZC1jb2xzLTNcIj5cclxuICAgICAgICB7Ymx1ZXByaW50cy5tYXAoKGJsdWVwcmludCkgPT4gKFxyXG4gICAgICAgICAgPGRpdiBrZXk9e2JsdWVwcmludC5wcm9kdWN0SWR9IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ2FwLTMgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWJvcmRlciBiZy1jYXJkLzgwIHAtNCBzaGFkb3ctc3VidGxlXCI+XHJcbiAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGRcIj57Ymx1ZXByaW50LnByb2R1Y3ROYW1lfTwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5TS1Uge2JsdWVwcmludC5wcm9kdWN0SWR9PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgVm9pY2U6IHtibHVlcHJpbnQudG9uZX0g4oCiIFBlcnNvbmE6IHtibHVlcHJpbnQudGFyZ2V0UGVyc29uYX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5LZXkgYmVuZWZpdHM6PC9kaXY+XHJcbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgcGwtNCB0ZXh0LXhzIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgIHtibHVlcHJpbnQua2V5QmVuZWZpdHMubWFwKChiZW5lZml0KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8bGkga2V5PXtiZW5lZml0fT57YmVuZWZpdH08L2xpPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBzaXplPVwic21cIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVHZW5lcmF0ZShibHVlcHJpbnQucHJvZHVjdElkKX0gZGlzYWJsZWQ9e3N0YXR1cyA9PT0gXCJnZW5lcmF0aW5nXCJ9PlxyXG4gICAgICAgICAgICAgIHtzdGF0dXMgPT09IFwiZ2VuZXJhdGluZ1wiID8gXCJEcmFmdGluZy4uLlwiIDogXCJHZW5lcmF0ZSBSZXZpZXdcIn1cclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApKX1cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7Z2VuZXJhdGVkLmxlbmd0aCA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5HZW5lcmF0ZWQgUmV2aWV3czwvaDM+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxyXG4gICAgICAgICAgICB7Z2VuZXJhdGVkLm1hcCgocmV2aWV3KSA9PiAoXHJcbiAgICAgICAgICAgICAgPGRpdiBrZXk9e2Ake3Jldmlldy5wcm9kdWN0SWR9LSR7cmV2aWV3LmNvbnRlbnQuc2xpY2UoMCwgMTIpfWB9IGNsYXNzTmFtZT1cInJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ib3JkZXIvNzAgYmctY2FyZC83MCBwLTQgdGV4dC1zbSBzaGFkb3ctc3VidGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTIgdGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlxyXG4gICAgICAgICAgICAgICAgICBTS1Uge3Jldmlldy5wcm9kdWN0SWR9IOKAoiBQZXJzb25hOiB7cmV2aWV3LnBlcnNvbmF9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxlYWRpbmctcmVsYXhlZCB0ZXh0LWZvcmVncm91bmRcIj57cmV2aWV3LmNvbnRlbnR9PC9wPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApKX1cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApIDogbnVsbH1cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sImZpbGUiOiJDOi9Qcm9qZWN0cy9Tb3VyY2UgNCBJbmR1c3RyaWVzL3NyYy9jb21wb25lbnRzL3VwbG9hZHMvcmV2aWV3LWdlbmVyYXRvci50c3gifQ==