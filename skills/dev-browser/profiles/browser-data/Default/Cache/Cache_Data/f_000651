import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/ui/virtualized-table.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9303f522"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9303f522"; const useRef = __vite__cjsImport3_react["useRef"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { useVirtualizer } from "/node_modules/.vite/deps/@tanstack_react-virtual.js?v=9303f522";
import { cn } from "/src/lib/utils.ts";
export function VirtualizedTable({
  data,
  columns,
  rowHeight = 44,
  className,
  containerHeight = 600,
  emptyMessage = "No data available."
}) {
  _s();
  const parentRef = useRef(null);
  const rowVirtualizer = useVirtualizer({
    count: data.length,
    getScrollElement: () => parentRef.current,
    estimateSize: () => rowHeight,
    overscan: 15
  });
  const colStyle = useMemo(() => {
    return columns.map((col) => ({
      width: col.width,
      textAlign: col.align || "left"
    }));
  }, [columns]);
  if (data.length === 0) {
    return /* @__PURE__ */ jsxDEV("div", { className: cn("overflow-hidden rounded-lg border border-border", className), children: /* @__PURE__ */ jsxDEV("table", { className: "w-full border-collapse bg-card text-sm table-fixed", children: [
      /* @__PURE__ */ jsxDEV("thead", { className: "bg-muted/60 text-left text-xs uppercase tracking-wide", children: /* @__PURE__ */ jsxDEV("tr", { children: columns.map(
        (col, i) => /* @__PURE__ */ jsxDEV(
          "th",
          {
            className: cn(
              "px-4 py-3 font-semibold",
              col.align === "center" && "text-center",
              col.align === "right" && "text-right"
            ),
            style: { width: colStyle[i].width },
            children: col.header
          },
          col.key,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
            lineNumber: 75,
            columnNumber: 15
          },
          this
        )
      ) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 73,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 72,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("tbody", { children: /* @__PURE__ */ jsxDEV("tr", { children: /* @__PURE__ */ jsxDEV("td", { colSpan: columns.length, className: "px-4 py-3 text-center text-sm text-muted-foreground", children: emptyMessage }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 91,
        columnNumber: 15
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 90,
        columnNumber: 13
      }, this) }, void 0, false, {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 89,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 71,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 70,
      columnNumber: 7
    }, this);
  }
  const headerHeight = 44;
  return /* @__PURE__ */ jsxDEV("div", { className: cn("overflow-hidden", className), style: { height: containerHeight }, children: [
    /* @__PURE__ */ jsxDEV("div", { className: "overflow-hidden rounded-t-lg border border-b-0 border-border", children: /* @__PURE__ */ jsxDEV("table", { className: "w-full border-collapse bg-card text-sm table-fixed", children: /* @__PURE__ */ jsxDEV("thead", { className: "bg-muted/60 text-left text-xs uppercase tracking-wide", children: /* @__PURE__ */ jsxDEV("tr", { children: columns.map(
      (col, i) => /* @__PURE__ */ jsxDEV(
        "th",
        {
          className: cn(
            "px-4 py-3 font-semibold",
            col.align === "center" && "text-center",
            col.align === "right" && "text-right"
          ),
          style: { width: colStyle[i].width },
          children: col.header
        },
        col.key,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
          lineNumber: 111,
          columnNumber: 15
        },
        this
      )
    ) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 109,
      columnNumber: 13
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 108,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 107,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
      lineNumber: 106,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(
      "div",
      {
        ref: parentRef,
        className: "overflow-auto rounded-b-lg border border-t-0 border-border [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']",
        style: { height: containerHeight - headerHeight },
        children: /* @__PURE__ */ jsxDEV(
          "div",
          {
            style: {
              height: `${rowVirtualizer.getTotalSize()}px`,
              width: "100%",
              position: "relative"
            },
            children: /* @__PURE__ */ jsxDEV("table", { className: "w-full border-collapse bg-card text-sm table-fixed", style: { position: "absolute", top: 0, left: 0, width: "100%" }, children: /* @__PURE__ */ jsxDEV("tbody", { children: rowVirtualizer.getVirtualItems().map((virtualRow) => {
              const item = data[virtualRow.index];
              const isEven = virtualRow.index % 2 === 0;
              return /* @__PURE__ */ jsxDEV(
                "tr",
                {
                  className: cn(
                    "transition-colors hover:bg-muted/40",
                    !isEven && "bg-muted/10"
                  ),
                  style: {
                    position: "absolute",
                    top: 0,
                    left: 0,
                    width: "100%",
                    height: `${virtualRow.size}px`,
                    transform: `translateY(${virtualRow.start}px)`,
                    display: "table",
                    tableLayout: "fixed"
                  },
                  children: columns.map(
                    (col, i) => /* @__PURE__ */ jsxDEV(
                      "td",
                      {
                        className: cn(
                          "px-4 py-2 align-middle border-b border-border/50",
                          col.align === "center" && "text-center",
                          col.align === "right" && "text-right"
                        ),
                        style: { width: colStyle[i].width, maxWidth: colStyle[i].width },
                        children: /* @__PURE__ */ jsxDEV("div", { className: "truncate overflow-hidden whitespace-nowrap", children: col.render(item, virtualRow.index) }, void 0, false, {
                          fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
                          lineNumber: 174,
                          columnNumber: 25
                        }, this)
                      },
                      col.key,
                      false,
                      {
                        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
                        lineNumber: 165,
                        columnNumber: 21
                      },
                      this
                    )
                  )
                },
                virtualRow.index,
                false,
                {
                  fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
                  lineNumber: 147,
                  columnNumber: 19
                },
                this
              );
            }) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
              lineNumber: 142,
              columnNumber: 13
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
              lineNumber: 141,
              columnNumber: 11
            }, this)
          },
          void 0,
          false,
          {
            fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
            lineNumber: 134,
            columnNumber: 9
          },
          this
        )
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
        lineNumber: 129,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx",
    lineNumber: 104,
    columnNumber: 5
  }, this);
}
_s(VirtualizedTable, "HEEYKZRJ0z2rXEcqL002wgrkudQ=", false, function() {
  return [useVirtualizer];
});
_c = VirtualizedTable;
var _c;
$RefreshReg$(_c, "VirtualizedTable");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/components/ui/virtualized-table.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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LG9CQUFJLENBQUNDLEtBQUtJLE1BQ2pCO0FBQUEsc0JBQUM7QUFBQTtBQUFBLHdCQUVDLFdBQVd0QjtBQUFBQSwwQkFDVDtBQUFBLDBCQUNBa0IsSUFBSUcsVUFBVSxZQUFZO0FBQUEsMEJBQzFCSCxJQUFJRyxVQUFVLFdBQVc7QUFBQSx3QkFDM0I7QUFBQSx3QkFDQSxPQUFPLEVBQUVGLE9BQU9ILFNBQVNNLENBQUMsRUFBRUgsT0FBT3NCLFVBQVV6QixTQUFTTSxDQUFDLEVBQUVILE1BQU07QUFBQSx3QkFFL0QsaUNBQUMsU0FBSSxXQUFVLDhDQUNaRCxjQUFJd0IsT0FBT1QsTUFBTUQsV0FBV0UsS0FBSyxLQURwQztBQUFBO0FBQUE7QUFBQTtBQUFBLCtCQUVBO0FBQUE7QUFBQSxzQkFWS2hCLElBQUlNO0FBQUFBLHNCQURYO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0JBWUE7QUFBQSxrQkFDRDtBQUFBO0FBQUEsZ0JBOUJJUSxXQUFXRTtBQUFBQSxnQkFEbEI7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxjQWdDQTtBQUFBLFlBRUosQ0FBQyxLQXZDSDtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQXdDQSxLQXpDRjtBQUFBO0FBQUE7QUFBQTtBQUFBLG1CQTBDQTtBQUFBO0FBQUEsVUFqREY7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFFBa0RBO0FBQUE7QUFBQSxNQXZERjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUF3REE7QUFBQSxPQWpGRjtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBa0ZBO0FBRUo7QUFBQ3ZDLEdBakplTSxrQkFBZ0I7QUFBQSxVQVVQRixjQUFjO0FBQUE7QUFBQTRDLEtBVnZCMUM7QUFBZ0IsSUFBQTBDO0FBQUFDLGFBQUFELElBQUEiLCJuYW1lcyI6WyJfcyIsIiRSZWZyZXNoU2lnJCIsInVzZVJlZiIsInVzZU1lbW8iLCJ1c2VWaXJ0dWFsaXplciIsImNuIiwiVmlydHVhbGl6ZWRUYWJsZSIsImRhdGEiLCJjb2x1bW5zIiwicm93SGVpZ2h0IiwiY2xhc3NOYW1lIiwiY29udGFpbmVySGVpZ2h0IiwiZW1wdHlNZXNzYWdlIiwicGFyZW50UmVmIiwicm93VmlydHVhbGl6ZXIiLCJjb3VudCIsImxlbmd0aCIsImdldFNjcm9sbEVsZW1lbnQiLCJjdXJyZW50IiwiZXN0aW1hdGVTaXplIiwib3ZlcnNjYW4iLCJjb2xTdHlsZSIsIm1hcCIsImNvbCIsIndpZHRoIiwidGV4dEFsaWduIiwiYWxpZ24iLCJpIiwiaGVhZGVyIiwia2V5IiwiaGVhZGVySGVpZ2h0IiwiaGVpZ2h0IiwiZ2V0VG90YWxTaXplIiwicG9zaXRpb24iLCJ0b3AiLCJsZWZ0IiwiZ2V0VmlydHVhbEl0ZW1zIiwidmlydHVhbFJvdyIsIml0ZW0iLCJpbmRleCIsImlzRXZlbiIsInNpemUiLCJ0cmFuc2Zvcm0iLCJzdGFydCIsImRpc3BsYXkiLCJ0YWJsZUxheW91dCIsIm1heFdpZHRoIiwicmVuZGVyIiwiX2MiLCIkUmVmcmVzaFJlZyQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsidmlydHVhbGl6ZWQtdGFibGUudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlUmVmLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZVZpcnR1YWxpemVyIH0gZnJvbSBcIkB0YW5zdGFjay9yZWFjdC12aXJ0dWFsXCI7XHJcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgdHlwZSBWaXJ0dWFsaXplZENvbHVtbjxUPiA9IHtcclxuICBrZXk6IHN0cmluZztcclxuICBoZWFkZXI6IHN0cmluZztcclxuICB3aWR0aD86IHN0cmluZztcclxuICBhbGlnbj86IFwibGVmdFwiIHwgXCJjZW50ZXJcIiB8IFwicmlnaHRcIjtcclxuICByZW5kZXI6IChpdGVtOiBULCBpbmRleDogbnVtYmVyKSA9PiBSZWFjdC5SZWFjdE5vZGU7XHJcbn07XHJcblxyXG50eXBlIFZpcnR1YWxpemVkVGFibGVQcm9wczxUPiA9IHtcclxuICBkYXRhOiBUW107XHJcbiAgY29sdW1uczogVmlydHVhbGl6ZWRDb2x1bW48VD5bXTtcclxuICByb3dIZWlnaHQ/OiBudW1iZXI7XHJcbiAgY2xhc3NOYW1lPzogc3RyaW5nO1xyXG4gIGNvbnRhaW5lckhlaWdodD86IG51bWJlcjtcclxuICBlbXB0eU1lc3NhZ2U/OiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gVmlydHVhbGl6ZWRUYWJsZTxUPih7XHJcbiAgZGF0YSxcclxuICBjb2x1bW5zLFxyXG4gIHJvd0hlaWdodCA9IDQ0LFxyXG4gIGNsYXNzTmFtZSxcclxuICBjb250YWluZXJIZWlnaHQgPSA2MDAsXHJcbiAgZW1wdHlNZXNzYWdlID0gXCJObyBkYXRhIGF2YWlsYWJsZS5cIixcclxufTogVmlydHVhbGl6ZWRUYWJsZVByb3BzPFQ+KSB7XHJcbiAgY29uc3QgcGFyZW50UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcclxuXHJcbiAgY29uc3Qgcm93VmlydHVhbGl6ZXIgPSB1c2VWaXJ0dWFsaXplcih7XHJcbiAgICBjb3VudDogZGF0YS5sZW5ndGgsXHJcbiAgICBnZXRTY3JvbGxFbGVtZW50OiAoKSA9PiBwYXJlbnRSZWYuY3VycmVudCxcclxuICAgIGVzdGltYXRlU2l6ZTogKCkgPT4gcm93SGVpZ2h0LFxyXG4gICAgb3ZlcnNjYW46IDE1LFxyXG4gIH0pO1xyXG5cclxuICAvLyBNZW1vaXplIGNvbHVtbiB3aWR0aHMgZm9yIGNvbnNpc3RlbnQgbGF5b3V0XHJcbiAgY29uc3QgY29sU3R5bGUgPSB1c2VNZW1vKCgpID0+IHtcclxuICAgIHJldHVybiBjb2x1bW5zLm1hcCgoY29sKSA9PiAoe1xyXG4gICAgICB3aWR0aDogY29sLndpZHRoLFxyXG4gICAgICB0ZXh0QWxpZ246IGNvbC5hbGlnbiB8fCBcImxlZnRcIixcclxuICAgIH0pKTtcclxuICB9LCBbY29sdW1uc10pO1xyXG5cclxuICBpZiAoZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbihcIm92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItYm9yZGVyXCIsIGNsYXNzTmFtZSl9PlxyXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIGJnLWNhcmQgdGV4dC1zbSB0YWJsZS1maXhlZFwiPlxyXG4gICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJnLW11dGVkLzYwIHRleHQtbGVmdCB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbCwgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPHRoXHJcbiAgICAgICAgICAgICAgICAgIGtleT17Y29sLmtleX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICAgICAgICBcInB4LTQgcHktMyBmb250LXNlbWlib2xkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sLmFsaWduID09PSBcImNlbnRlclwiICYmIFwidGV4dC1jZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2wuYWxpZ24gPT09IFwicmlnaHRcIiAmJiBcInRleHQtcmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sU3R5bGVbaV0ud2lkdGggfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2NvbC5oZWFkZXJ9XHJcbiAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgIDx0ZCBjb2xTcGFuPXtjb2x1bW5zLmxlbmd0aH0gY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+XHJcbiAgICAgICAgICAgICAgICB7ZW1wdHlNZXNzYWdlfVxyXG4gICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgIDwvdGFibGU+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGhlYWRlckhlaWdodCA9IDQ0O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPGRpdiBjbGFzc05hbWU9e2NuKFwib3ZlcmZsb3ctaGlkZGVuXCIsIGNsYXNzTmFtZSl9IHN0eWxlPXt7IGhlaWdodDogY29udGFpbmVySGVpZ2h0IH19PlxyXG4gICAgICB7LyogRml4ZWQgaGVhZGVyICovfVxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LWhpZGRlbiByb3VuZGVkLXQtbGcgYm9yZGVyIGJvcmRlci1iLTAgYm9yZGVyLWJvcmRlclwiPlxyXG4gICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGwgYm9yZGVyLWNvbGxhcHNlIGJnLWNhcmQgdGV4dC1zbSB0YWJsZS1maXhlZFwiPlxyXG4gICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJnLW11dGVkLzYwIHRleHQtbGVmdCB0ZXh0LXhzIHVwcGVyY2FzZSB0cmFja2luZy13aWRlXCI+XHJcbiAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICB7Y29sdW1ucy5tYXAoKGNvbCwgaSkgPT4gKFxyXG4gICAgICAgICAgICAgICAgPHRoXHJcbiAgICAgICAgICAgICAgICAgIGtleT17Y29sLmtleX1cclxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICAgICAgICAgICAgICBcInB4LTQgcHktMyBmb250LXNlbWlib2xkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sLmFsaWduID09PSBcImNlbnRlclwiICYmIFwidGV4dC1jZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICBjb2wuYWxpZ24gPT09IFwicmlnaHRcIiAmJiBcInRleHQtcmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sU3R5bGVbaV0ud2lkdGggfX1cclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge2NvbC5oZWFkZXJ9XHJcbiAgICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgICkpfVxyXG4gICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgPC90aGVhZD5cclxuICAgICAgICA8L3RhYmxlPlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBWaXJ0dWFsaXplZCBib2R5ICovfVxyXG4gICAgICA8ZGl2XHJcbiAgICAgICAgcmVmPXtwYXJlbnRSZWZ9XHJcbiAgICAgICAgY2xhc3NOYW1lPVwib3ZlcmZsb3ctYXV0byByb3VuZGVkLWItbGcgYm9yZGVyIGJvcmRlci10LTAgYm9yZGVyLWJvcmRlciBbJjo6LXdlYmtpdC1zY3JvbGxiYXJdOmhpZGRlbiBbLW1zLW92ZXJmbG93LXN0eWxlOidub25lJ10gW3Njcm9sbGJhci13aWR0aDonbm9uZSddXCJcclxuICAgICAgICBzdHlsZT17eyBoZWlnaHQ6IGNvbnRhaW5lckhlaWdodCAtIGhlYWRlckhlaWdodCB9fVxyXG4gICAgICA+XHJcbiAgICAgICAgPGRpdlxyXG4gICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgaGVpZ2h0OiBgJHtyb3dWaXJ0dWFsaXplci5nZXRUb3RhbFNpemUoKX1weGAsXHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcclxuICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInctZnVsbCBib3JkZXItY29sbGFwc2UgYmctY2FyZCB0ZXh0LXNtIHRhYmxlLWZpeGVkXCIgc3R5bGU9e3sgcG9zaXRpb246IFwiYWJzb2x1dGVcIiwgdG9wOiAwLCBsZWZ0OiAwLCB3aWR0aDogXCIxMDAlXCIgfX0+XHJcbiAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICB7cm93VmlydHVhbGl6ZXIuZ2V0VmlydHVhbEl0ZW1zKCkubWFwKCh2aXJ0dWFsUm93KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZGF0YVt2aXJ0dWFsUm93LmluZGV4XTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlzRXZlbiA9IHZpcnR1YWxSb3cuaW5kZXggJSAyID09PSAwO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgICAgPHRyXHJcbiAgICAgICAgICAgICAgICAgICAga2V5PXt2aXJ0dWFsUm93LmluZGV4fVxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Y24oXHJcbiAgICAgICAgICAgICAgICAgICAgICBcInRyYW5zaXRpb24tY29sb3JzIGhvdmVyOmJnLW11dGVkLzQwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAhaXNFdmVuICYmIFwiYmctbXV0ZWQvMTBcIlxyXG4gICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBgJHt2aXJ0dWFsUm93LnNpemV9cHhgLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlWSgke3ZpcnR1YWxSb3cuc3RhcnR9cHgpYCxcclxuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IFwidGFibGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgIHRhYmxlTGF5b3V0OiBcImZpeGVkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgfX1cclxuICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgIHtjb2x1bW5zLm1hcCgoY29sLCBpKSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgICA8dGRcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjb2wua2V5fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicHgtNCBweS0yIGFsaWduLW1pZGRsZSBib3JkZXItYiBib3JkZXItYm9yZGVyLzUwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sLmFsaWduID09PSBcImNlbnRlclwiICYmIFwidGV4dC1jZW50ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb2wuYWxpZ24gPT09IFwicmlnaHRcIiAmJiBcInRleHQtcmlnaHRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogY29sU3R5bGVbaV0ud2lkdGgsIG1heFdpZHRoOiBjb2xTdHlsZVtpXS53aWR0aCB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRydW5jYXRlIG92ZXJmbG93LWhpZGRlbiB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjb2wucmVuZGVyKGl0ZW0sIHZpcnR1YWxSb3cuaW5kZXgpfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgIH0pfVxyXG4gICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICApO1xyXG59XHJcbiJdLCJmaWxlIjoiQzovUHJvamVjdHMvU291cmNlIDQgSW5kdXN0cmllcy9zcmMvY29tcG9uZW50cy91aS92aXJ0dWFsaXplZC10YWJsZS50c3gifQ==