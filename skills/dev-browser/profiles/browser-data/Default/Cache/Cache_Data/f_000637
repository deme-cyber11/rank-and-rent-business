import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/pages/marketing/pricing-update/history/page.tsx");import __vite__cjsImport0_react_jsxDevRuntime from "/node_modules/.vite/deps/react_jsx-dev-runtime.js?v=9303f522"; const jsxDEV = __vite__cjsImport0_react_jsxDevRuntime["jsxDEV"];
import * as RefreshRuntime from "/@react-refresh";
const inWebWorker = typeof WorkerGlobalScope !== "undefined" && self instanceof WorkerGlobalScope;
let prevRefreshReg;
let prevRefreshSig;
if (import.meta.hot && !inWebWorker) {
  if (!window.$RefreshReg$) {
    throw new Error(
      "@vitejs/plugin-react can't detect preamble. Something is wrong."
    );
  }
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = RefreshRuntime.getRefreshReg("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx");
  window.$RefreshSig$ = RefreshRuntime.createSignatureFunctionForTransform;
}
"use client";
var _s = $RefreshSig$();
import __vite__cjsImport3_react from "/node_modules/.vite/deps/react.js?v=9303f522"; const useState = __vite__cjsImport3_react["useState"]; const useEffect = __vite__cjsImport3_react["useEffect"]; const useCallback = __vite__cjsImport3_react["useCallback"]; const useMemo = __vite__cjsImport3_react["useMemo"];
import { useNavigate } from "/node_modules/.vite/deps/react-router-dom.js?v=9303f522";
import { Calendar, Clock, TrendingUp, ArrowLeft, RefreshCw, Search, Filter, X, Download } from "/node_modules/.vite/deps/lucide-react.js?v=9303f522";
import { SectionHeader } from "/src/components/section-header.tsx";
import { Card } from "/src/components/ui/card.tsx";
import { Button } from "/src/components/ui/button.tsx";
import { Badge } from "/src/components/ui/badge.tsx";
import { Input } from "/src/components/ui/input.tsx";
import { InlineAlert } from "/src/components/ui/inline-alert.tsx";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue
} from "/src/components/ui/select.tsx";
import { PriceHistoryTable, RollbackDialog } from "/src/components/pricing/index.ts";
import { useAuth } from "/src/vite/auth/auth-provider.tsx";
import { cn } from "/src/lib/utils.ts";
function getTodayDateString() {
  return (/* @__PURE__ */ new Date()).toISOString().split("T")[0];
}
function getStartOfWeek() {
  const date = /* @__PURE__ */ new Date();
  const day = date.getDay();
  const diff = date.getDate() - day;
  const startOfWeek = new Date(date.setDate(diff));
  return startOfWeek.toISOString().split("T")[0];
}
function getStartOfMonth() {
  const date = /* @__PURE__ */ new Date();
  return new Date(date.getFullYear(), date.getMonth(), 1).toISOString().split("T")[0];
}
function isToday(dateStr) {
  return dateStr.split("T")[0] === getTodayDateString();
}
function isThisWeek(dateStr) {
  const date = new Date(dateStr);
  const startOfWeek = new Date(getStartOfWeek());
  const today = /* @__PURE__ */ new Date();
  today.setHours(23, 59, 59, 999);
  return date >= startOfWeek && date <= today;
}
function isThisMonth(dateStr) {
  const date = new Date(dateStr);
  const startOfMonth = new Date(getStartOfMonth());
  const today = /* @__PURE__ */ new Date();
  today.setHours(23, 59, 59, 999);
  return date >= startOfMonth && date <= today;
}
function SummaryCard({ title, value, icon, variant = "default" }) {
  const variantStyles = {
    default: "bg-card",
    warning: "bg-warning/5 border-warning/20",
    success: "bg-success/5 border-success/20",
    info: "bg-primary/5 border-primary/20"
  };
  const iconStyles = {
    default: "text-muted-foreground",
    warning: "text-warning",
    success: "text-success",
    info: "text-primary"
  };
  return /* @__PURE__ */ jsxDEV(
    Card,
    {
      padding: "md",
      className: cn(
        "flex items-center gap-4",
        variantStyles[variant]
      ),
      children: [
        /* @__PURE__ */ jsxDEV("div", { className: cn("p-2 rounded-lg bg-background/50", iconStyles[variant]), children: icon }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 146,
          columnNumber: 7
        }, this),
        /* @__PURE__ */ jsxDEV("div", { children: [
          /* @__PURE__ */ jsxDEV("p", { className: "text-sm text-muted-foreground", children: title }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 150,
            columnNumber: 9
          }, this),
          /* @__PURE__ */ jsxDEV("p", { className: "text-2xl font-bold", children: value }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 151,
            columnNumber: 9
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 149,
          columnNumber: 7
        }, this)
      ]
    },
    void 0,
    true,
    {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 139,
      columnNumber: 5
    },
    this
  );
}
_c = SummaryCard;
export function PriceChangeHistoryPage() {
  _s();
  const auth = useAuth();
  const navigate = useNavigate();
  const [history, setHistory] = useState([]);
  const [isLoading, setIsLoading] = useState(true);
  const [error, setError] = useState(null);
  const [filters, setFilters] = useState({
    startDate: "",
    endDate: "",
    changeMethod: "all",
    changedBy: "all",
    sku: ""
  });
  const [pagination, setPagination] = useState({
    page: 1,
    limit: 50,
    total: 0,
    totalPages: 0
  });
  const [isRefreshing, setIsRefreshing] = useState(false);
  const [uniqueUsers, setUniqueUsers] = useState([]);
  const [sortColumn, setSortColumn] = useState("changedAt");
  const [sortDirection, setSortDirection] = useState("desc");
  const [isExporting, setIsExporting] = useState(false);
  const [rollbackDialogOpen, setRollbackDialogOpen] = useState(false);
  const [selectedHistoryRecord, setSelectedHistoryRecord] = useState(null);
  const token = auth.session?.access_token;
  const summaryStats = useMemo(() => {
    return {
      total: pagination.total,
      today: history.filter((h) => isToday(h.changedAt)).length,
      thisWeek: history.filter((h) => isThisWeek(h.changedAt)).length,
      thisMonth: history.filter((h) => isThisMonth(h.changedAt)).length
    };
  }, [history, pagination.total]);
  const fetchPriceHistory = useCallback(async (showRefreshState = false) => {
    if (!token) return;
    if (showRefreshState) {
      setIsRefreshing(true);
    } else {
      setIsLoading(true);
    }
    setError(null);
    try {
      const params = new URLSearchParams();
      params.set("page", pagination.page.toString());
      params.set("limit", pagination.limit.toString());
      if (filters.startDate) params.set("startDate", filters.startDate);
      if (filters.endDate) params.set("endDate", filters.endDate);
      if (filters.changeMethod !== "all") params.set("changeMethod", filters.changeMethod);
      if (filters.changedBy && filters.changedBy !== "all") params.set("changedBy", filters.changedBy);
      if (filters.sku) params.set("sku", filters.sku);
      const response = await fetch(`/api/marketing/price-history?${params.toString()}`, {
        method: "GET",
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      const data = await response.json();
      if (!response.ok) {
        throw new Error(data.error || `Failed to fetch price history (${response.status})`);
      }
      if (!data.success) {
        throw new Error(data.error || "Failed to fetch price history");
      }
      setHistory(data.history || []);
      if (data.pagination) {
        setPagination(data.pagination);
      }
      if (data.history && data.history.length > 0) {
        const users = /* @__PURE__ */ new Set();
        data.history.forEach((h) => {
          if (h.changedBy) users.add(h.changedBy);
        });
        setUniqueUsers(Array.from(users).sort());
      }
      console.log(`[PriceChangeHistoryPage] Loaded ${data.history?.length || 0} history records`);
    } catch (err) {
      console.error("[PriceChangeHistoryPage] Error fetching history:", err);
      setError(err instanceof Error ? err.message : "Failed to load price history");
    } finally {
      setIsLoading(false);
      setIsRefreshing(false);
    }
  }, [token, pagination.page, pagination.limit, filters]);
  useEffect(() => {
    if (token) {
      fetchPriceHistory();
    }
  }, [token, pagination.page, filters.startDate, filters.endDate, filters.changeMethod, filters.changedBy, filters.sku]);
  const handleExportCsv = useCallback(async () => {
    if (!token) return;
    setIsExporting(true);
    try {
      const params = new URLSearchParams();
      params.set("export", "csv");
      if (filters.startDate) params.set("startDate", filters.startDate);
      if (filters.endDate) params.set("endDate", filters.endDate);
      if (filters.changeMethod !== "all") params.set("changeMethod", filters.changeMethod);
      if (filters.changedBy && filters.changedBy !== "all") params.set("changedBy", filters.changedBy);
      if (filters.sku) params.set("sku", filters.sku);
      const response = await fetch(`/api/marketing/price-history?${params.toString()}`, {
        method: "GET",
        headers: {
          Authorization: `Bearer ${token}`
        }
      });
      if (!response.ok) {
        throw new Error(`Failed to export CSV (${response.status})`);
      }
      const blob = await response.blob();
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = `price-history-${(/* @__PURE__ */ new Date()).toISOString().split("T")[0]}.csv`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      window.URL.revokeObjectURL(url);
      console.log("[PriceChangeHistoryPage] CSV exported successfully");
    } catch (err) {
      console.error("[PriceChangeHistoryPage] Error exporting CSV:", err);
      setError(err instanceof Error ? err.message : "Failed to export CSV");
    } finally {
      setIsExporting(false);
    }
  }, [token, filters]);
  const handleStartDateChange = (e) => {
    setFilters((prev) => ({ ...prev, startDate: e.target.value }));
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const handleEndDateChange = (e) => {
    setFilters((prev) => ({ ...prev, endDate: e.target.value }));
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const handleChangeMethodChange = (value) => {
    setFilters((prev) => ({ ...prev, changeMethod: value }));
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const handleChangedByChange = (value) => {
    setFilters((prev) => ({ ...prev, changedBy: value }));
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const handleSkuChange = (e) => {
    setFilters((prev) => ({ ...prev, sku: e.target.value }));
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const clearFilters = () => {
    setFilters({
      startDate: "",
      endDate: "",
      changeMethod: "all",
      changedBy: "all",
      sku: ""
    });
    setPagination((prev) => ({ ...prev, page: 1 }));
  };
  const hasActiveFilters = filters.startDate !== "" || filters.endDate !== "" || filters.changeMethod !== "all" || filters.changedBy !== "all" || filters.sku !== "";
  const handlePreviousPage = () => {
    if (pagination.page > 1) {
      setPagination((prev) => ({ ...prev, page: prev.page - 1 }));
    }
  };
  const handleNextPage = () => {
    if (pagination.page < pagination.totalPages) {
      setPagination((prev) => ({ ...prev, page: prev.page + 1 }));
    }
  };
  const handleSort = (column, direction) => {
    setSortColumn(column);
    setSortDirection(direction);
  };
  const handleRollbackClick = (record) => {
    setSelectedHistoryRecord(record);
    setRollbackDialogOpen(true);
  };
  const handleRollback = async (historyId) => {
    const response = await fetch("/api/marketing/rollback-price", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        Authorization: `Bearer ${token}`
      },
      body: JSON.stringify({ historyId })
    });
    if (!response.ok) {
      const error2 = await response.json();
      throw new Error(error2.error || "Failed to rollback price");
    }
    await fetchPriceHistory(true);
  };
  return /* @__PURE__ */ jsxDEV("div", { className: "space-y-6", children: [
    /* @__PURE__ */ jsxDEV(
      SectionHeader,
      {
        title: "Price Change History",
        description: "View complete audit trail of all price changes made through the system.",
        actions: /* @__PURE__ */ jsxDEV("div", { className: "flex gap-2", children: [
          /* @__PURE__ */ jsxDEV(
            Button,
            {
              variant: "outline",
              onClick: handleExportCsv,
              disabled: isExporting || isLoading,
              children: [
                /* @__PURE__ */ jsxDEV(Download, { className: "h-4 w-4" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                  lineNumber: 426,
                  columnNumber: 15
                }, this),
                isExporting ? "Exporting..." : "Export CSV"
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 421,
              columnNumber: 13
            },
            this
          ),
          /* @__PURE__ */ jsxDEV(
            Button,
            {
              variant: "outline",
              onClick: () => navigate("/marketing/pricing-update"),
              children: [
                /* @__PURE__ */ jsxDEV(ArrowLeft, { className: "h-4 w-4" }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                  lineNumber: 433,
                  columnNumber: 15
                }, this),
                "Back to Pricing Update"
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 429,
              columnNumber: 13
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 420,
          columnNumber: 9
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 416,
        columnNumber: 7
      },
      this
    ),
    /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-2 md:grid-cols-4 gap-4", children: [
      /* @__PURE__ */ jsxDEV(
        SummaryCard,
        {
          title: "Total Changes",
          value: summaryStats.total,
          icon: /* @__PURE__ */ jsxDEV(TrendingUp, { className: "h-5 w-5" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 445,
            columnNumber: 17
          }, this),
          variant: "default"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 442,
          columnNumber: 9
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        SummaryCard,
        {
          title: "Changes Today",
          value: summaryStats.today,
          icon: /* @__PURE__ */ jsxDEV(Calendar, { className: "h-5 w-5" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 451,
            columnNumber: 17
          }, this),
          variant: "info"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 448,
          columnNumber: 9
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        SummaryCard,
        {
          title: "Changes This Week",
          value: summaryStats.thisWeek,
          icon: /* @__PURE__ */ jsxDEV(Clock, { className: "h-5 w-5" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 457,
            columnNumber: 17
          }, this),
          variant: "success"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 454,
          columnNumber: 9
        },
        this
      ),
      /* @__PURE__ */ jsxDEV(
        SummaryCard,
        {
          title: "Changes This Month",
          value: summaryStats.thisMonth,
          icon: /* @__PURE__ */ jsxDEV(Calendar, { className: "h-5 w-5" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 463,
            columnNumber: 17
          }, this),
          variant: "warning"
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 460,
          columnNumber: 9
        },
        this
      )
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 441,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(Card, { padding: "md", children: /* @__PURE__ */ jsxDEV("div", { className: "flex flex-col gap-4", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
          /* @__PURE__ */ jsxDEV(Filter, { className: "h-4 w-4 text-muted-foreground" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 473,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("span", { className: "text-sm font-medium", children: "Filters" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 474,
            columnNumber: 15
          }, this),
          hasActiveFilters && /* @__PURE__ */ jsxDEV(Badge, { variant: "secondary", className: "text-xs", children: "Active" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 476,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 472,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex items-center gap-2", children: [
          hasActiveFilters && /* @__PURE__ */ jsxDEV(Button, { variant: "ghost", size: "sm", onClick: clearFilters, children: [
            /* @__PURE__ */ jsxDEV(X, { className: "h-4 w-4" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 484,
              columnNumber: 19
            }, this),
            "Clear"
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 483,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: () => fetchPriceHistory(true),
              disabled: isRefreshing,
              children: [
                /* @__PURE__ */ jsxDEV(RefreshCw, { className: cn("h-4 w-4", isRefreshing && "animate-spin") }, void 0, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                  lineNumber: 494,
                  columnNumber: 17
                }, this),
                "Refresh"
              ]
            },
            void 0,
            true,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 488,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 481,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 471,
        columnNumber: 11
      }, this),
      /* @__PURE__ */ jsxDEV("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-1.5", children: [
          /* @__PURE__ */ jsxDEV("label", { className: "text-xs font-medium text-muted-foreground", children: "From Date" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 503,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            Input,
            {
              type: "date",
              value: filters.startDate,
              onChange: handleStartDateChange,
              className: "h-9"
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 504,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 502,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-1.5", children: [
          /* @__PURE__ */ jsxDEV("label", { className: "text-xs font-medium text-muted-foreground", children: "To Date" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 514,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(
            Input,
            {
              type: "date",
              value: filters.endDate,
              onChange: handleEndDateChange,
              className: "h-9"
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 515,
              columnNumber: 15
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 513,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-1.5", children: [
          /* @__PURE__ */ jsxDEV("label", { className: "text-xs font-medium text-muted-foreground", children: "Change Method" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 525,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(Select, { value: filters.changeMethod, onValueChange: handleChangeMethodChange, children: [
            /* @__PURE__ */ jsxDEV(SelectTrigger, { className: "h-9", children: /* @__PURE__ */ jsxDEV(SelectValue, { placeholder: "Select method" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 528,
              columnNumber: 19
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 527,
              columnNumber: 17
            }, this),
            /* @__PURE__ */ jsxDEV(SelectContent, { children: [
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "all", children: "All Methods" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 531,
                columnNumber: 19
              }, this),
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "manual", children: "Manual" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 532,
                columnNumber: 19
              }, this),
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "bulk_upload", children: "Bulk Upload" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 533,
                columnNumber: 19
              }, this),
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "scheduled", children: "Scheduled" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 534,
                columnNumber: 19
              }, this),
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "api", children: "API" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 535,
                columnNumber: 19
              }, this)
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 530,
              columnNumber: 17
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 526,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 524,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-1.5", children: [
          /* @__PURE__ */ jsxDEV("label", { className: "text-xs font-medium text-muted-foreground", children: "Changed By" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 542,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV(Select, { value: filters.changedBy, onValueChange: handleChangedByChange, children: [
            /* @__PURE__ */ jsxDEV(SelectTrigger, { className: "h-9", children: /* @__PURE__ */ jsxDEV(SelectValue, { placeholder: "Select user" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 545,
              columnNumber: 19
            }, this) }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 544,
              columnNumber: 17
            }, this),
            /* @__PURE__ */ jsxDEV(SelectContent, { children: [
              /* @__PURE__ */ jsxDEV(SelectItem, { value: "all", children: "All Users" }, void 0, false, {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 548,
                columnNumber: 19
              }, this),
              uniqueUsers.map(
                (user) => /* @__PURE__ */ jsxDEV(SelectItem, { value: user, children: user }, user, false, {
                  fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                  lineNumber: 550,
                  columnNumber: 19
                }, this)
              )
            ] }, void 0, true, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 547,
              columnNumber: 17
            }, this)
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 543,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 541,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "space-y-1.5", children: [
          /* @__PURE__ */ jsxDEV("label", { className: "text-xs font-medium text-muted-foreground", children: "Search SKU" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 560,
            columnNumber: 15
          }, this),
          /* @__PURE__ */ jsxDEV("div", { className: "relative", children: [
            /* @__PURE__ */ jsxDEV(Search, { className: "absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" }, void 0, false, {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 562,
              columnNumber: 17
            }, this),
            /* @__PURE__ */ jsxDEV(
              Input,
              {
                type: "text",
                placeholder: "Search SKU...",
                value: filters.sku,
                onChange: handleSkuChange,
                className: "h-9 pl-9"
              },
              void 0,
              false,
              {
                fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
                lineNumber: 563,
                columnNumber: 17
              },
              this
            )
          ] }, void 0, true, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 561,
            columnNumber: 15
          }, this)
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 559,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 500,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 470,
      columnNumber: 9
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 469,
      columnNumber: 7
    }, this),
    error && /* @__PURE__ */ jsxDEV(
      InlineAlert,
      {
        variant: "warning",
        title: "Error Loading History",
        message: error,
        children: /* @__PURE__ */ jsxDEV(Button, { variant: "outline", onClick: () => fetchPriceHistory(), size: "sm", className: "mt-2", children: [
          /* @__PURE__ */ jsxDEV(RefreshCw, { className: "h-4 w-4" }, void 0, false, {
            fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
            lineNumber: 584,
            columnNumber: 13
          }, this),
          "Retry"
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 583,
          columnNumber: 11
        }, this)
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 578,
        columnNumber: 7
      },
      this
    ),
    !error && /* @__PURE__ */ jsxDEV(Card, { padding: "lg", children: /* @__PURE__ */ jsxDEV("div", { className: "space-y-4", children: [
      /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between", children: [
        /* @__PURE__ */ jsxDEV("h3", { className: "text-lg font-semibold text-foreground", children: "Price Change History" }, void 0, false, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 595,
          columnNumber: 15
        }, this),
        history.length > 0 && /* @__PURE__ */ jsxDEV(Badge, { variant: "secondary", children: [
          pagination.total,
          " total change",
          pagination.total !== 1 ? "s" : ""
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 597,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 594,
        columnNumber: 13
      }, this),
      /* @__PURE__ */ jsxDEV(
        PriceHistoryTable,
        {
          history,
          isLoading,
          onSort: handleSort,
          sortColumn,
          sortDirection,
          onRollback: handleRollbackClick
        },
        void 0,
        false,
        {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 603,
          columnNumber: 13
        },
        this
      ),
      !isLoading && history.length > 0 && pagination.totalPages > 1 && /* @__PURE__ */ jsxDEV("div", { className: "flex items-center justify-between pt-4 border-t border-border", children: [
        /* @__PURE__ */ jsxDEV("div", { className: "text-sm text-muted-foreground", children: [
          "Page ",
          pagination.page,
          " of ",
          pagination.totalPages,
          " (",
          pagination.total,
          " total)"
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 615,
          columnNumber: 17
        }, this),
        /* @__PURE__ */ jsxDEV("div", { className: "flex gap-2", children: [
          /* @__PURE__ */ jsxDEV(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: handlePreviousPage,
              disabled: pagination.page === 1,
              children: "Previous"
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 619,
              columnNumber: 19
            },
            this
          ),
          /* @__PURE__ */ jsxDEV(
            Button,
            {
              variant: "outline",
              size: "sm",
              onClick: handleNextPage,
              disabled: pagination.page === pagination.totalPages,
              children: "Next"
            },
            void 0,
            false,
            {
              fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
              lineNumber: 627,
              columnNumber: 19
            },
            this
          )
        ] }, void 0, true, {
          fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
          lineNumber: 618,
          columnNumber: 17
        }, this)
      ] }, void 0, true, {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 614,
        columnNumber: 11
      }, this)
    ] }, void 0, true, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 593,
      columnNumber: 11
    }, this) }, void 0, false, {
      fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
      lineNumber: 592,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ jsxDEV(
      RollbackDialog,
      {
        open: rollbackDialogOpen,
        onOpenChange: setRollbackDialogOpen,
        historyRecord: selectedHistoryRecord,
        onRollback: handleRollback
      },
      void 0,
      false,
      {
        fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
        lineNumber: 643,
        columnNumber: 7
      },
      this
    )
  ] }, void 0, true, {
    fileName: "C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx",
    lineNumber: 414,
    columnNumber: 5
  }, this);
}
_s(PriceChangeHistoryPage, "CUkrWrkK+OXwL5nh0oczgOea33I=", false, function() {
  return [useAuth, useNavigate];
});
_c2 = PriceChangeHistoryPage;
var _c, _c2;
$RefreshReg$(_c, "SummaryCard");
$RefreshReg$(_c2, "PriceChangeHistoryPage");
if (import.meta.hot && !inWebWorker) {
  window.$RefreshReg$ = prevRefreshReg;
  window.$RefreshSig$ = prevRefreshSig;
}
if (import.meta.hot && !inWebWorker) {
  RefreshRuntime.__hmr_import(import.meta.url).then((currentExports) => {
    RefreshRuntime.registerExportsForReactRefresh("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx", currentExports);
    import.meta.hot.accept((nextExports) => {
      if (!nextExports) return;
      const invalidateMessage = RefreshRuntime.validateRefreshBoundaryAndEnqueueUpdate("C:/Projects/Source 4 Industries/src/pages/marketing/pricing-update/history/page.tsx", currentExports, nextExports);
      if (invalidateMessage) import.meta.hot.invalidate(invalidateMessage);
    });
  });
}

//# sourceMappingURL=data:application/json;base64,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U0FBU2tGO0FBQUFBLGNBQ1QsVUFBVXBGLFdBQVdFLFNBQVNGLFdBQVdLO0FBQUFBLGNBQVc7QUFBQTtBQUFBLFlBSnREO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQU9BO0FBQUEsYUFoQkY7QUFBQTtBQUFBO0FBQUE7QUFBQSxlQWlCQTtBQUFBLFdBckJGO0FBQUE7QUFBQTtBQUFBO0FBQUEsYUFzQkE7QUFBQSxTQTNDSjtBQUFBO0FBQUE7QUFBQTtBQUFBLFdBNkNBLEtBOUNGO0FBQUE7QUFBQTtBQUFBO0FBQUEsV0ErQ0E7QUFBQSxJQUlGO0FBQUEsTUFBQztBQUFBO0FBQUEsUUFDQyxNQUFNVztBQUFBQSxRQUNOLGNBQWNDO0FBQUFBLFFBQ2QsZUFBZUM7QUFBQUEsUUFDZixZQUFZd0U7QUFBQUE7QUFBQUEsTUFKZDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFJNkI7QUFBQSxPQXpPL0I7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQTJPQTtBQUVKO0FBQUMzSyxHQTFlZWlFLHdCQUFzQjtBQUFBLFVBQ3ZCcEMsU0FDSXZCLFdBQVc7QUFBQTtBQUFBMkssTUFGZGhIO0FBQXNCLElBQUFELElBQUFpSDtBQUFBQyxhQUFBbEgsSUFBQTtBQUFBa0gsYUFBQUQsS0FBQSIsIm5hbWVzIjpbIl9zIiwiJFJlZnJlc2hTaWckIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsInVzZU1lbW8iLCJ1c2VOYXZpZ2F0ZSIsIkNhbGVuZGFyIiwiQ2xvY2siLCJUcmVuZGluZ1VwIiwiQXJyb3dMZWZ0IiwiUmVmcmVzaEN3IiwiU2VhcmNoIiwiRmlsdGVyIiwiWCIsIkRvd25sb2FkIiwiU2VjdGlvbkhlYWRlciIsIkNhcmQiLCJCdXR0b24iLCJCYWRnZSIsIklucHV0IiwiSW5saW5lQWxlcnQiLCJTZWxlY3QiLCJTZWxlY3RDb250ZW50IiwiU2VsZWN0SXRlbSIsIlNlbGVjdFRyaWdnZXIiLCJTZWxlY3RWYWx1ZSIsIlByaWNlSGlzdG9yeVRhYmxlIiwiUm9sbGJhY2tEaWFsb2ciLCJ1c2VBdXRoIiwiY24iLCJnZXRUb2RheURhdGVTdHJpbmciLCJEYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImdldFN0YXJ0T2ZXZWVrIiwiZGF0ZSIsImRheSIsImdldERheSIsImRpZmYiLCJnZXREYXRlIiwic3RhcnRPZldlZWsiLCJzZXREYXRlIiwiZ2V0U3RhcnRPZk1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImlzVG9kYXkiLCJkYXRlU3RyIiwiaXNUaGlzV2VlayIsInRvZGF5Iiwic2V0SG91cnMiLCJpc1RoaXNNb250aCIsInN0YXJ0T2ZNb250aCIsIlN1bW1hcnlDYXJkIiwidGl0bGUiLCJ2YWx1ZSIsImljb24iLCJ2YXJpYW50IiwidmFyaWFudFN0eWxlcyIsImRlZmF1bHQiLCJ3YXJuaW5nIiwic3VjY2VzcyIsImluZm8iLCJpY29uU3R5bGVzIiwiX2MiLCJQcmljZUNoYW5nZUhpc3RvcnlQYWdlIiwiYXV0aCIsIm5hdmlnYXRlIiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiZmlsdGVycyIsInNldEZpbHRlcnMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwiY2hhbmdlTWV0aG9kIiwiY2hhbmdlZEJ5Iiwic2t1IiwicGFnaW5hdGlvbiIsInNldFBhZ2luYXRpb24iLCJwYWdlIiwibGltaXQiLCJ0b3RhbCIsInRvdGFsUGFnZXMiLCJpc1JlZnJlc2hpbmciLCJzZXRJc1JlZnJlc2hpbmciLCJ1bmlxdWVVc2VycyIsInNldFVuaXF1ZVVzZXJzIiwic29ydENvbHVtbiIsInNldFNvcnRDb2x1bW4iLCJzb3J0RGlyZWN0aW9uIiwic2V0U29ydERpcmVjdGlvbiIsImlzRXhwb3J0aW5nIiwic2V0SXNFeHBvcnRpbmciLCJyb2xsYmFja0RpYWxvZ09wZW4iLCJzZXRSb2xsYmFja0RpYWxvZ09wZW4iLCJzZWxlY3RlZEhpc3RvcnlSZWNvcmQiLCJzZXRTZWxlY3RlZEhpc3RvcnlSZWNvcmQiLCJ0b2tlbiIsInNlc3Npb24iLCJhY2Nlc3NfdG9rZW4iLCJzdW1tYXJ5U3RhdHMiLCJmaWx0ZXIiLCJoIiwiY2hhbmdlZEF0IiwibGVuZ3RoIiwidGhpc1dlZWsiLCJ0aGlzTW9udGgiLCJmZXRjaFByaWNlSGlzdG9yeSIsInNob3dSZWZyZXNoU3RhdGUiLCJwYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJzZXQiLCJ0b1N0cmluZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiQXV0aG9yaXphdGlvbiIsImRhdGEiLCJqc29uIiwib2siLCJFcnJvciIsInN0YXR1cyIsInVzZXJzIiwiU2V0IiwiZm9yRWFjaCIsImFkZCIsIkFycmF5IiwiZnJvbSIsInNvcnQiLCJjb25zb2xlIiwibG9nIiwiZXJyIiwibWVzc2FnZSIsImhhbmRsZUV4cG9ydENzdiIsImJsb2IiLCJ1cmwiLCJ3aW5kb3ciLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJhIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwiYm9keSIsImFwcGVuZENoaWxkIiwiY2xpY2siLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImhhbmRsZVN0YXJ0RGF0ZUNoYW5nZSIsImUiLCJwcmV2IiwidGFyZ2V0IiwiaGFuZGxlRW5kRGF0ZUNoYW5nZSIsImhhbmRsZUNoYW5nZU1ldGhvZENoYW5nZSIsImhhbmRsZUNoYW5nZWRCeUNoYW5nZSIsImhhbmRsZVNrdUNoYW5nZSIsImNsZWFyRmlsdGVycyIsImhhc0FjdGl2ZUZpbHRlcnMiLCJoYW5kbGVQcmV2aW91c1BhZ2UiLCJoYW5kbGVOZXh0UGFnZSIsImhhbmRsZVNvcnQiLCJjb2x1bW4iLCJkaXJlY3Rpb24iLCJoYW5kbGVSb2xsYmFja0NsaWNrIiwicmVjb3JkIiwiaGFuZGxlUm9sbGJhY2siLCJoaXN0b3J5SWQiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwIiwidXNlciIsIl9jMiIsIiRSZWZyZXNoUmVnJCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJwYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcclxuXHJcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XHJcbmltcG9ydCB7IHVzZU5hdmlnYXRlIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcclxuaW1wb3J0IHsgQ2FsZW5kYXIsIENsb2NrLCBUcmVuZGluZ1VwLCBBcnJvd0xlZnQsIFJlZnJlc2hDdywgU2VhcmNoLCBGaWx0ZXIsIFgsIERvd25sb2FkIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiO1xyXG5pbXBvcnQgeyBTZWN0aW9uSGVhZGVyIH0gZnJvbSBcIkAvY29tcG9uZW50cy9zZWN0aW9uLWhlYWRlclwiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9jYXJkXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvYnV0dG9uXCI7XHJcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9iYWRnZVwiO1xyXG5pbXBvcnQgeyBJbnB1dCB9IGZyb20gXCJAL2NvbXBvbmVudHMvdWkvaW5wdXRcIjtcclxuaW1wb3J0IHsgSW5saW5lQWxlcnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lubGluZS1hbGVydFwiO1xyXG5pbXBvcnQge1xyXG4gIFNlbGVjdCxcclxuICBTZWxlY3RDb250ZW50LFxyXG4gIFNlbGVjdEl0ZW0sXHJcbiAgU2VsZWN0VHJpZ2dlcixcclxuICBTZWxlY3RWYWx1ZSxcclxufSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3NlbGVjdFwiO1xyXG5pbXBvcnQgeyBQcmljZUhpc3RvcnlUYWJsZSwgUm9sbGJhY2tEaWFsb2cgfSBmcm9tIFwiQC9jb21wb25lbnRzL3ByaWNpbmdcIjtcclxuaW1wb3J0IHsgdXNlQXV0aCB9IGZyb20gXCJAL3ZpdGUvYXV0aC9hdXRoLXByb3ZpZGVyXCI7XHJcbmltcG9ydCB7IHR5cGUgUHJpY2VIaXN0b3J5IH0gZnJvbSBcIkAvbGliL2RhdGEvcHJpY2luZy11cGRhdGVzXCI7XHJcbmltcG9ydCB7IGNuIH0gZnJvbSBcIkAvbGliL3V0aWxzXCI7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFR5cGVzXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnR5cGUgQ2hhbmdlTWV0aG9kRmlsdGVyID0gXCJhbGxcIiB8IFwibWFudWFsXCIgfCBcImJ1bGtfdXBsb2FkXCIgfCBcInNjaGVkdWxlZFwiIHwgXCJhcGlcIjtcclxuXHJcbmludGVyZmFjZSBGaWx0ZXJzU3RhdGUge1xyXG4gIHN0YXJ0RGF0ZTogc3RyaW5nO1xyXG4gIGVuZERhdGU6IHN0cmluZztcclxuICBjaGFuZ2VNZXRob2Q6IENoYW5nZU1ldGhvZEZpbHRlcjtcclxuICBjaGFuZ2VkQnk6IHN0cmluZztcclxuICBza3U6IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIFN1bW1hcnlTdGF0cyB7XHJcbiAgdG90YWw6IG51bWJlcjtcclxuICB0b2RheTogbnVtYmVyO1xyXG4gIHRoaXNXZWVrOiBudW1iZXI7XHJcbiAgdGhpc01vbnRoOiBudW1iZXI7XHJcbn1cclxuXHJcbmludGVyZmFjZSBQYWdpbmF0aW9uU3RhdGUge1xyXG4gIHBhZ2U6IG51bWJlcjtcclxuICBsaW1pdDogbnVtYmVyO1xyXG4gIHRvdGFsOiBudW1iZXI7XHJcbiAgdG90YWxQYWdlczogbnVtYmVyO1xyXG59XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhlbHBlciBGdW5jdGlvbnNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZnVuY3Rpb24gZ2V0VG9kYXlEYXRlU3RyaW5nKCk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFN0YXJ0T2ZXZWVrKCk6IHN0cmluZyB7XHJcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgY29uc3QgZGF5ID0gZGF0ZS5nZXREYXkoKTtcclxuICBjb25zdCBkaWZmID0gZGF0ZS5nZXREYXRlKCkgLSBkYXk7XHJcbiAgY29uc3Qgc3RhcnRPZldlZWsgPSBuZXcgRGF0ZShkYXRlLnNldERhdGUoZGlmZikpO1xyXG4gIHJldHVybiBzdGFydE9mV2Vlay50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0U3RhcnRPZk1vbnRoKCk6IHN0cmluZyB7XHJcbiAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCAxKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNUb2RheShkYXRlU3RyOiBzdHJpbmcpOiBib29sZWFuIHtcclxuICByZXR1cm4gZGF0ZVN0ci5zcGxpdChcIlRcIilbMF0gPT09IGdldFRvZGF5RGF0ZVN0cmluZygpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1RoaXNXZWVrKGRhdGVTdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcclxuICBjb25zdCBzdGFydE9mV2VlayA9IG5ldyBEYXRlKGdldFN0YXJ0T2ZXZWVrKCkpO1xyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICB0b2RheS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xyXG4gIHJldHVybiBkYXRlID49IHN0YXJ0T2ZXZWVrICYmIGRhdGUgPD0gdG9kYXk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzVGhpc01vbnRoKGRhdGVTdHI6IHN0cmluZyk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShkYXRlU3RyKTtcclxuICBjb25zdCBzdGFydE9mTW9udGggPSBuZXcgRGF0ZShnZXRTdGFydE9mTW9udGgoKSk7XHJcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gIHRvZGF5LnNldEhvdXJzKDIzLCA1OSwgNTksIDk5OSk7XHJcbiAgcmV0dXJuIGRhdGUgPj0gc3RhcnRPZk1vbnRoICYmIGRhdGUgPD0gdG9kYXk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gU3VtbWFyeSBDYXJkIENvbXBvbmVudFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5pbnRlcmZhY2UgU3VtbWFyeUNhcmRQcm9wcyB7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICB2YWx1ZTogbnVtYmVyO1xyXG4gIGljb246IFJlYWN0LlJlYWN0Tm9kZTtcclxuICB2YXJpYW50PzogXCJkZWZhdWx0XCIgfCBcIndhcm5pbmdcIiB8IFwic3VjY2Vzc1wiIHwgXCJpbmZvXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFN1bW1hcnlDYXJkKHsgdGl0bGUsIHZhbHVlLCBpY29uLCB2YXJpYW50ID0gXCJkZWZhdWx0XCIgfTogU3VtbWFyeUNhcmRQcm9wcykge1xyXG4gIGNvbnN0IHZhcmlhbnRTdHlsZXMgPSB7XHJcbiAgICBkZWZhdWx0OiBcImJnLWNhcmRcIixcclxuICAgIHdhcm5pbmc6IFwiYmctd2FybmluZy81IGJvcmRlci13YXJuaW5nLzIwXCIsXHJcbiAgICBzdWNjZXNzOiBcImJnLXN1Y2Nlc3MvNSBib3JkZXItc3VjY2Vzcy8yMFwiLFxyXG4gICAgaW5mbzogXCJiZy1wcmltYXJ5LzUgYm9yZGVyLXByaW1hcnkvMjBcIixcclxuICB9O1xyXG5cclxuICBjb25zdCBpY29uU3R5bGVzID0ge1xyXG4gICAgZGVmYXVsdDogXCJ0ZXh0LW11dGVkLWZvcmVncm91bmRcIixcclxuICAgIHdhcm5pbmc6IFwidGV4dC13YXJuaW5nXCIsXHJcbiAgICBzdWNjZXNzOiBcInRleHQtc3VjY2Vzc1wiLFxyXG4gICAgaW5mbzogXCJ0ZXh0LXByaW1hcnlcIixcclxuICB9O1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPENhcmRcclxuICAgICAgcGFkZGluZz1cIm1kXCJcclxuICAgICAgY2xhc3NOYW1lPXtjbihcclxuICAgICAgICBcImZsZXggaXRlbXMtY2VudGVyIGdhcC00XCIsXHJcbiAgICAgICAgdmFyaWFudFN0eWxlc1t2YXJpYW50XVxyXG4gICAgICApfVxyXG4gICAgPlxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y24oXCJwLTIgcm91bmRlZC1sZyBiZy1iYWNrZ3JvdW5kLzUwXCIsIGljb25TdHlsZXNbdmFyaWFudF0pfT5cclxuICAgICAgICB7aWNvbn1cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj57dGl0bGV9PC9wPlxyXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPnt2YWx1ZX08L3A+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9DYXJkPlxyXG4gICk7XHJcbn1cclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gTWFpbiBDb21wb25lbnRcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFByaWNlQ2hhbmdlSGlzdG9yeVBhZ2UoKSB7XHJcbiAgY29uc3QgYXV0aCA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcblxyXG4gIC8vIFN0YXRlXHJcbiAgY29uc3QgW2hpc3RvcnksIHNldEhpc3RvcnldID0gdXNlU3RhdGU8UHJpY2VIaXN0b3J5W10+KFtdKTtcclxuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XHJcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBbZmlsdGVycywgc2V0RmlsdGVyc10gPSB1c2VTdGF0ZTxGaWx0ZXJzU3RhdGU+KHtcclxuICAgIHN0YXJ0RGF0ZTogXCJcIixcclxuICAgIGVuZERhdGU6IFwiXCIsXHJcbiAgICBjaGFuZ2VNZXRob2Q6IFwiYWxsXCIsXHJcbiAgICBjaGFuZ2VkQnk6IFwiYWxsXCIsXHJcbiAgICBza3U6IFwiXCIsXHJcbiAgfSk7XHJcbiAgY29uc3QgW3BhZ2luYXRpb24sIHNldFBhZ2luYXRpb25dID0gdXNlU3RhdGU8UGFnaW5hdGlvblN0YXRlPih7XHJcbiAgICBwYWdlOiAxLFxyXG4gICAgbGltaXQ6IDUwLFxyXG4gICAgdG90YWw6IDAsXHJcbiAgICB0b3RhbFBhZ2VzOiAwLFxyXG4gIH0pO1xyXG4gIGNvbnN0IFtpc1JlZnJlc2hpbmcsIHNldElzUmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3VuaXF1ZVVzZXJzLCBzZXRVbmlxdWVVc2Vyc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xyXG4gIGNvbnN0IFtzb3J0Q29sdW1uLCBzZXRTb3J0Q29sdW1uXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJjaGFuZ2VkQXRcIik7XHJcbiAgY29uc3QgW3NvcnREaXJlY3Rpb24sIHNldFNvcnREaXJlY3Rpb25dID0gdXNlU3RhdGU8XCJhc2NcIiB8IFwiZGVzY1wiPihcImRlc2NcIik7XHJcbiAgY29uc3QgW2lzRXhwb3J0aW5nLCBzZXRJc0V4cG9ydGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW3JvbGxiYWNrRGlhbG9nT3Blbiwgc2V0Um9sbGJhY2tEaWFsb2dPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuICBjb25zdCBbc2VsZWN0ZWRIaXN0b3J5UmVjb3JkLCBzZXRTZWxlY3RlZEhpc3RvcnlSZWNvcmRdID0gdXNlU3RhdGU8UHJpY2VIaXN0b3J5IHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIC8vIEdldCBhdXRoIHRva2VuXHJcbiAgY29uc3QgdG9rZW4gPSBhdXRoLnNlc3Npb24/LmFjY2Vzc190b2tlbjtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHN1bW1hcnkgc3RhdGlzdGljcyAoYmFzZWQgb24gYWxsIGRhdGEsIG5vdCBqdXN0IGN1cnJlbnQgcGFnZSlcclxuICBjb25zdCBzdW1tYXJ5U3RhdHMgPSB1c2VNZW1vPFN1bW1hcnlTdGF0cz4oKCkgPT4ge1xyXG4gICAgLy8gRm9yIG5vdywgd2UnbGwgY2FsY3VsYXRlIGZyb20gdGhlIGN1cnJlbnQgcGFnZSBkYXRhXHJcbiAgICAvLyBJbiBhIHJlYWwgaW1wbGVtZW50YXRpb24sIHlvdSBtaWdodCB3YW50IHRvIGZldGNoIHRoZXNlIGZyb20gdGhlIEFQSSBzZXBhcmF0ZWx5XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbDogcGFnaW5hdGlvbi50b3RhbCxcclxuICAgICAgdG9kYXk6IGhpc3RvcnkuZmlsdGVyKChoKSA9PiBpc1RvZGF5KGguY2hhbmdlZEF0KSkubGVuZ3RoLFxyXG4gICAgICB0aGlzV2VlazogaGlzdG9yeS5maWx0ZXIoKGgpID0+IGlzVGhpc1dlZWsoaC5jaGFuZ2VkQXQpKS5sZW5ndGgsXHJcbiAgICAgIHRoaXNNb250aDogaGlzdG9yeS5maWx0ZXIoKGgpID0+IGlzVGhpc01vbnRoKGguY2hhbmdlZEF0KSkubGVuZ3RoLFxyXG4gICAgfTtcclxuICB9LCBbaGlzdG9yeSwgcGFnaW5hdGlvbi50b3RhbF0pO1xyXG5cclxuICAvLyBGZXRjaCBwcmljZSBoaXN0b3J5XHJcbiAgY29uc3QgZmV0Y2hQcmljZUhpc3RvcnkgPSB1c2VDYWxsYmFjayhhc3luYyAoc2hvd1JlZnJlc2hTdGF0ZSA9IGZhbHNlKSA9PiB7XHJcbiAgICBpZiAoIXRva2VuKSByZXR1cm47XHJcblxyXG4gICAgaWYgKHNob3dSZWZyZXNoU3RhdGUpIHtcclxuICAgICAgc2V0SXNSZWZyZXNoaW5nKHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgfVxyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gQnVpbGQgcXVlcnkgcGFyYW1zXHJcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTtcclxuICAgICAgcGFyYW1zLnNldChcInBhZ2VcIiwgcGFnaW5hdGlvbi5wYWdlLnRvU3RyaW5nKCkpO1xyXG4gICAgICBwYXJhbXMuc2V0KFwibGltaXRcIiwgcGFnaW5hdGlvbi5saW1pdC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgIGlmIChmaWx0ZXJzLnN0YXJ0RGF0ZSkgcGFyYW1zLnNldChcInN0YXJ0RGF0ZVwiLCBmaWx0ZXJzLnN0YXJ0RGF0ZSk7XHJcbiAgICAgIGlmIChmaWx0ZXJzLmVuZERhdGUpIHBhcmFtcy5zZXQoXCJlbmREYXRlXCIsIGZpbHRlcnMuZW5kRGF0ZSk7XHJcbiAgICAgIGlmIChmaWx0ZXJzLmNoYW5nZU1ldGhvZCAhPT0gXCJhbGxcIikgcGFyYW1zLnNldChcImNoYW5nZU1ldGhvZFwiLCBmaWx0ZXJzLmNoYW5nZU1ldGhvZCk7XHJcbiAgICAgIGlmIChmaWx0ZXJzLmNoYW5nZWRCeSAmJiBmaWx0ZXJzLmNoYW5nZWRCeSAhPT0gXCJhbGxcIikgcGFyYW1zLnNldChcImNoYW5nZWRCeVwiLCBmaWx0ZXJzLmNoYW5nZWRCeSk7XHJcbiAgICAgIGlmIChmaWx0ZXJzLnNrdSkgcGFyYW1zLnNldChcInNrdVwiLCBmaWx0ZXJzLnNrdSk7XHJcblxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL21hcmtldGluZy9wcmljZS1oaXN0b3J5PyR7cGFyYW1zLnRvU3RyaW5nKCl9YCwge1xyXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgYEZhaWxlZCB0byBmZXRjaCBwcmljZSBoaXN0b3J5ICgke3Jlc3BvbnNlLnN0YXR1c30pYCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghZGF0YS5zdWNjZXNzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGRhdGEuZXJyb3IgfHwgXCJGYWlsZWQgdG8gZmV0Y2ggcHJpY2UgaGlzdG9yeVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0SGlzdG9yeShkYXRhLmhpc3RvcnkgfHwgW10pO1xyXG4gICAgICBpZiAoZGF0YS5wYWdpbmF0aW9uKSB7XHJcbiAgICAgICAgc2V0UGFnaW5hdGlvbihkYXRhLnBhZ2luYXRpb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFeHRyYWN0IHVuaXF1ZSB1c2VycyBmb3IgZmlsdGVyIGRyb3Bkb3duXHJcbiAgICAgIGlmIChkYXRhLmhpc3RvcnkgJiYgZGF0YS5oaXN0b3J5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCB1c2VycyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgICAgIGRhdGEuaGlzdG9yeS5mb3JFYWNoKChoOiBQcmljZUhpc3RvcnkpID0+IHtcclxuICAgICAgICAgIGlmIChoLmNoYW5nZWRCeSkgdXNlcnMuYWRkKGguY2hhbmdlZEJ5KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZXRVbmlxdWVVc2VycyhBcnJheS5mcm9tKHVzZXJzKS5zb3J0KCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhgW1ByaWNlQ2hhbmdlSGlzdG9yeVBhZ2VdIExvYWRlZCAke2RhdGEuaGlzdG9yeT8ubGVuZ3RoIHx8IDB9IGhpc3RvcnkgcmVjb3Jkc2ApO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUHJpY2VDaGFuZ2VIaXN0b3J5UGFnZV0gRXJyb3IgZmV0Y2hpbmcgaGlzdG9yeTpcIiwgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGxvYWQgcHJpY2UgaGlzdG9yeVwiKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHNldElzUmVmcmVzaGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW3Rva2VuLCBwYWdpbmF0aW9uLnBhZ2UsIHBhZ2luYXRpb24ubGltaXQsIGZpbHRlcnNdKTtcclxuXHJcbiAgLy8gSW5pdGlhbCBmZXRjaFxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBpZiAodG9rZW4pIHtcclxuICAgICAgZmV0Y2hQcmljZUhpc3RvcnkoKTtcclxuICAgIH1cclxuICB9LCBbdG9rZW4sIHBhZ2luYXRpb24ucGFnZSwgZmlsdGVycy5zdGFydERhdGUsIGZpbHRlcnMuZW5kRGF0ZSwgZmlsdGVycy5jaGFuZ2VNZXRob2QsIGZpbHRlcnMuY2hhbmdlZEJ5LCBmaWx0ZXJzLnNrdV0pO1xyXG5cclxuICAvLyBIYW5kbGUgZXhwb3J0IENTVlxyXG4gIGNvbnN0IGhhbmRsZUV4cG9ydENzdiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcclxuICAgIGlmICghdG9rZW4pIHJldHVybjtcclxuXHJcbiAgICBzZXRJc0V4cG9ydGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEJ1aWxkIHF1ZXJ5IHBhcmFtcyAoc2FtZSBmaWx0ZXJzLCBidXQgd2l0aCBleHBvcnQ9Y3N2KVxyXG4gICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XHJcbiAgICAgIHBhcmFtcy5zZXQoXCJleHBvcnRcIiwgXCJjc3ZcIik7XHJcblxyXG4gICAgICBpZiAoZmlsdGVycy5zdGFydERhdGUpIHBhcmFtcy5zZXQoXCJzdGFydERhdGVcIiwgZmlsdGVycy5zdGFydERhdGUpO1xyXG4gICAgICBpZiAoZmlsdGVycy5lbmREYXRlKSBwYXJhbXMuc2V0KFwiZW5kRGF0ZVwiLCBmaWx0ZXJzLmVuZERhdGUpO1xyXG4gICAgICBpZiAoZmlsdGVycy5jaGFuZ2VNZXRob2QgIT09IFwiYWxsXCIpIHBhcmFtcy5zZXQoXCJjaGFuZ2VNZXRob2RcIiwgZmlsdGVycy5jaGFuZ2VNZXRob2QpO1xyXG4gICAgICBpZiAoZmlsdGVycy5jaGFuZ2VkQnkgJiYgZmlsdGVycy5jaGFuZ2VkQnkgIT09IFwiYWxsXCIpIHBhcmFtcy5zZXQoXCJjaGFuZ2VkQnlcIiwgZmlsdGVycy5jaGFuZ2VkQnkpO1xyXG4gICAgICBpZiAoZmlsdGVycy5za3UpIHBhcmFtcy5zZXQoXCJza3VcIiwgZmlsdGVycy5za3UpO1xyXG5cclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9tYXJrZXRpbmcvcHJpY2UtaGlzdG9yeT8ke3BhcmFtcy50b1N0cmluZygpfWAsIHtcclxuICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2VufWAsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZXhwb3J0IENTViAoJHtyZXNwb25zZS5zdGF0dXN9KWApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHZXQgQ1NWIGRhdGEgYXMgYmxvYlxyXG4gICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xyXG5cclxuICAgICAgLy8gQ3JlYXRlIGRvd25sb2FkIGxpbmtcclxuICAgICAgY29uc3QgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgYS5ocmVmID0gdXJsO1xyXG4gICAgICBhLmRvd25sb2FkID0gYHByaWNlLWhpc3RvcnktJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoXCJUXCIpWzBdfS5jc3ZgO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xyXG4gICAgICBhLmNsaWNrKCk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XHJcbiAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhcIltQcmljZUNoYW5nZUhpc3RvcnlQYWdlXSBDU1YgZXhwb3J0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJbUHJpY2VDaGFuZ2VIaXN0b3J5UGFnZV0gRXJyb3IgZXhwb3J0aW5nIENTVjpcIiwgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGV4cG9ydCBDU1ZcIik7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICBzZXRJc0V4cG9ydGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSwgW3Rva2VuLCBmaWx0ZXJzXSk7XHJcblxyXG4gIC8vIEhhbmRsZSBmaWx0ZXIgY2hhbmdlc1xyXG4gIGNvbnN0IGhhbmRsZVN0YXJ0RGF0ZUNoYW5nZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xyXG4gICAgc2V0RmlsdGVycygocHJldikgPT4gKHsgLi4ucHJldiwgc3RhcnREYXRlOiBlLnRhcmdldC52YWx1ZSB9KSk7XHJcbiAgICBzZXRQYWdpbmF0aW9uKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBwYWdlOiAxIH0pKTsgLy8gUmVzZXQgdG8gZmlyc3QgcGFnZVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUVuZERhdGVDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIHNldEZpbHRlcnMoKHByZXYpID0+ICh7IC4uLnByZXYsIGVuZERhdGU6IGUudGFyZ2V0LnZhbHVlIH0pKTtcclxuICAgIHNldFBhZ2luYXRpb24oKHByZXYpID0+ICh7IC4uLnByZXYsIHBhZ2U6IDEgfSkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUNoYW5nZU1ldGhvZENoYW5nZSA9ICh2YWx1ZTogc3RyaW5nKSA9PiB7XHJcbiAgICBzZXRGaWx0ZXJzKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBjaGFuZ2VNZXRob2Q6IHZhbHVlIGFzIENoYW5nZU1ldGhvZEZpbHRlciB9KSk7XHJcbiAgICBzZXRQYWdpbmF0aW9uKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBwYWdlOiAxIH0pKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVDaGFuZ2VkQnlDaGFuZ2UgPSAodmFsdWU6IHN0cmluZykgPT4ge1xyXG4gICAgc2V0RmlsdGVycygocHJldikgPT4gKHsgLi4ucHJldiwgY2hhbmdlZEJ5OiB2YWx1ZSB9KSk7XHJcbiAgICBzZXRQYWdpbmF0aW9uKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBwYWdlOiAxIH0pKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBoYW5kbGVTa3VDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcclxuICAgIHNldEZpbHRlcnMoKHByZXYpID0+ICh7IC4uLnByZXYsIHNrdTogZS50YXJnZXQudmFsdWUgfSkpO1xyXG4gICAgc2V0UGFnaW5hdGlvbigocHJldikgPT4gKHsgLi4ucHJldiwgcGFnZTogMSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2xlYXJGaWx0ZXJzID0gKCkgPT4ge1xyXG4gICAgc2V0RmlsdGVycyh7XHJcbiAgICAgIHN0YXJ0RGF0ZTogXCJcIixcclxuICAgICAgZW5kRGF0ZTogXCJcIixcclxuICAgICAgY2hhbmdlTWV0aG9kOiBcImFsbFwiLFxyXG4gICAgICBjaGFuZ2VkQnk6IFwiYWxsXCIsXHJcbiAgICAgIHNrdTogXCJcIixcclxuICAgIH0pO1xyXG4gICAgc2V0UGFnaW5hdGlvbigocHJldikgPT4gKHsgLi4ucHJldiwgcGFnZTogMSB9KSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFzQWN0aXZlRmlsdGVycyA9XHJcbiAgICBmaWx0ZXJzLnN0YXJ0RGF0ZSAhPT0gXCJcIiB8fFxyXG4gICAgZmlsdGVycy5lbmREYXRlICE9PSBcIlwiIHx8XHJcbiAgICBmaWx0ZXJzLmNoYW5nZU1ldGhvZCAhPT0gXCJhbGxcIiB8fFxyXG4gICAgZmlsdGVycy5jaGFuZ2VkQnkgIT09IFwiYWxsXCIgfHxcclxuICAgIGZpbHRlcnMuc2t1ICE9PSBcIlwiO1xyXG5cclxuICAvLyBIYW5kbGUgcGFnaW5hdGlvblxyXG4gIGNvbnN0IGhhbmRsZVByZXZpb3VzUGFnZSA9ICgpID0+IHtcclxuICAgIGlmIChwYWdpbmF0aW9uLnBhZ2UgPiAxKSB7XHJcbiAgICAgIHNldFBhZ2luYXRpb24oKHByZXYpID0+ICh7IC4uLnByZXYsIHBhZ2U6IHByZXYucGFnZSAtIDEgfSkpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZU5leHRQYWdlID0gKCkgPT4ge1xyXG4gICAgaWYgKHBhZ2luYXRpb24ucGFnZSA8IHBhZ2luYXRpb24udG90YWxQYWdlcykge1xyXG4gICAgICBzZXRQYWdpbmF0aW9uKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBwYWdlOiBwcmV2LnBhZ2UgKyAxIH0pKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBIYW5kbGUgc29ydFxyXG4gIGNvbnN0IGhhbmRsZVNvcnQgPSAoY29sdW1uOiBzdHJpbmcsIGRpcmVjdGlvbjogXCJhc2NcIiB8IFwiZGVzY1wiKSA9PiB7XHJcbiAgICBzZXRTb3J0Q29sdW1uKGNvbHVtbik7XHJcbiAgICBzZXRTb3J0RGlyZWN0aW9uKGRpcmVjdGlvbik7XHJcbiAgfTtcclxuXHJcbiAgLy8gSGFuZGxlIHJvbGxiYWNrXHJcbiAgY29uc3QgaGFuZGxlUm9sbGJhY2tDbGljayA9IChyZWNvcmQ6IFByaWNlSGlzdG9yeSkgPT4ge1xyXG4gICAgc2V0U2VsZWN0ZWRIaXN0b3J5UmVjb3JkKHJlY29yZCk7XHJcbiAgICBzZXRSb2xsYmFja0RpYWxvZ09wZW4odHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlUm9sbGJhY2sgPSBhc3luYyAoaGlzdG9yeUlkOiBzdHJpbmcpID0+IHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCIvYXBpL21hcmtldGluZy9yb2xsYmFjay1wcmljZVwiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCxcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBoaXN0b3J5SWQgfSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgIGNvbnN0IGVycm9yID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IuZXJyb3IgfHwgXCJGYWlsZWQgdG8gcm9sbGJhY2sgcHJpY2VcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVmcmVzaCB0aGUgaGlzdG9yeSBkYXRhIGFmdGVyIHN1Y2Nlc3NmdWwgcm9sbGJhY2tcclxuICAgIGF3YWl0IGZldGNoUHJpY2VIaXN0b3J5KHRydWUpO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxyXG4gICAgICB7LyogSGVhZGVyICovfVxyXG4gICAgICA8U2VjdGlvbkhlYWRlclxyXG4gICAgICAgIHRpdGxlPVwiUHJpY2UgQ2hhbmdlIEhpc3RvcnlcIlxyXG4gICAgICAgIGRlc2NyaXB0aW9uPVwiVmlldyBjb21wbGV0ZSBhdWRpdCB0cmFpbCBvZiBhbGwgcHJpY2UgY2hhbmdlcyBtYWRlIHRocm91Z2ggdGhlIHN5c3RlbS5cIlxyXG4gICAgICAgIGFjdGlvbnM9e1xyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGdhcC0yXCI+XHJcbiAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRXhwb3J0Q3N2fVxyXG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0V4cG9ydGluZyB8fCBpc0xvYWRpbmd9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgICAge2lzRXhwb3J0aW5nID8gXCJFeHBvcnRpbmcuLi5cIiA6IFwiRXhwb3J0IENTVlwifVxyXG4gICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBuYXZpZ2F0ZShcIi9tYXJrZXRpbmcvcHJpY2luZy11cGRhdGVcIil9XHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPlxyXG4gICAgICAgICAgICAgIEJhY2sgdG8gUHJpY2luZyBVcGRhdGVcclxuICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICB9XHJcbiAgICAgIC8+XHJcblxyXG4gICAgICB7LyogU3VtbWFyeSBDYXJkcyAqL31cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIG1kOmdyaWQtY29scy00IGdhcC00XCI+XHJcbiAgICAgICAgPFN1bW1hcnlDYXJkXHJcbiAgICAgICAgICB0aXRsZT1cIlRvdGFsIENoYW5nZXNcIlxyXG4gICAgICAgICAgdmFsdWU9e3N1bW1hcnlTdGF0cy50b3RhbH1cclxuICAgICAgICAgIGljb249ezxUcmVuZGluZ1VwIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPn1cclxuICAgICAgICAgIHZhcmlhbnQ9XCJkZWZhdWx0XCJcclxuICAgICAgICAvPlxyXG4gICAgICAgIDxTdW1tYXJ5Q2FyZFxyXG4gICAgICAgICAgdGl0bGU9XCJDaGFuZ2VzIFRvZGF5XCJcclxuICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMudG9kYXl9XHJcbiAgICAgICAgICBpY29uPXs8Q2FsZW5kYXIgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+fVxyXG4gICAgICAgICAgdmFyaWFudD1cImluZm9cIlxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFN1bW1hcnlDYXJkXHJcbiAgICAgICAgICB0aXRsZT1cIkNoYW5nZXMgVGhpcyBXZWVrXCJcclxuICAgICAgICAgIHZhbHVlPXtzdW1tYXJ5U3RhdHMudGhpc1dlZWt9XHJcbiAgICAgICAgICBpY29uPXs8Q2xvY2sgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+fVxyXG4gICAgICAgICAgdmFyaWFudD1cInN1Y2Nlc3NcIlxyXG4gICAgICAgIC8+XHJcbiAgICAgICAgPFN1bW1hcnlDYXJkXHJcbiAgICAgICAgICB0aXRsZT1cIkNoYW5nZXMgVGhpcyBNb250aFwiXHJcbiAgICAgICAgICB2YWx1ZT17c3VtbWFyeVN0YXRzLnRoaXNNb250aH1cclxuICAgICAgICAgIGljb249ezxDYWxlbmRhciBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz59XHJcbiAgICAgICAgICB2YXJpYW50PVwid2FybmluZ1wiXHJcbiAgICAgICAgLz5cclxuICAgICAgPC9kaXY+XHJcblxyXG4gICAgICB7LyogRmlsdGVycyAqL31cclxuICAgICAgPENhcmQgcGFkZGluZz1cIm1kXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGdhcC00XCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XHJcbiAgICAgICAgICAgICAgPEZpbHRlciBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XHJcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bVwiPkZpbHRlcnM8L3NwYW4+XHJcbiAgICAgICAgICAgICAge2hhc0FjdGl2ZUZpbHRlcnMgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIiBjbGFzc05hbWU9XCJ0ZXh0LXhzXCI+XHJcbiAgICAgICAgICAgICAgICAgIEFjdGl2ZVxyXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxyXG4gICAgICAgICAgICAgIHtoYXNBY3RpdmVGaWx0ZXJzICYmIChcclxuICAgICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cImdob3N0XCIgc2l6ZT1cInNtXCIgb25DbGljaz17Y2xlYXJGaWx0ZXJzfT5cclxuICAgICAgICAgICAgICAgICAgPFggY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgICAgICAgIENsZWFyXHJcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgIHNpemU9XCJzbVwiXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBmZXRjaFByaWNlSGlzdG9yeSh0cnVlKX1cclxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtpc1JlZnJlc2hpbmd9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPFJlZnJlc2hDdyBjbGFzc05hbWU9e2NuKFwiaC00IHctNFwiLCBpc1JlZnJlc2hpbmcgJiYgXCJhbmltYXRlLXNwaW5cIil9IC8+XHJcbiAgICAgICAgICAgICAgICBSZWZyZXNoXHJcbiAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy01IGdhcC00XCI+XHJcbiAgICAgICAgICAgIHsvKiBEYXRlIEZyb20gRmlsdGVyICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMS41XCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+RnJvbSBEYXRlPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgIHR5cGU9XCJkYXRlXCJcclxuICAgICAgICAgICAgICAgIHZhbHVlPXtmaWx0ZXJzLnN0YXJ0RGF0ZX1cclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTdGFydERhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTlcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIERhdGUgVG8gRmlsdGVyICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMS41XCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+VG8gRGF0ZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPElucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwiZGF0ZVwiXHJcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVycy5lbmREYXRlfVxyXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUVuZERhdGVDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTlcIlxyXG4gICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIENoYW5nZSBNZXRob2QgRmlsdGVyICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMS41XCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1tdXRlZC1mb3JlZ3JvdW5kXCI+Q2hhbmdlIE1ldGhvZDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPFNlbGVjdCB2YWx1ZT17ZmlsdGVycy5jaGFuZ2VNZXRob2R9IG9uVmFsdWVDaGFuZ2U9e2hhbmRsZUNoYW5nZU1ldGhvZENoYW5nZX0+XHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0VHJpZ2dlciBjbGFzc05hbWU9XCJoLTlcIj5cclxuICAgICAgICAgICAgICAgICAgPFNlbGVjdFZhbHVlIHBsYWNlaG9sZGVyPVwiU2VsZWN0IG1ldGhvZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8L1NlbGVjdFRyaWdnZXI+XHJcbiAgICAgICAgICAgICAgICA8U2VsZWN0Q29udGVudD5cclxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJhbGxcIj5BbGwgTWV0aG9kczwvU2VsZWN0SXRlbT5cclxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJtYW51YWxcIj5NYW51YWw8L1NlbGVjdEl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiYnVsa191cGxvYWRcIj5CdWxrIFVwbG9hZDwvU2VsZWN0SXRlbT5cclxuICAgICAgICAgICAgICAgICAgPFNlbGVjdEl0ZW0gdmFsdWU9XCJzY2hlZHVsZWRcIj5TY2hlZHVsZWQ8L1NlbGVjdEl0ZW0+XHJcbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIHZhbHVlPVwiYXBpXCI+QVBJPC9TZWxlY3RJdGVtPlxyXG4gICAgICAgICAgICAgICAgPC9TZWxlY3RDb250ZW50PlxyXG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBDaGFuZ2VkIEJ5IEZpbHRlciAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEuNVwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPkNoYW5nZWQgQnk8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxTZWxlY3QgdmFsdWU9e2ZpbHRlcnMuY2hhbmdlZEJ5fSBvblZhbHVlQ2hhbmdlPXtoYW5kbGVDaGFuZ2VkQnlDaGFuZ2V9PlxyXG4gICAgICAgICAgICAgICAgPFNlbGVjdFRyaWdnZXIgY2xhc3NOYW1lPVwiaC05XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RWYWx1ZSBwbGFjZWhvbGRlcj1cIlNlbGVjdCB1c2VyXCIgLz5cclxuICAgICAgICAgICAgICAgIDwvU2VsZWN0VHJpZ2dlcj5cclxuICAgICAgICAgICAgICAgIDxTZWxlY3RDb250ZW50PlxyXG4gICAgICAgICAgICAgICAgICA8U2VsZWN0SXRlbSB2YWx1ZT1cImFsbFwiPkFsbCBVc2VyczwvU2VsZWN0SXRlbT5cclxuICAgICAgICAgICAgICAgICAge3VuaXF1ZVVzZXJzLm1hcCgodXNlcikgPT4gKFxyXG4gICAgICAgICAgICAgICAgICAgIDxTZWxlY3RJdGVtIGtleT17dXNlcn0gdmFsdWU9e3VzZXJ9PlxyXG4gICAgICAgICAgICAgICAgICAgICAge3VzZXJ9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3RJdGVtPlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvU2VsZWN0Q29udGVudD5cclxuICAgICAgICAgICAgICA8L1NlbGVjdD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogU0tVIFNlYXJjaCAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTEuNVwiPlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJ0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiPlNlYXJjaCBTS1U8L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgLXRyYW5zbGF0ZS15LTEvMiBoLTQgdy00IHRleHQtbXV0ZWQtZm9yZWdyb3VuZFwiIC8+XHJcbiAgICAgICAgICAgICAgICA8SW5wdXRcclxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBTS1UuLi5cIlxyXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVycy5za3V9XHJcbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVTa3VDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImgtOSBwbC05XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvQ2FyZD5cclxuXHJcbiAgICAgIHsvKiBFcnJvciBTdGF0ZSAqL31cclxuICAgICAge2Vycm9yICYmIChcclxuICAgICAgICA8SW5saW5lQWxlcnRcclxuICAgICAgICAgIHZhcmlhbnQ9XCJ3YXJuaW5nXCJcclxuICAgICAgICAgIHRpdGxlPVwiRXJyb3IgTG9hZGluZyBIaXN0b3J5XCJcclxuICAgICAgICAgIG1lc3NhZ2U9e2Vycm9yfVxyXG4gICAgICAgID5cclxuICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVcIiBvbkNsaWNrPXsoKSA9PiBmZXRjaFByaWNlSGlzdG9yeSgpfSBzaXplPVwic21cIiBjbGFzc05hbWU9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgIDxSZWZyZXNoQ3cgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XHJcbiAgICAgICAgICAgIFJldHJ5XHJcbiAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICA8L0lubGluZUFsZXJ0PlxyXG4gICAgICApfVxyXG5cclxuICAgICAgey8qIE1haW4gQ29udGVudCAqL31cclxuICAgICAgeyFlcnJvciAmJiAoXHJcbiAgICAgICAgPENhcmQgcGFkZGluZz1cImxnXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxyXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1mb3JlZ3JvdW5kXCI+UHJpY2UgQ2hhbmdlIEhpc3Rvcnk8L2gzPlxyXG4gICAgICAgICAgICAgIHtoaXN0b3J5Lmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgICAgPEJhZGdlIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAge3BhZ2luYXRpb24udG90YWx9IHRvdGFsIGNoYW5nZXtwYWdpbmF0aW9uLnRvdGFsICE9PSAxID8gXCJzXCIgOiBcIlwifVxyXG4gICAgICAgICAgICAgICAgPC9CYWRnZT5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxQcmljZUhpc3RvcnlUYWJsZVxyXG4gICAgICAgICAgICAgIGhpc3Rvcnk9e2hpc3Rvcnl9XHJcbiAgICAgICAgICAgICAgaXNMb2FkaW5nPXtpc0xvYWRpbmd9XHJcbiAgICAgICAgICAgICAgb25Tb3J0PXtoYW5kbGVTb3J0fVxyXG4gICAgICAgICAgICAgIHNvcnRDb2x1bW49e3NvcnRDb2x1bW59XHJcbiAgICAgICAgICAgICAgc29ydERpcmVjdGlvbj17c29ydERpcmVjdGlvbn1cclxuICAgICAgICAgICAgICBvblJvbGxiYWNrPXtoYW5kbGVSb2xsYmFja0NsaWNrfVxyXG4gICAgICAgICAgICAvPlxyXG5cclxuICAgICAgICAgICAgey8qIFBhZ2luYXRpb24gKi99XHJcbiAgICAgICAgICAgIHshaXNMb2FkaW5nICYmIGhpc3RvcnkubGVuZ3RoID4gMCAmJiBwYWdpbmF0aW9uLnRvdGFsUGFnZXMgPiAxICYmIChcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBwdC00IGJvcmRlci10IGJvcmRlci1ib3JkZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LW11dGVkLWZvcmVncm91bmRcIj5cclxuICAgICAgICAgICAgICAgICAgUGFnZSB7cGFnaW5hdGlvbi5wYWdlfSBvZiB7cGFnaW5hdGlvbi50b3RhbFBhZ2VzfSAoe3BhZ2luYXRpb24udG90YWx9IHRvdGFsKVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTJcIj5cclxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcclxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21cIlxyXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVByZXZpb3VzUGFnZX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGFnaW5hdGlvbi5wYWdlID09PSAxfVxyXG4gICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgICAgUHJldmlvdXNcclxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxCdXR0b25cclxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcclxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVOZXh0UGFnZX1cclxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17cGFnaW5hdGlvbi5wYWdlID09PSBwYWdpbmF0aW9uLnRvdGFsUGFnZXN9XHJcbiAgICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAgICBOZXh0XHJcbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICl9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L0NhcmQ+XHJcbiAgICAgICl9XHJcblxyXG4gICAgICB7LyogUm9sbGJhY2sgRGlhbG9nICovfVxyXG4gICAgICA8Um9sbGJhY2tEaWFsb2dcclxuICAgICAgICBvcGVuPXtyb2xsYmFja0RpYWxvZ09wZW59XHJcbiAgICAgICAgb25PcGVuQ2hhbmdlPXtzZXRSb2xsYmFja0RpYWxvZ09wZW59XHJcbiAgICAgICAgaGlzdG9yeVJlY29yZD17c2VsZWN0ZWRIaXN0b3J5UmVjb3JkfVxyXG4gICAgICAgIG9uUm9sbGJhY2s9e2hhbmRsZVJvbGxiYWNrfVxyXG4gICAgICAvPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufVxyXG4iXSwiZmlsZSI6IkM6L1Byb2plY3RzL1NvdXJjZSA0IEluZHVzdHJpZXMvc3JjL3BhZ2VzL21hcmtldGluZy9wcmljaW5nLXVwZGF0ZS9oaXN0b3J5L3BhZ2UudHN4In0=