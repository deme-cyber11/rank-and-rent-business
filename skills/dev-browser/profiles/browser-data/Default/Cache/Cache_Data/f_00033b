import { supabase } from "/src/lib/supabase.ts";
export class DealDocumentsSubAgent {
  name = "deal-documents-subagent";
  description = "Parses application and bank statement documents using AI";
  async execute(input, onProgress) {
    const startTime = performance.now();
    const warnings = [];
    try {
      const { files, parallelParsing = true } = input;
      const applicationFiles = files.filter((f) => f.category === "application");
      const statementFiles = files.filter((f) => f.category === "statements");
      let applicationResult;
      let statementsResult;
      const parseApplication = async () => {
        if (applicationFiles.length === 0) {
          onProgress?.({
            stage: "parseApplication",
            status: "skipped",
            message: "No application documents provided",
            percentage: 100
          });
          return void 0;
        }
        onProgress?.({
          stage: "parseApplication",
          status: "running",
          message: "Analyzing application documents...",
          percentage: 20
        });
        try {
          const payload = applicationFiles.map((f) => ({
            name: f.name,
            type: f.type,
            content: f.content
          }));
          const { data, error } = await supabase.functions.invoke("parse-application", {
            body: { files: payload }
          });
          if (error) {
            throw new Error(`Application parsing failed: ${error.message}`);
          }
          console.log("[deal-documents-subagent] Application parsed:", {
            deal: data?.deal,
            owners: data?.owners?.length,
            confidence: data?.confidence
          });
          onProgress?.({
            stage: "parseApplication",
            status: "success",
            message: "Application data extracted successfully",
            percentage: 100
          });
          if (Array.isArray(data?.warnings) && data.warnings.length > 0) {
            console.log("[deal-documents-subagent] Application parsing notes:", data.warnings);
          }
          return {
            deal: data?.deal || {},
            owners: Array.isArray(data?.owners) ? data.owners : [],
            confidence: {
              deal: data?.confidence?.deal ?? 0,
              owners: Array.isArray(data?.confidence?.owners) ? data.confidence.owners : []
            },
            missingFields: Array.isArray(data?.missingFields) ? data.missingFields : [],
            warnings: Array.isArray(data?.warnings) ? data.warnings : []
          };
        } catch (err) {
          console.error("[deal-documents-subagent] Application parsing error:", err);
          onProgress?.({
            stage: "parseApplication",
            status: "error",
            message: err instanceof Error ? err.message : "Application parsing failed",
            percentage: 100
          });
          warnings.push(`Application parsing error: ${err instanceof Error ? err.message : "Unknown error"}`);
          return void 0;
        }
      };
      const parseStatements = async () => {
        if (statementFiles.length === 0) {
          onProgress?.({
            stage: "parseStatements",
            status: "skipped",
            message: "No bank statements provided",
            percentage: 100
          });
          return void 0;
        }
        onProgress?.({
          stage: "parseStatements",
          status: "running",
          message: "Analyzing bank statements...",
          percentage: 20
        });
        try {
          const payload = statementFiles.map((f) => ({
            name: f.name,
            type: f.type,
            content: f.content
          }));
          const { data, error } = await supabase.functions.invoke("parse-bank-statements", {
            body: { files: payload }
          });
          if (error) {
            throw new Error(`Bank statement parsing failed: ${error.message}`);
          }
          console.log("[deal-documents-subagent] Statements parsed:", {
            statements: data?.statements?.length,
            fundingPositions: data?.fundingPositions?.length,
            confidence: data?.confidence
          });
          onProgress?.({
            stage: "parseStatements",
            status: "success",
            message: "Bank statements processed",
            percentage: 100
          });
          if (Array.isArray(data?.warnings) && data.warnings.length > 0) {
            console.log("[deal-documents-subagent] Statement parsing notes:", data.warnings);
          }
          const statements = Array.isArray(data?.statements) ? data.statements : [];
          let threeMonthAverages;
          if (statements.length >= 3) {
            const last3 = statements.slice(-3);
            threeMonthAverages = {
              credits: Math.round(last3.reduce((sum, s) => sum + (Number(s.credits) || 0), 0) / 3),
              debits: Math.round(last3.reduce((sum, s) => sum + (Number(s.debits) || 0), 0) / 3),
              avgDailyBalance: Math.round(last3.reduce((sum, s) => sum + (Number(s.average_daily_balance) || 0), 0) / 3)
            };
          }
          return {
            statements,
            fundingPositions: Array.isArray(data?.fundingPositions) ? data.fundingPositions : [],
            threeMonthAverages,
            confidence: {
              statements: Array.isArray(data?.confidence?.statements) ? data.confidence.statements : []
            },
            warnings: Array.isArray(data?.warnings) ? data.warnings : []
          };
        } catch (err) {
          console.error("[deal-documents-subagent] Statement parsing error:", err);
          onProgress?.({
            stage: "parseStatements",
            status: "error",
            message: err instanceof Error ? err.message : "Statement parsing failed",
            percentage: 100
          });
          warnings.push(`Statement parsing error: ${err instanceof Error ? err.message : "Unknown error"}`);
          return void 0;
        }
      };
      if (parallelParsing) {
        console.log("[deal-documents-subagent] Running parallel parsing");
        [applicationResult, statementsResult] = await Promise.all([
          parseApplication(),
          parseStatements()
        ]);
      } else {
        console.log("[deal-documents-subagent] Running sequential parsing");
        applicationResult = await parseApplication();
        statementsResult = await parseStatements();
      }
      const hasApplicationData = applicationResult && Object.keys(applicationResult.deal).length > 0;
      const hasStatementData = statementsResult && statementsResult.statements.length > 0;
      if (!hasApplicationData && !hasStatementData) {
        return {
          success: false,
          error: "Failed to extract any data from provided documents",
          warnings: warnings.length > 0 ? warnings : void 0,
          duration_ms: Math.round(performance.now() - startTime)
        };
      }
      return {
        success: true,
        data: {
          application: applicationResult,
          statements: statementsResult
        },
        warnings: warnings.length > 0 ? warnings : void 0,
        duration_ms: Math.round(performance.now() - startTime)
      };
    } catch (err) {
      console.error("[deal-documents-subagent] Unexpected error:", err);
      return {
        success: false,
        error: err instanceof Error ? err.message : "Unknown error during document parsing",
        warnings: warnings.length > 0 ? warnings : void 0,
        duration_ms: Math.round(performance.now() - startTime)
      };
    }
  }
}
export const dealDocumentsSubAgent = new DealDocumentsSubAgent();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRlYWwtZG9jdW1lbnRzLXN1YmFnZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBEZWFsIERvY3VtZW50cyBTdWItQWdlbnRcclxuICogSGFuZGxlcyBwYXJzaW5nIGJvdGggYXBwbGljYXRpb24gYW5kIGJhbmsgc3RhdGVtZW50IGRvY3VtZW50c1xyXG4gKlxyXG4gKiBSZXNwb25zaWJpbGl0aWVzOlxyXG4gKiAxLiBQYXJzZSBhcHBsaWNhdGlvbiBkb2N1bWVudHMgKGV4dHJhY3QgYnVzaW5lc3MgaW5mbywgb3duZXJzKVxyXG4gKiAyLiBQYXJzZSBiYW5rIHN0YXRlbWVudHMgKGV4dHJhY3QgZmluYW5jaWFscywgZnVuZGluZyBwb3NpdGlvbnMpXHJcbiAqIDMuIFJ1biBib3RoIGluIHBhcmFsbGVsIGZvciBzcGVlZFxyXG4gKiA0LiBWYWxpZGF0ZSBhbmQgY2xlYW4gZXh0cmFjdGVkIGRhdGFcclxuICovXHJcblxyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJy4uL2xpYi9zdXBhYmFzZSc7XHJcbmltcG9ydCB0eXBlIHtcclxuICBTdWJBZ2VudCxcclxuICBBZ2VudFN0ZXBSZXN1bHQsXHJcbiAgQWdlbnRQcm9ncmVzc0NhbGxiYWNrLFxyXG4gIFVwbG9hZEZpbGVJbmZvLFxyXG4gIERvY3VtZW50UGFyc2VSZXN1bHQsXHJcbiAgUGFyc2VkQXBwbGljYXRpb25EYXRhLFxyXG4gIFBhcnNlZFN0YXRlbWVudERhdGFcclxufSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRG9jdW1lbnRzU3ViQWdlbnRJbnB1dCB7XHJcbiAgZmlsZXM6IFVwbG9hZEZpbGVJbmZvW107XHJcbiAgcGFyYWxsZWxQYXJzaW5nPzogYm9vbGVhbjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIERlYWxEb2N1bWVudHNTdWJBZ2VudCBpbXBsZW1lbnRzIFN1YkFnZW50PERvY3VtZW50c1N1YkFnZW50SW5wdXQsIERvY3VtZW50UGFyc2VSZXN1bHQ+IHtcclxuICBuYW1lID0gJ2RlYWwtZG9jdW1lbnRzLXN1YmFnZW50JztcclxuICBkZXNjcmlwdGlvbiA9ICdQYXJzZXMgYXBwbGljYXRpb24gYW5kIGJhbmsgc3RhdGVtZW50IGRvY3VtZW50cyB1c2luZyBBSSc7XHJcblxyXG4gIGFzeW5jIGV4ZWN1dGUoXHJcbiAgICBpbnB1dDogRG9jdW1lbnRzU3ViQWdlbnRJbnB1dCxcclxuICAgIG9uUHJvZ3Jlc3M/OiBBZ2VudFByb2dyZXNzQ2FsbGJhY2tcclxuICApOiBQcm9taXNlPEFnZW50U3RlcFJlc3VsdDxEb2N1bWVudFBhcnNlUmVzdWx0Pj4ge1xyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XHJcbiAgICBjb25zdCB3YXJuaW5nczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGZpbGVzLCBwYXJhbGxlbFBhcnNpbmcgPSB0cnVlIH0gPSBpbnB1dDtcclxuXHJcbiAgICAgIC8vIFNlcGFyYXRlIGZpbGVzIGJ5IGNhdGVnb3J5XHJcbiAgICAgIGNvbnN0IGFwcGxpY2F0aW9uRmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiBmLmNhdGVnb3J5ID09PSAnYXBwbGljYXRpb24nKTtcclxuICAgICAgY29uc3Qgc3RhdGVtZW50RmlsZXMgPSBmaWxlcy5maWx0ZXIoZiA9PiBmLmNhdGVnb3J5ID09PSAnc3RhdGVtZW50cycpO1xyXG5cclxuICAgICAgbGV0IGFwcGxpY2F0aW9uUmVzdWx0OiBQYXJzZWRBcHBsaWNhdGlvbkRhdGEgfCB1bmRlZmluZWQ7XHJcbiAgICAgIGxldCBzdGF0ZW1lbnRzUmVzdWx0OiBQYXJzZWRTdGF0ZW1lbnREYXRhIHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgLy8gUGFyc2UgYXBwbGljYXRpb24gZG9jdW1lbnRzXHJcbiAgICAgIGNvbnN0IHBhcnNlQXBwbGljYXRpb24gPSBhc3luYyAoKTogUHJvbWlzZTxQYXJzZWRBcHBsaWNhdGlvbkRhdGEgfCB1bmRlZmluZWQ+ID0+IHtcclxuICAgICAgICBpZiAoYXBwbGljYXRpb25GaWxlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICAgIHN0YWdlOiAncGFyc2VBcHBsaWNhdGlvbicsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ3NraXBwZWQnLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gYXBwbGljYXRpb24gZG9jdW1lbnRzIHByb3ZpZGVkJyxcclxuICAgICAgICAgICAgcGVyY2VudGFnZTogMTAwLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgIHN0YWdlOiAncGFyc2VBcHBsaWNhdGlvbicsXHJcbiAgICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdBbmFseXppbmcgYXBwbGljYXRpb24gZG9jdW1lbnRzLi4uJyxcclxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDIwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IGFwcGxpY2F0aW9uRmlsZXMubWFwKGYgPT4gKHtcclxuICAgICAgICAgICAgbmFtZTogZi5uYW1lLFxyXG4gICAgICAgICAgICB0eXBlOiBmLnR5cGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGYuY29udGVudCxcclxuICAgICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mdW5jdGlvbnMuaW52b2tlKCdwYXJzZS1hcHBsaWNhdGlvbicsIHtcclxuICAgICAgICAgICAgYm9keTogeyBmaWxlczogcGF5bG9hZCB9LFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXBwbGljYXRpb24gcGFyc2luZyBmYWlsZWQ6ICR7ZXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnW2RlYWwtZG9jdW1lbnRzLXN1YmFnZW50XSBBcHBsaWNhdGlvbiBwYXJzZWQ6Jywge1xyXG4gICAgICAgICAgICBkZWFsOiBkYXRhPy5kZWFsLFxyXG4gICAgICAgICAgICBvd25lcnM6IGRhdGE/Lm93bmVycz8ubGVuZ3RoLFxyXG4gICAgICAgICAgICBjb25maWRlbmNlOiBkYXRhPy5jb25maWRlbmNlLFxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgc3RhZ2U6ICdwYXJzZUFwcGxpY2F0aW9uJyxcclxuICAgICAgICAgICAgc3RhdHVzOiAnc3VjY2VzcycsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdBcHBsaWNhdGlvbiBkYXRhIGV4dHJhY3RlZCBzdWNjZXNzZnVsbHknLFxyXG4gICAgICAgICAgICBwZXJjZW50YWdlOiAxMDAsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBMb2cgd2FybmluZ3MgdG8gY29uc29sZSBidXQgZG9uJ3QgYnViYmxlIHRoZW0gdXAgdG8gdXNlclxyXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YT8ud2FybmluZ3MpICYmIGRhdGEud2FybmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW2RlYWwtZG9jdW1lbnRzLXN1YmFnZW50XSBBcHBsaWNhdGlvbiBwYXJzaW5nIG5vdGVzOicsIGRhdGEud2FybmluZ3MpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRlYWw6IGRhdGE/LmRlYWwgfHwge30sXHJcbiAgICAgICAgICAgIG93bmVyczogQXJyYXkuaXNBcnJheShkYXRhPy5vd25lcnMpID8gZGF0YS5vd25lcnMgOiBbXSxcclxuICAgICAgICAgICAgY29uZmlkZW5jZToge1xyXG4gICAgICAgICAgICAgIGRlYWw6IGRhdGE/LmNvbmZpZGVuY2U/LmRlYWwgPz8gMCxcclxuICAgICAgICAgICAgICBvd25lcnM6IEFycmF5LmlzQXJyYXkoZGF0YT8uY29uZmlkZW5jZT8ub3duZXJzKSA/IGRhdGEuY29uZmlkZW5jZS5vd25lcnMgOiBbXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWlzc2luZ0ZpZWxkczogQXJyYXkuaXNBcnJheShkYXRhPy5taXNzaW5nRmllbGRzKSA/IGRhdGEubWlzc2luZ0ZpZWxkcyA6IFtdLFxyXG4gICAgICAgICAgICB3YXJuaW5nczogQXJyYXkuaXNBcnJheShkYXRhPy53YXJuaW5ncykgPyBkYXRhLndhcm5pbmdzIDogW10sXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1tkZWFsLWRvY3VtZW50cy1zdWJhZ2VudF0gQXBwbGljYXRpb24gcGFyc2luZyBlcnJvcjonLCBlcnIpO1xyXG4gICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgc3RhZ2U6ICdwYXJzZUFwcGxpY2F0aW9uJyxcclxuICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0FwcGxpY2F0aW9uIHBhcnNpbmcgZmFpbGVkJyxcclxuICAgICAgICAgICAgcGVyY2VudGFnZTogMTAwLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB3YXJuaW5ncy5wdXNoKGBBcHBsaWNhdGlvbiBwYXJzaW5nIGVycm9yOiAke2VyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XHJcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFBhcnNlIGJhbmsgc3RhdGVtZW50IGRvY3VtZW50c1xyXG4gICAgICBjb25zdCBwYXJzZVN0YXRlbWVudHMgPSBhc3luYyAoKTogUHJvbWlzZTxQYXJzZWRTdGF0ZW1lbnREYXRhIHwgdW5kZWZpbmVkPiA9PiB7XHJcbiAgICAgICAgaWYgKHN0YXRlbWVudEZpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgc3RhZ2U6ICdwYXJzZVN0YXRlbWVudHMnLFxyXG4gICAgICAgICAgICBzdGF0dXM6ICdza2lwcGVkJyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ05vIGJhbmsgc3RhdGVtZW50cyBwcm92aWRlZCcsXHJcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDEwMCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG9uUHJvZ3Jlc3M/Lih7XHJcbiAgICAgICAgICBzdGFnZTogJ3BhcnNlU3RhdGVtZW50cycsXHJcbiAgICAgICAgICBzdGF0dXM6ICdydW5uaW5nJyxcclxuICAgICAgICAgIG1lc3NhZ2U6ICdBbmFseXppbmcgYmFuayBzdGF0ZW1lbnRzLi4uJyxcclxuICAgICAgICAgIHBlcmNlbnRhZ2U6IDIwLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHN0YXRlbWVudEZpbGVzLm1hcChmID0+ICh7XHJcbiAgICAgICAgICAgIG5hbWU6IGYubmFtZSxcclxuICAgICAgICAgICAgdHlwZTogZi50eXBlLFxyXG4gICAgICAgICAgICBjb250ZW50OiBmLmNvbnRlbnQsXHJcbiAgICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuZnVuY3Rpb25zLmludm9rZSgncGFyc2UtYmFuay1zdGF0ZW1lbnRzJywge1xyXG4gICAgICAgICAgICBib2R5OiB7IGZpbGVzOiBwYXlsb2FkIH0sXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCYW5rIHN0YXRlbWVudCBwYXJzaW5nIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWApO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbZGVhbC1kb2N1bWVudHMtc3ViYWdlbnRdIFN0YXRlbWVudHMgcGFyc2VkOicsIHtcclxuICAgICAgICAgICAgc3RhdGVtZW50czogZGF0YT8uc3RhdGVtZW50cz8ubGVuZ3RoLFxyXG4gICAgICAgICAgICBmdW5kaW5nUG9zaXRpb25zOiBkYXRhPy5mdW5kaW5nUG9zaXRpb25zPy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGNvbmZpZGVuY2U6IGRhdGE/LmNvbmZpZGVuY2UsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBvblByb2dyZXNzPy4oe1xyXG4gICAgICAgICAgICBzdGFnZTogJ3BhcnNlU3RhdGVtZW50cycsXHJcbiAgICAgICAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiAnQmFuayBzdGF0ZW1lbnRzIHByb2Nlc3NlZCcsXHJcbiAgICAgICAgICAgIHBlcmNlbnRhZ2U6IDEwMCxcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIExvZyB3YXJuaW5ncyB0byBjb25zb2xlIGJ1dCBkb24ndCBidWJibGUgdGhlbSB1cCB0byB1c2VyXHJcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkYXRhPy53YXJuaW5ncykgJiYgZGF0YS53YXJuaW5ncy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbZGVhbC1kb2N1bWVudHMtc3ViYWdlbnRdIFN0YXRlbWVudCBwYXJzaW5nIG5vdGVzOicsIGRhdGEud2FybmluZ3MpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENhbGN1bGF0ZSAzLW1vbnRoIGF2ZXJhZ2VzIGlmIHdlIGhhdmUgZW5vdWdoIHN0YXRlbWVudHNcclxuICAgICAgICAgIGNvbnN0IHN0YXRlbWVudHMgPSBBcnJheS5pc0FycmF5KGRhdGE/LnN0YXRlbWVudHMpID8gZGF0YS5zdGF0ZW1lbnRzIDogW107XHJcbiAgICAgICAgICBsZXQgdGhyZWVNb250aEF2ZXJhZ2VzO1xyXG5cclxuICAgICAgICAgIGlmIChzdGF0ZW1lbnRzLmxlbmd0aCA+PSAzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QzID0gc3RhdGVtZW50cy5zbGljZSgtMyk7XHJcbiAgICAgICAgICAgIHRocmVlTW9udGhBdmVyYWdlcyA9IHtcclxuICAgICAgICAgICAgICBjcmVkaXRzOiBNYXRoLnJvdW5kKGxhc3QzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBzdW0gKyAoTnVtYmVyKHMuY3JlZGl0cykgfHwgMCksIDApIC8gMyksXHJcbiAgICAgICAgICAgICAgZGViaXRzOiBNYXRoLnJvdW5kKGxhc3QzLnJlZHVjZSgoc3VtOiBudW1iZXIsIHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiBzdW0gKyAoTnVtYmVyKHMuZGViaXRzKSB8fCAwKSwgMCkgLyAzKSxcclxuICAgICAgICAgICAgICBhdmdEYWlseUJhbGFuY2U6IE1hdGgucm91bmQobGFzdDMucmVkdWNlKChzdW06IG51bWJlciwgczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pID0+IHN1bSArIChOdW1iZXIocy5hdmVyYWdlX2RhaWx5X2JhbGFuY2UpIHx8IDApLCAwKSAvIDMpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHN0YXRlbWVudHMsXHJcbiAgICAgICAgICAgIGZ1bmRpbmdQb3NpdGlvbnM6IEFycmF5LmlzQXJyYXkoZGF0YT8uZnVuZGluZ1Bvc2l0aW9ucykgPyBkYXRhLmZ1bmRpbmdQb3NpdGlvbnMgOiBbXSxcclxuICAgICAgICAgICAgdGhyZWVNb250aEF2ZXJhZ2VzLFxyXG4gICAgICAgICAgICBjb25maWRlbmNlOiB7XHJcbiAgICAgICAgICAgICAgc3RhdGVtZW50czogQXJyYXkuaXNBcnJheShkYXRhPy5jb25maWRlbmNlPy5zdGF0ZW1lbnRzKSA/IGRhdGEuY29uZmlkZW5jZS5zdGF0ZW1lbnRzIDogW10sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHdhcm5pbmdzOiBBcnJheS5pc0FycmF5KGRhdGE/Lndhcm5pbmdzKSA/IGRhdGEud2FybmluZ3MgOiBbXSxcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignW2RlYWwtZG9jdW1lbnRzLXN1YmFnZW50XSBTdGF0ZW1lbnQgcGFyc2luZyBlcnJvcjonLCBlcnIpO1xyXG4gICAgICAgICAgb25Qcm9ncmVzcz8uKHtcclxuICAgICAgICAgICAgc3RhZ2U6ICdwYXJzZVN0YXRlbWVudHMnLFxyXG4gICAgICAgICAgICBzdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnU3RhdGVtZW50IHBhcnNpbmcgZmFpbGVkJyxcclxuICAgICAgICAgICAgcGVyY2VudGFnZTogMTAwLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB3YXJuaW5ncy5wdXNoKGBTdGF0ZW1lbnQgcGFyc2luZyBlcnJvcjogJHtlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InfWApO1xyXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBFeGVjdXRlIHBhcnNpbmcgLSBwYXJhbGxlbCBvciBzZXF1ZW50aWFsXHJcbiAgICAgIGlmIChwYXJhbGxlbFBhcnNpbmcpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW2RlYWwtZG9jdW1lbnRzLXN1YmFnZW50XSBSdW5uaW5nIHBhcmFsbGVsIHBhcnNpbmcnKTtcclxuICAgICAgICBbYXBwbGljYXRpb25SZXN1bHQsIHN0YXRlbWVudHNSZXN1bHRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgcGFyc2VBcHBsaWNhdGlvbigpLFxyXG4gICAgICAgICAgcGFyc2VTdGF0ZW1lbnRzKCksXHJcbiAgICAgICAgXSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tkZWFsLWRvY3VtZW50cy1zdWJhZ2VudF0gUnVubmluZyBzZXF1ZW50aWFsIHBhcnNpbmcnKTtcclxuICAgICAgICBhcHBsaWNhdGlvblJlc3VsdCA9IGF3YWl0IHBhcnNlQXBwbGljYXRpb24oKTtcclxuICAgICAgICBzdGF0ZW1lbnRzUmVzdWx0ID0gYXdhaXQgcGFyc2VTdGF0ZW1lbnRzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENoZWNrIGlmIHdlIGdvdCBhbnkgdXNlZnVsIGRhdGFcclxuICAgICAgY29uc3QgaGFzQXBwbGljYXRpb25EYXRhID0gYXBwbGljYXRpb25SZXN1bHQgJiYgT2JqZWN0LmtleXMoYXBwbGljYXRpb25SZXN1bHQuZGVhbCkubGVuZ3RoID4gMDtcclxuICAgICAgY29uc3QgaGFzU3RhdGVtZW50RGF0YSA9IHN0YXRlbWVudHNSZXN1bHQgJiYgc3RhdGVtZW50c1Jlc3VsdC5zdGF0ZW1lbnRzLmxlbmd0aCA+IDA7XHJcblxyXG4gICAgICBpZiAoIWhhc0FwcGxpY2F0aW9uRGF0YSAmJiAhaGFzU3RhdGVtZW50RGF0YSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGV4dHJhY3QgYW55IGRhdGEgZnJvbSBwcm92aWRlZCBkb2N1bWVudHMnLFxyXG4gICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzLmxlbmd0aCA+IDAgPyB3YXJuaW5ncyA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgIGR1cmF0aW9uX21zOiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKSxcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgYXBwbGljYXRpb246IGFwcGxpY2F0aW9uUmVzdWx0LFxyXG4gICAgICAgICAgc3RhdGVtZW50czogc3RhdGVtZW50c1Jlc3VsdCxcclxuICAgICAgICB9LFxyXG4gICAgICAgIHdhcm5pbmdzOiB3YXJuaW5ncy5sZW5ndGggPiAwID8gd2FybmluZ3MgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgZHVyYXRpb25fbXM6IE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydFRpbWUpLFxyXG4gICAgICB9O1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdbZGVhbC1kb2N1bWVudHMtc3ViYWdlbnRdIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdVbmtub3duIGVycm9yIGR1cmluZyBkb2N1bWVudCBwYXJzaW5nJyxcclxuICAgICAgICB3YXJuaW5nczogd2FybmluZ3MubGVuZ3RoID4gMCA/IHdhcm5pbmdzIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIGR1cmF0aW9uX21zOiBNYXRoLnJvdW5kKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnRUaW1lKSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcclxuZXhwb3J0IGNvbnN0IGRlYWxEb2N1bWVudHNTdWJBZ2VudCA9IG5ldyBEZWFsRG9jdW1lbnRzU3ViQWdlbnQoKTtcclxuIl0sIm1hcHBpbmdzIjoiQUFXQSxTQUFTLGdCQUFnQjtBQWdCbEIsYUFBTSxzQkFBdUY7QUFBQSxFQUNsRyxPQUFPO0FBQUEsRUFDUCxjQUFjO0FBQUEsRUFFZCxNQUFNLFFBQ0osT0FDQSxZQUMrQztBQUMvQyxVQUFNLFlBQVksWUFBWSxJQUFJO0FBQ2xDLFVBQU0sV0FBcUIsQ0FBQztBQUU1QixRQUFJO0FBQ0YsWUFBTSxFQUFFLE9BQU8sa0JBQWtCLEtBQUssSUFBSTtBQUcxQyxZQUFNLG1CQUFtQixNQUFNLE9BQU8sT0FBSyxFQUFFLGFBQWEsYUFBYTtBQUN2RSxZQUFNLGlCQUFpQixNQUFNLE9BQU8sT0FBSyxFQUFFLGFBQWEsWUFBWTtBQUVwRSxVQUFJO0FBQ0osVUFBSTtBQUdKLFlBQU0sbUJBQW1CLFlBQXdEO0FBQy9FLFlBQUksaUJBQWlCLFdBQVcsR0FBRztBQUNqQyx1QkFBYTtBQUFBLFlBQ1gsT0FBTztBQUFBLFlBQ1AsUUFBUTtBQUFBLFlBQ1IsU0FBUztBQUFBLFlBQ1QsWUFBWTtBQUFBLFVBQ2QsQ0FBQztBQUNELGlCQUFPO0FBQUEsUUFDVDtBQUVBLHFCQUFhO0FBQUEsVUFDWCxPQUFPO0FBQUEsVUFDUCxRQUFRO0FBQUEsVUFDUixTQUFTO0FBQUEsVUFDVCxZQUFZO0FBQUEsUUFDZCxDQUFDO0FBRUQsWUFBSTtBQUNGLGdCQUFNLFVBQVUsaUJBQWlCLElBQUksUUFBTTtBQUFBLFlBQ3pDLE1BQU0sRUFBRTtBQUFBLFlBQ1IsTUFBTSxFQUFFO0FBQUEsWUFDUixTQUFT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